var app=function(){"use strict";function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function r(e){return e()}function s(){return Object.create(null)}function o(e){e.forEach(r)}function a(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let l;function c(e,t){return l||(l=document.createElement("a")),l.href=t,e===l.href}function u(e,t,n,r){if(e){const s=d(e,t,n,r);return e[0](s)}}function d(e,t,r,s){return e[1]&&s?n(r.ctx.slice(),e[1](s(t))):r.ctx}function f(e,t,n,r){if(e[2]&&r){const s=e[2](r(n));if(void 0===t.dirty)return s;if("object"==typeof s){const e=[],n=Math.max(t.dirty.length,s.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|s[r];return e}return t.dirty|s}return t.dirty}function h(e,t,n,r,s,o){if(s){const a=d(t,n,r,o);e.p(a,s)}}function p(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}const m="undefined"!=typeof window;let g=m?()=>window.performance.now():()=>Date.now(),b=m?e=>requestAnimationFrame(e):e;const y=new Set;function $(e){y.forEach((t=>{t.c(e)||(y.delete(t),t.f())})),0!==y.size&&b($)}function v(e){let t;return 0===y.size&&b($),{promise:new Promise((n=>{y.add(t={c:e,f:n})})),abort(){y.delete(t)}}}function x(e,t){e.appendChild(t)}function w(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function k(e){const t=C("style");return function(e,t){x(e.head||e,t)}(w(e),t),t.sheet}function _(e,t,n){e.insertBefore(t,n||null)}function S(e){e.parentNode.removeChild(e)}function C(e){return document.createElement(e)}function E(e){return document.createTextNode(e)}function T(){return E(" ")}function L(){return E("")}function j(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function A(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function N(e){return""===e?null:+e}function B(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function R(e,t){e.value=null==t?"":t}function D(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}e.selectedIndex=-1}function P(e,t,n){e.classList[n?"add":"remove"](t)}function I(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(e,n,r,t),s}class z{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){var r;this.e||(this.is_svg?this.e=(r=t.nodeName,document.createElementNS("http://www.w3.org/2000/svg",r)):this.e=C(t.nodeName),this.t=t,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)_(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(S)}}const M=new Map;let O,F=0;function H(e,t,n,r,s,o,a,i=0){const l=16.666/r;let c="{\n";for(let e=0;e<=1;e+=l){const r=t+(n-t)*o(e);c+=100*e+`%{${a(r,1-r)}}\n`}const u=c+`100% {${a(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${i}`,f=w(e),{stylesheet:h,rules:p}=M.get(f)||function(e,t){const n={stylesheet:k(t),rules:{}};return M.set(e,n),n}(f,e);p[d]||(p[d]=!0,h.insertRule(`@keyframes ${d} ${u}`,h.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?`${m}, `:""}${d} ${r}ms linear ${s}ms 1 both`,F+=1,d}function U(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),s=n.length-r.length;s&&(e.style.animation=r.join(", "),F-=s,F||b((()=>{F||(M.forEach((e=>{const{stylesheet:t}=e;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.rules={}})),M.clear())})))}function W(e){O=e}function G(){if(!O)throw new Error("Function called outside component initialization");return O}function q(e){G().$$.on_mount.push(e)}function K(e){G().$$.on_destroy.push(e)}function V(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const Z=[],J=[],Y=[],X=[],Q=Promise.resolve();let ee=!1;function te(){ee||(ee=!0,Q.then(le))}function ne(){return te(),Q}function re(e){Y.push(e)}function se(e){X.push(e)}const oe=new Set;let ae,ie=0;function le(){const e=O;do{for(;ie<Z.length;){const e=Z[ie];ie++,W(e),ce(e.$$)}for(W(null),Z.length=0,ie=0;J.length;)J.pop()();for(let e=0;e<Y.length;e+=1){const t=Y[e];oe.has(t)||(oe.add(t),t())}Y.length=0}while(Z.length);for(;X.length;)X.pop()();ee=!1,oe.clear(),W(e)}function ce(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(re)}}function ue(){return ae||(ae=Promise.resolve(),ae.then((()=>{ae=null}))),ae}function de(e,t,n){e.dispatchEvent(I(`${t?"intro":"outro"}${n}`))}const fe=new Set;let he;function pe(){he={r:0,c:[],p:he}}function me(){he.r||o(he.c),he=he.p}function ge(e,t){e&&e.i&&(fe.delete(e),e.i(t))}function be(e,t,n,r){if(e&&e.o){if(fe.has(e))return;fe.add(e),he.c.push((()=>{fe.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}else r&&r()}const ye={duration:0};function $e(n,r,s){let o,i,l=r(n,s),c=!1,u=0;function d(){o&&U(n,o)}function f(){const{delay:r=0,duration:s=300,easing:a=t,tick:f=e,css:h}=l||ye;h&&(o=H(n,0,1,s,r,a,h,u++)),f(0,1);const p=g()+r,m=p+s;i&&i.abort(),c=!0,re((()=>de(n,!0,"start"))),i=v((e=>{if(c){if(e>=m)return f(1,0),de(n,!0,"end"),d(),c=!1;if(e>=p){const t=a((e-p)/s);f(t,1-t)}}return c}))}let h=!1;return{start(){h||(h=!0,U(n),a(l)?(l=l(),ue().then(f)):f())},invalidate(){h=!1},end(){c&&(d(),c=!1)}}}function ve(n,r,s){let i,l=r(n,s),c=!0;const u=he;function d(){const{delay:r=0,duration:s=300,easing:a=t,tick:d=e,css:f}=l||ye;f&&(i=H(n,1,0,s,r,a,f));const h=g()+r,p=h+s;re((()=>de(n,!1,"start"))),v((e=>{if(c){if(e>=p)return d(0,1),de(n,!1,"end"),--u.r||o(u.c),!1;if(e>=h){const t=a((e-h)/s);d(1-t,t)}}return c}))}return u.r+=1,a(l)?ue().then((()=>{l=l(),d()})):d(),{end(e){e&&l.tick&&l.tick(1,0),c&&(i&&U(n,i),c=!1)}}}function xe(n,r,s,i){let l=r(n,s),c=i?0:1,u=null,d=null,f=null;function h(){f&&U(n,f)}function p(e,t){const n=e.b-c;return t*=Math.abs(n),{a:c,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function m(r){const{delay:s=0,duration:a=300,easing:i=t,tick:m=e,css:b}=l||ye,y={start:g()+s,b:r};r||(y.group=he,he.r+=1),u||d?d=y:(b&&(h(),f=H(n,c,r,a,s,i,b)),r&&m(0,1),u=p(y,a),re((()=>de(n,r,"start"))),v((e=>{if(d&&e>d.start&&(u=p(d,a),d=null,de(n,u.b,"start"),b&&(h(),f=H(n,c,u.b,u.duration,0,i,l.css))),u)if(e>=u.end)m(c=u.b,1-c),de(n,u.b,"end"),d||(u.b?h():--u.group.r||o(u.group.c)),u=null;else if(e>=u.start){const t=e-u.start;c=u.a+u.d*i(t/u.duration),m(c,1-c)}return!(!u&&!d)})))}return{run(e){a(l)?ue().then((()=>{l=l(),m(e)})):m(e)},end(){h(),u=d=null}}}function we(e,t){e.d(1),t.delete(e.key)}function ke(e,t){be(e,1,1,(()=>{t.delete(e.key)}))}function _e(e,t,n,r,s,o,a,i,l,c,u,d){let f=e.length,h=o.length,p=f;const m={};for(;p--;)m[e[p].key]=p;const g=[],b=new Map,y=new Map;for(p=h;p--;){const e=d(s,o,p),i=n(e);let l=a.get(i);l?r&&l.p(e,t):(l=c(i,e),l.c()),b.set(i,g[p]=l),i in m&&y.set(i,Math.abs(p-m[i]))}const $=new Set,v=new Set;function x(e){ge(e,1),e.m(i,u),a.set(e.key,e),u=e.first,h--}for(;f&&h;){const t=g[h-1],n=e[f-1],r=t.key,s=n.key;t===n?(u=t.first,f--,h--):b.has(s)?!a.has(r)||$.has(r)?x(t):v.has(s)?f--:y.get(r)>y.get(s)?(v.add(r),x(t)):($.add(s),f--):(l(n,a),f--)}for(;f--;){const t=e[f];b.has(t.key)||l(t,a)}for(;h;)x(g[h-1]);return g}function Se(e,t){const n={},r={},s={$$scope:1};let o=e.length;for(;o--;){const a=e[o],i=t[o];if(i){for(const e in a)e in i||(r[e]=1);for(const e in i)s[e]||(n[e]=i[e],s[e]=1);e[o]=i}else for(const e in a)s[e]=1}for(const e in r)e in n||(n[e]=void 0);return n}function Ce(e){return"object"==typeof e&&null!==e?e:{}}function Ee(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function Te(e){e&&e.c()}function Le(e,t,n,s){const{fragment:i,on_mount:l,on_destroy:c,after_update:u}=e.$$;i&&i.m(t,n),s||re((()=>{const t=l.map(r).filter(a);c?c.push(...t):o(t),e.$$.on_mount=[]})),u.forEach(re)}function je(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ae(t,n,r,a,i,l,c,u=[-1]){const d=O;W(t);const f=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:i,bound:s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:s(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};c&&c(f.root);let h=!1;if(f.ctx=r?r(t,n.props||{},((e,n,...r)=>{const s=r.length?r[0]:n;return f.ctx&&i(f.ctx[e],f.ctx[e]=s)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](s),h&&function(e,t){-1===e.$$.dirty[0]&&(Z.push(e),te(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),n})):[],f.update(),h=!0,o(f.before_update),f.fragment=!!a&&a(f.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);f.fragment&&f.fragment.l(e),e.forEach(S)}else f.fragment&&f.fragment.c();n.intro&&ge(t.$$.fragment),Le(t,n.target,n.anchor,n.customElement),le()}W(d)}class Ne{$destroy(){je(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Be=[];function Re(e,t){return{subscribe:De(e,t).subscribe}}function De(t,n=e){let r;const s=new Set;function o(e){if(i(t,e)&&(t=e,r)){const e=!Be.length;for(const e of s)e[1](),Be.push(e,t);if(e){for(let e=0;e<Be.length;e+=2)Be[e][0](Be[e+1]);Be.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(a,i=e){const l=[a,i];return s.add(l),1===s.size&&(r=n(o)||e),a(t),()=>{s.delete(l),0===s.size&&(r(),r=null)}}}}function Pe(t,n,r){const s=!Array.isArray(t),i=s?[t]:t,l=n.length<2;return Re(r,(t=>{let r=!1;const c=[];let u=0,d=e;const f=()=>{if(u)return;d();const r=n(s?c[0]:c,t);l?t(r):d=a(r)?r:e},h=i.map(((t,n)=>function(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(t,(e=>{c[n]=e,u&=~(1<<n),r&&f()}),(()=>{u|=1<<n}))));return r=!0,f(),function(){o(h),d()}}))}function Ie(e){let t,r,s;const o=[e[2]];var a=e[0];function i(e){let t={};for(let e=0;e<o.length;e+=1)t=n(t,o[e]);return{props:t}}return a&&(t=new a(i()),t.$on("routeEvent",e[7])),{c(){t&&Te(t.$$.fragment),r=L()},m(e,n){t&&Le(t,e,n),_(e,r,n),s=!0},p(e,n){const s=4&n?Se(o,[Ce(e[2])]):{};if(a!==(a=e[0])){if(t){pe();const e=t;be(e.$$.fragment,1,0,(()=>{je(e,1)})),me()}a?(t=new a(i()),t.$on("routeEvent",e[7]),Te(t.$$.fragment),ge(t.$$.fragment,1),Le(t,r.parentNode,r)):t=null}else a&&t.$set(s)},i(e){s||(t&&ge(t.$$.fragment,e),s=!0)},o(e){t&&be(t.$$.fragment,e),s=!1},d(e){e&&S(r),t&&je(t,e)}}}function ze(e){let t,r,s;const o=[{params:e[1]},e[2]];var a=e[0];function i(e){let t={};for(let e=0;e<o.length;e+=1)t=n(t,o[e]);return{props:t}}return a&&(t=new a(i()),t.$on("routeEvent",e[6])),{c(){t&&Te(t.$$.fragment),r=L()},m(e,n){t&&Le(t,e,n),_(e,r,n),s=!0},p(e,n){const s=6&n?Se(o,[2&n&&{params:e[1]},4&n&&Ce(e[2])]):{};if(a!==(a=e[0])){if(t){pe();const e=t;be(e.$$.fragment,1,0,(()=>{je(e,1)})),me()}a?(t=new a(i()),t.$on("routeEvent",e[6]),Te(t.$$.fragment),ge(t.$$.fragment,1),Le(t,r.parentNode,r)):t=null}else a&&t.$set(s)},i(e){s||(t&&ge(t.$$.fragment,e),s=!0)},o(e){t&&be(t.$$.fragment,e),s=!1},d(e){e&&S(r),t&&je(t,e)}}}function Me(e){let t,n,r,s;const o=[ze,Ie],a=[];function i(e,t){return e[1]?0:1}return t=i(e),n=a[t]=o[t](e),{c(){n.c(),r=L()},m(e,n){a[t].m(e,n),_(e,r,n),s=!0},p(e,[s]){let l=t;t=i(e),t===l?a[t].p(e,s):(pe(),be(a[l],1,1,(()=>{a[l]=null})),me(),n=a[t],n?n.p(e,s):(n=a[t]=o[t](e),n.c()),ge(n,1),n.m(r.parentNode,r))},i(e){s||(ge(n),s=!0)},o(e){be(n),s=!1},d(e){a[t].d(e),e&&S(r)}}}function Oe(){const e=window.location.href.indexOf("#/");let t=e>-1?window.location.href.substr(e+1):"/";const n=t.indexOf("?");let r="";return n>-1&&(r=t.substr(n+1),t=t.substr(0,n)),{location:t,querystring:r}}const Fe=Re(null,(function(e){e(Oe());const t=()=>{e(Oe())};return window.addEventListener("hashchange",t,!1),function(){window.removeEventListener("hashchange",t,!1)}}));Pe(Fe,(e=>e.location)),Pe(Fe,(e=>e.querystring));const He=De(void 0);async function Ue(e){if(!e||e.length<1||"/"!=e.charAt(0)&&0!==e.indexOf("#/"))throw Error("Invalid parameter location");await ne();const t=("#"==e.charAt(0)?"":"#")+e;try{const e={...history.state};delete e.__svelte_spa_router_scrollX,delete e.__svelte_spa_router_scrollY,window.history.replaceState(e,void 0,t)}catch(e){console.warn("Caught exception while replacing the current page. If you're running this in the Svelte REPL, please note that the `replace` method might not work in this environment.")}window.dispatchEvent(new Event("hashchange"))}function We(e,t,n){let{routes:r={}}=t,{prefix:s=""}=t,{restoreScrollState:o=!1}=t;class a{constructor(e,t){if(!t||"function"!=typeof t&&("object"!=typeof t||!0!==t._sveltesparouter))throw Error("Invalid component object");if(!e||"string"==typeof e&&(e.length<1||"/"!=e.charAt(0)&&"*"!=e.charAt(0))||"object"==typeof e&&!(e instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:n,keys:r}=function(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,s,o,a=[],i="",l=e.split("/");for(l[0]||l.shift();s=l.shift();)"*"===(n=s[0])?(a.push("wild"),i+="/(.*)"):":"===n?(r=s.indexOf("?",1),o=s.indexOf(".",1),a.push(s.substring(1,~r?r:~o?o:s.length)),i+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(i+=(~r?"?":"")+"\\"+s.substring(o))):i+="/"+s;return{keys:a,pattern:new RegExp("^"+i+(t?"(?=$|/)":"/?$"),"i")}}(e);this.path=e,"object"==typeof t&&!0===t._sveltesparouter?(this.component=t.component,this.conditions=t.conditions||[],this.userData=t.userData,this.props=t.props||{}):(this.component=()=>Promise.resolve(t),this.conditions=[],this.props={}),this._pattern=n,this._keys=r}match(e){if(s)if("string"==typeof s){if(!e.startsWith(s))return null;e=e.substr(s.length)||"/"}else if(s instanceof RegExp){const t=e.match(s);if(!t||!t[0])return null;e=e.substr(t[0].length)||"/"}const t=this._pattern.exec(e);if(null===t)return null;if(!1===this._keys)return t;const n={};let r=0;for(;r<this._keys.length;){try{n[this._keys[r]]=decodeURIComponent(t[r+1]||"")||null}catch(e){n[this._keys[r]]=null}r++}return n}async checkConditions(e){for(let t=0;t<this.conditions.length;t++)if(!await this.conditions[t](e))return!1;return!0}}const i=[];r instanceof Map?r.forEach(((e,t)=>{i.push(new a(t,e))})):Object.keys(r).forEach((e=>{i.push(new a(e,r[e]))}));let l=null,c=null,u={};const d=function(){const e=G();return(t,n,{cancelable:r=!1}={})=>{const s=e.$$.callbacks[t];if(s){const o=I(t,n,{cancelable:r});return s.slice().forEach((t=>{t.call(e,o)})),!o.defaultPrevented}return!0}}();async function f(e,t){await ne(),d(e,t)}let h=null,p=null;var m;o&&(p=e=>{h=e.state&&e.state.__svelte_spa_router_scrollY?e.state:null},window.addEventListener("popstate",p),m=()=>{h?window.scrollTo(h.__svelte_spa_router_scrollX,h.__svelte_spa_router_scrollY):window.scrollTo(0,0)},G().$$.after_update.push(m));let g=null,b=null;const y=Fe.subscribe((async e=>{g=e;let t=0;for(;t<i.length;){const r=i[t].match(e.location);if(!r){t++;continue}const s={route:i[t].path,location:e.location,querystring:e.querystring,userData:i[t].userData,params:r&&"object"==typeof r&&Object.keys(r).length?r:null};if(!await i[t].checkConditions(s))return n(0,l=null),b=null,void f("conditionsFailed",s);f("routeLoading",Object.assign({},s));const o=i[t].component;if(b!=o){o.loading?(n(0,l=o.loading),b=o,n(1,c=o.loadingParams),n(2,u={}),f("routeLoaded",Object.assign({},s,{component:l,name:l.name,params:c}))):(n(0,l=null),b=null);const t=await o();if(e!=g)return;n(0,l=t&&t.default||t),b=o}return r&&"object"==typeof r&&Object.keys(r).length?n(1,c=r):n(1,c=null),n(2,u=i[t].props),void f("routeLoaded",Object.assign({},s,{component:l,name:l.name,params:c})).then((()=>{He.set(c)}))}n(0,l=null),b=null,He.set(void 0)}));return K((()=>{y(),p&&window.removeEventListener("popstate",p)})),e.$$set=e=>{"routes"in e&&n(3,r=e.routes),"prefix"in e&&n(4,s=e.prefix),"restoreScrollState"in e&&n(5,o=e.restoreScrollState)},e.$$.update=()=>{32&e.$$.dirty&&(history.scrollRestoration=o?"manual":"auto")},[l,c,u,r,s,o,function(t){V.call(this,e,t)},function(t){V.call(this,e,t)}]}class Ge extends Ne{constructor(e){super(),Ae(this,e,We,Me,i,{routes:3,prefix:4,restoreScrollState:5})}}var qe;!function(e){e.toggleLightTheme=function(e,t){t&&(document.documentElement.classList.add("theme-transition"),window.setTimeout((()=>{document.documentElement.classList.remove("theme-transition")}),500)),e?document.documentElement.classList.remove("dark"):document.documentElement.classList.add("dark")},e.toggleBooleanAttribute=function(e,t){document.documentElement.setAttribute(e,t?"true":"false")}}(qe||(qe={}));var Ke,Ve=qe;!function(e){e.clear=function(){localStorage.clear()},e.getItem=function(e){return localStorage.getItem(e)},e.removeItem=function(e){localStorage.removeItem(e)},e.setItem=function(e,t){localStorage.setItem(e,t)}}(Ke||(Ke={}));var Ze=Ke,Je={allLocales:100},Ye={rickRoll:"https://youtu.be/a3Z7zEc7AXQ"};class Xe{constructor(e,t,n=[]){this.name=e,this.defaultValue=t,this._onChangeCallbacks=n}get(e){const t=Ze.getItem("s:"+e);return t?this._parseValue(t):this.defaultValue}set(e,t){Ze.setItem("s:"+e,this._stringifyValue(t)),this._onChange(t)}addCallback(e){this._onChangeCallbacks.push(e)}_onChange(e){this._onChangeCallbacks.forEach((t=>t(e)))}}class Qe extends Xe{constructor(e,t=!1,n){super(e,t,n)}_parseValue(e){return"true"===e}_stringifyValue(e){return e?"true":"false"}}class et extends Xe{constructor(e,t=0,n){super(e,t,n)}_parseValue(e){const t=parseInt(e);return Number.isNaN(t)?this.defaultValue:t}_stringifyValue(e){return e.toString()}}class tt extends Xe{constructor(e,t,n){super(e,t,n)}_parseValue(e){return e}_stringifyValue(e){return e}}const nt=function(e){const t={};for(const n in e){const r=e[n];t[n]=new r.cls(n,r.defaultValue,r.callbacks)}return new Proxy(t,{get:(e,t)=>e[t].get(t),set:(e,t,n)=>(e[t].set(t,n),rt.notifySubscribers(t,n),!0)})}({defaultLocale:{cls:et},entriesPerPage:{cls:et,defaultValue:9},hasWorkspace:{cls:Qe},disableBlur:{cls:Qe,callbacks:[e=>Ve.toggleBooleanAttribute("data-allow-blur",!e)]},disableToolbarColors:{cls:Qe,callbacks:[e=>Ve.toggleBooleanAttribute("data-monochrome-toolbar",e)]},isLightTheme:{cls:Qe,callbacks:[e=>Ve.toggleLightTheme(e,!nt.reduceMotion)]},reduceMotion:{cls:Qe},showAllStrings:{cls:Qe},mainframeHacked:{cls:Qe,callbacks:[e=>{Ve.toggleBooleanAttribute("data-hacker-theme",e),e?Ve.toggleLightTheme(!1,!1):Ve.toggleLightTheme(nt.isLightTheme,!1)},e=>{ot.set(e)}]},rickGif:{cls:Qe,callbacks:[e=>{at.set(e)},e=>{e&&window.open(Ye.rickRoll,"_blank")}]},foundEasterEggs:{cls:class extends Xe{constructor(e,t,n){super(e,t,n)}_parseValue(e){return JSON.parse(e)}_stringifyValue(e){return JSON.stringify(e)}},defaultValue:[]},disableEasterEggs:{cls:Qe},projectView:{cls:et},downloadFileType:{cls:tt,defaultValue:"package"},downloadNamingConvention:{cls:tt,defaultValue:"project"},downloadLocales:{cls:et,defaultValue:Je.allLocales},sortOrder:{cls:et,defaultValue:0},translateHideKeys:{cls:Qe,defaultValue:!1},useObjectJson:{cls:Qe,defaultValue:!1}});const rt=new class{constructor(){this._nextId=0,this._subscriptions=new Map}subscribe(e,t){const n=this._nextId++;return this._subscriptions.set(n,{setting:e,fn:t}),()=>this._subscriptions.delete(n)}notifySubscribers(e,t){this._subscriptions.forEach((n=>{n.setting===e&&n.fn(t)}))}};function st(e){return t=>{if(t){const t=nt.foundEasterEggs;t.includes(e)||(t.push(e),nt.foundEasterEggs=t)}}}const ot=De(nt.mainframeHacked);ot.subscribe(st("hacker"));const at=De(nt.rickGif);at.subscribe(st("rickroll"));const it=De(!1);it.subscribe(st("pride"));const lt=De(!1);lt.subscribe(st("womp"));const ct=new class{constructor(){this._nextId=0,this._subscriptions=new Map}subscribe(e){const t=this._nextId++;return this._subscriptions.set(t,e),()=>this._subscriptions.delete(t)}request(e,t="open",n){this._subscriptions.forEach((r=>{r(e,t,n)}))}};var ut={$schema:"https://raw.githubusercontent.com/sims4toolkit/stbl-studio-web/development/docs/help-menu-schema.json",routes:{"/":{title:"What do you need help with?",content:[{kind:"swimLane",title:"General FAQs",description:"Answers to general questions you might have.",link:"/faqs"},{kind:"swimLane",title:"JSON Format",description:"Learn about STBL Studio's JSON structure.",link:"/json"},{kind:"swimLane",title:"Keybindings",description:"Navigate STBL Studio quickly with keybindings.",link:"/keybindings"},{kind:"swimLane",title:"Terminology",description:'Definitions for STBL Studio terms, like "Project".',link:"/terminology"},{kind:"hr"},{kind:"generalHtml",content:'<p class="text-xs text-center text-subtle">This menu is still under construction. If you have questions that are not answered here, please ask me.</p>'}]},"/faqs":{title:"FAQs",backButtonLink:"/",content:[{kind:"questionAnswer",question:"How are new keys generated?",answer:'Keys are generated by taking the <a class="text-secondary underline hover:no-underline" href="https://sims4toolkit.com/#/docs/hashing/latest/hashing/fnv32" target="_blank">FNV32 hash</a> of a completely random UUID. The UUID is generated by the <a class="text-secondary underline hover:no-underline" href="https://www.npmjs.com/package/uuid" target="_blank">uuid npm package</a>, and should produce unique identifiers for everyone.',containsHtml:!0},{kind:"hr"},{kind:"questionAnswer",question:"How do I merge string tables?",answer:'There is currently no standalone STBL merger tool. For now, you can either upload the STBLs you want to merge into a single project and download it, or you can create a project for one of the string tables and import the other one(s) into it. Alternatively, you can still use the <a href="https://frankkmods.com/#/ts4-tools/stbl-merger" class="text-secondary underline hover:no-underline" target="_blank">existing STBL merger</a>, but keep in mind that that one does not support multiple locales at a time.',containsHtml:!0},{kind:"hr"},{kind:"questionAnswer",question:"Where is my data stored?",answer:'All of your data is stored in your browser - it is not in the cloud or backed up in any way. Because of this, I highly recommended regularly backing up your entire workspace by downloading it with the <img class="inline-block svg h-4" src="./assets/desktop-download.svg" alt="Download"/> button on the home page.',containsHtml:!0},{kind:"hr"},{kind:"questionAnswer",question:"Why was my translation erased?",answer:"To optimize storage, STBL Studio does not store redundant translations. If another locale uses the exact same text as the primary locale, then it is stored as an empty string. When downloading that locale, empty strings will be populated with data from the primary locale."}]},"/json":{title:"JSON Format",backButtonLink:"/",content:[{kind:"questionAnswer",question:"What is JSON?",answer:"JSON is a syntax based off of JavaScript that is used to store data. STBL Studio lets you import/export string tables in JSON format, since JSON is much more user-friendly if you would like to manually add, edit, remove, or reorder entries."},{kind:"hr"},{kind:"questionAnswer",question:"Expected JSON Structure",answer:'The JSON format this website uses is very flexible. The top-level structure must be an array that contains objects with two properties, one called "key" (case insensitive) and another called either "value" or "string" (also case insensitive). The value for the "key" property can either be a plain number, or a string containing an 8-digit hex number, with or without the "0x" prefix. This flexible format means that you can paste in the JSON content shown for string tables in S4S, the output of the <a href="https://frankkmods.com/#/ts4-tools/stbl-editor" class="text-secondary underline hover:no-underline" target="_blank">old STBL editor</a>, or JSON representations of the <a href="https://sims4toolkit.com/#/docs/models/latest/resources/StringTableResource" class="text-secondary underline hover:no-underline" target="_blank">StringTableResource</a> in <a href="https://sims4toolkit.com/#/docs/models" class="text-secondary underline hover:no-underline" target="_blank">@s4tk/models</a>.',containsHtml:!0}]},"/keybindings":{title:"Keybindings",backButtonLink:"/",content:[{kind:"questionAnswer",question:"All Modals",answer:'<br><mark class="keystroke">ESC</mark> = Close',containsHtml:!0},{kind:"hr"},{kind:"questionAnswer",question:"Home Page",answer:'<br><mark class="keystroke">CMD/CTRL</mark> + <mark class="keystroke">S</mark> = Save Workspace<br><br><mark class="keystroke">CMD/CTRL</mark> + <mark class="keystroke">U</mark> = Upload Project<br><br><mark class="keystroke">CMD/CTRL</mark> + <mark class="keystroke">N</mark> = New Project',containsHtml:!0},{kind:"hr"},{kind:"questionAnswer",question:"Home Page (Select Mode)",answer:'<br><mark class="keystroke">CMD/CTRL</mark> + <mark class="keystroke">S</mark> = Download<br><br><mark class="keystroke">CMD/CTRL</mark> + <mark class="keystroke">P</mark> = Toggle Pin<br><br><mark class="keystroke">CMD/CTRL</mark> + <mark class="keystroke">D</mark> = Delete',containsHtml:!0},{kind:"hr"},{kind:"questionAnswer",question:"Project Page",answer:'<br><mark class="keystroke">CMD/CTRL</mark> + <mark class="keystroke">S</mark> = Download<br><br><mark class="keystroke">CMD/CTRL</mark> + <mark class="keystroke">U</mark> = Import Strings<br><br><mark class="keystroke">CMD/CTRL</mark> + <mark class="keystroke">N</mark> = New String',containsHtml:!0},{kind:"hr"},{kind:"questionAnswer",question:"Project Page (Select Mode)",answer:'<br><mark class="keystroke">CMD/CTRL</mark> + <mark class="keystroke">H</mark> = Rehash Keys<br><br><mark class="keystroke">CMD/CTRL</mark> + <mark class="keystroke">D</mark> = Delete Strings',containsHtml:!0},{kind:"hr"},{kind:"questionAnswer",question:"Project Page (Pagination)",answer:'<br><mark class="keystroke">CMD/CTRL</mark> + <mark class="keystroke">&larr;</mark> = Previous Page<br><br><mark class="keystroke">CMD/CTRL</mark> + <mark class="keystroke">&rarr;</mark> = Next Page<br><br><mark class="keystroke">CMD/CTRL</mark> + <mark class="keystroke">P</mark> = Focus Page Input',containsHtml:!0},{kind:"hr"},{kind:"questionAnswer",question:"New String",answer:'<br><mark class="keystroke">ENTER</mark> = Save String<br><br><mark class="keystroke">ESC</mark> = Cancel String<br><br><mark class="keystroke">SHIFT</mark> + <mark class="keystroke">ENTER</mark> = Newline',containsHtml:!0}]},"/terminology":{title:"Terminology",backButtonLink:"/",content:[{kind:"questionAnswer",question:"Locale",answer:"A specific language/culture pair that is officially supported by The Sims 4."},{kind:"questionAnswer",question:"Primary Locale",answer:"For modders, this is the locale that you plan on writing your strings in. For translators, this is the locale that you are translating from, NOT the one you are writing yourself."},{kind:"questionAnswer",question:"Project",answer:"All of the strings associated with a single mod, including their translations."},{kind:"questionAnswer",question:"Workspace",answer:"All of your personal data on STBL Studio, including your projects and settings."}]}}};function dt(e){const t=e-1;return t*t*t+1}function ft(e,{delay:n=0,duration:r=400,easing:s=t}={}){const o=+getComputedStyle(e).opacity;return{delay:n,duration:r,easing:s,css:e=>"opacity: "+e*o}}function ht(e,{delay:t=0,duration:n=400,easing:r=dt,x:s=0,y:o=0,opacity:a=0}={}){const i=getComputedStyle(e),l=+i.opacity,c="none"===i.transform?"":i.transform,u=l*(1-a);return{delay:t,duration:n,easing:r,css:(e,t)=>`\n\t\t\ttransform: ${c} translate(${(1-e)*s}px, ${(1-e)*o}px);\n\t\t\topacity: ${l-u*t}`}}const pt=De(void 0),mt=De(0);function gt(e){let t,n,r,s,i,l,d,m,g,b,y,$,v,w,k,L,N,R,D;const I=e[7].default,z=u(I,e,e[6],null);return{c(){t=C("div"),n=C("div"),r=C("div"),s=C("p"),i=E(e[0]),l=T(),d=C("div"),m=C("button"),g=C("img"),y=T(),$=C("button"),$.innerHTML='<img src="./assets/x.svg" class="svg-light hacker-svg svelte-11ir4hx" alt="Close"/>',v=T(),w=C("div"),z&&z.c(),A(s,"class","my-0 text-sm uppercase font-bold text-gray-200 dark:text-gray-400 hacker-text-lime"),A(r,"class","flex justify-center items-center gap-2"),c(g.src,b="./assets/"+(e[4]?"plus":"remove")+".svg")||A(g,"src",b),A(g,"class","svg-light hacker-svg svelte-11ir4hx"),A(g,"alt","Minimize"),A(d,"class","flex gap-2"),A(n,"class","movable-window-header z-10 rounded-t-sm flex justify-between items-center p-2 grabbable bg-gray-500 dark:bg-gray-900 hacker-bg-black hacker-border-b-gray svelte-11ir4hx"),A(w,"class","p-2 z-0 window-content flex flex-col flex-1 bg-gray-200 dark:bg-gray-700 hacker-bg-black svelte-11ir4hx"),P(w,"minimized",e[4]),A(t,"class","flex flex-col z-30 movable-window rounded drop-shadow border border-solid border-gray-500 dark:border-gray-900 bg-gray-200 dark:bg-gray-700 hacker-bg-black svelte-11ir4hx"),P(t,"minimized",e[4])},m(o,c){_(o,t,c),x(t,n),x(n,r),x(r,s),x(s,i),x(n,l),x(n,d),x(d,m),x(m,g),x(d,y),x(d,$),e[8](n),x(t,v),x(t,w),z&&z.m(w,null),e[9](t),N=!0,R||(D=[j(m,"click",e[5]),j($,"click",(function(){a(e[1])&&e[1].apply(this,arguments)}))],R=!0)},p(n,[r]){e=n,(!N||1&r)&&B(i,e[0]),(!N||16&r&&!c(g.src,b="./assets/"+(e[4]?"plus":"remove")+".svg"))&&A(g,"src",b),z&&z.p&&(!N||64&r)&&h(z,I,e,e[6],N?f(I,e[6],r,null):p(e[6]),null),16&r&&P(w,"minimized",e[4]),16&r&&P(t,"minimized",e[4])},i(e){N||(ge(z,e),re((()=>{L&&L.end(1),k=$e(t,ht,{x:35,duration:nt.reduceMotion?0:350}),k.start()})),N=!0)},o(e){be(z,e),k&&k.invalidate(),L=ve(t,ft,{duration:nt.reduceMotion?0:200}),N=!1},d(n){n&&S(t),e[8](null),z&&z.d(n),e[9](null),n&&L&&L.end(),R=!1,o(D)}}}function bt(e,t,n){let r,s,{$$slots:o={},$$scope:a}=t,{title:i}=t,{onClose:l}=t,c=0,u=!1;const d=mt.subscribe((e=>{c=e}));return q((()=>{if(function(){let e=0,t=0,o=0,a=0;function i(s){(s=s||window.event).preventDefault(),e=o-s.clientX,t=a-s.clientY,o=s.clientX,a=s.clientY,n(2,r.style.top=r.offsetTop-t+"px",r),n(2,r.style.left=r.offsetLeft-e+"px",r)}function l(){document.onmouseup=null,document.onmousemove=null,r.offsetTop<0?n(2,r.style.top="10px",r):r.offsetTop>window.innerHeight-r.offsetHeight-10&&n(2,r.style.top=window.innerHeight-r.offsetHeight-10+"px",r),r.offsetLeft<0?n(2,r.style.left="10px",r):r.offsetLeft>window.innerWidth-r.offsetWidth-10&&n(2,r.style.left=window.innerWidth-r.offsetWidth-10+"px",r)}n(3,s.onmousedown=function(e){(e=e||window.event).preventDefault(),o=e.clientX,a=e.clientY,document.onmouseup=l,document.onmousemove=i},s)}(),c>0){const e=20+40*c;n(2,r.style.right=e+"px",r),n(2,r.style.zIndex=(30+c).toString(),r)}mt.set(c+1)})),K((()=>{d(),mt.set(c-1)})),e.$$set=e=>{"title"in e&&n(0,i=e.title),"onClose"in e&&n(1,l=e.onClose),"$$scope"in e&&n(6,a=e.$$scope)},[i,l,r,s,u,function(){if(r.offsetTop>window.innerHeight-450){const e=r.offsetTop+r.offsetHeight;n(2,r.style.bottom=window.innerHeight-e+"px",r),r.style.removeProperty("top")}n(4,u=!u)},a,o,function(e){J[e?"unshift":"push"]((()=>{s=e,n(3,s)}))},function(e){J[e?"unshift":"push"]((()=>{r=e,n(2,r)}))}]}class yt extends Ne{constructor(e){super(),Ae(this,e,bt,gt,i,{title:0,onClose:1})}}function $t(t){let n,r=t[0].content+"";return{c(){n=C("div"),A(n,"class","w-full")},m(e,t){_(e,n,t),n.innerHTML=r},p(e,[t]){1&t&&r!==(r=e[0].content+"")&&(n.innerHTML=r)},i:e,o:e,d(e){e&&S(n)}}}function vt(e,t,n){let{data:r}=t;return e.$$set=e=>{"data"in e&&n(0,r=e.data)},[r]}class xt extends Ne{constructor(e){super(),Ae(this,e,vt,$t,i,{data:0})}}function wt(e){let t,n,r,s,o,a=e[0].question+"",i=e[0].answer+"";return{c(){t=C("h4"),n=E(a),r=T(),s=C("p"),o=E(i),A(t,"class","text-sm font-bold mb-2"),A(s,"class","text-subtle text-sm")},m(e,a){_(e,t,a),x(t,n),_(e,r,a),_(e,s,a),x(s,o)},p(e,t){1&t&&a!==(a=e[0].question+"")&&B(n,a),1&t&&i!==(i=e[0].answer+"")&&B(o,i)},d(e){e&&S(t),e&&S(r),e&&S(s)}}}function kt(e){let t,n,r,s=e[0].question+"",o=e[0].answer+"";return{c(){t=C("h4"),n=T(),r=C("p"),A(t,"class","text-sm font-bold mb-2"),A(r,"class","text-subtle text-sm")},m(e,a){_(e,t,a),t.innerHTML=s,_(e,n,a),_(e,r,a),r.innerHTML=o},p(e,n){1&n&&s!==(s=e[0].question+"")&&(t.innerHTML=s),1&n&&o!==(o=e[0].answer+"")&&(r.innerHTML=o)},d(e){e&&S(t),e&&S(n),e&&S(r)}}}function _t(t){let n;function r(e,t){return e[0].containsHtml?kt:wt}let s=r(t),o=s(t);return{c(){n=C("div"),o.c(),A(n,"class","w-full")},m(e,t){_(e,n,t),o.m(n,null)},p(e,[t]){s===(s=r(e))&&o?o.p(e,t):(o.d(1),o=s(e),o&&(o.c(),o.m(n,null)))},i:e,o:e,d(e){e&&S(n),o.d()}}}function St(e,t,n){let{data:r}=t;return e.$$set=e=>{"data"in e&&n(0,r=e.data)},[r]}class Ct extends Ne{constructor(e){super(),Ae(this,e,St,_t,i,{data:0})}}function Et(t){let n,r,s,o,a,i,l,u,d,f,h,p,m=t[0].title+"",g=t[0].description+"";return{c(){n=C("button"),r=C("div"),s=C("h4"),o=E(m),a=T(),i=C("p"),l=E(g),u=T(),d=C("img"),A(s,"class","text-sm font-bold mb-2"),A(i,"class","text-subtle text-xs"),A(r,"class","text-left"),A(d,"class","h-4 svg"),c(d.src,f="./assets/chevron-right.svg")||A(d,"src","./assets/chevron-right.svg"),A(d,"alt",">"),A(n,"class","w-full flex justify-between items-center gap-4")},m(e,c){_(e,n,c),x(n,r),x(r,s),x(s,o),x(r,a),x(r,i),x(i,l),x(n,u),x(n,d),h||(p=j(n,"click",t[1]),h=!0)},p(e,[t]){1&t&&m!==(m=e[0].title+"")&&B(o,m),1&t&&g!==(g=e[0].description+"")&&B(l,g)},i:e,o:e,d(e){e&&S(n),h=!1,p()}}}function Tt(e,t,n){let{data:r}=t;return e.$$set=e=>{"data"in e&&n(0,r=e.data)},[r,()=>ct.request("help","open",{route:r.link})]}class Lt extends Ne{constructor(e){super(),Ae(this,e,Tt,Et,i,{data:0})}}function jt(t){let n;return{c(){n=C("p"),n.textContent="Oops... Something went wrong. Please report this."},m(e,t){_(e,n,t)},p:e,i:e,o:e,d(e){e&&S(n)}}}function At(e){let t,n,r;var s=e[1];function o(e){return{props:{data:e[0]}}}return s&&(t=new s(o(e))),{c(){t&&Te(t.$$.fragment),n=L()},m(e,s){t&&Le(t,e,s),_(e,n,s),r=!0},p(e,r){const a={};if(1&r&&(a.data=e[0]),s!==(s=e[1])){if(t){pe();const e=t;be(e.$$.fragment,1,0,(()=>{je(e,1)})),me()}s?(t=new s(o(e)),Te(t.$$.fragment),ge(t.$$.fragment,1),Le(t,n.parentNode,n)):t=null}else s&&t.$set(a)},i(e){r||(t&&ge(t.$$.fragment,e),r=!0)},o(e){t&&be(t.$$.fragment,e),r=!1},d(e){e&&S(n),t&&je(t,e)}}}function Nt(t){let n;return{c(){n=C("hr"),A(n,"class","border-black dark:border-white hacker-border-gray")},m(e,t){_(e,n,t)},p:e,i:e,o:e,d(e){e&&S(n)}}}function Bt(e){let t,n,r,s,o;const a=[Nt,At,jt],i=[];function l(e,n){return 2&n&&(t=null),"hr"===e[0].kind?0:(null==t&&(t=!!Boolean(e[1])),t?1:2)}return n=l(e,-1),r=i[n]=a[n](e),{c(){r.c(),s=L()},m(e,t){i[n].m(e,t),_(e,s,t),o=!0},p(e,[t]){let o=n;n=l(e,t),n===o?i[n].p(e,t):(pe(),be(i[o],1,1,(()=>{i[o]=null})),me(),r=i[n],r?r.p(e,t):(r=i[n]=a[n](e),r.c()),ge(r,1),r.m(s.parentNode,s))},i(e){o||(ge(r),o=!0)},o(e){be(r),o=!1},d(e){i[n].d(e),e&&S(s)}}}function Rt(e,t,n){let r,{data:s}=t;return e.$$set=e=>{"data"in e&&n(0,s=e.data)},e.$$.update=()=>{1&e.$$.dirty&&n(1,r=(()=>{switch(s.kind){case"generalHtml":return xt;case"questionAnswer":return Ct;case"swimLane":return Lt;default:return}})())},[s,r]}class Dt extends Ne{constructor(e){super(),Ae(this,e,Rt,Bt,i,{data:0})}}function Pt(e,t,n){const r=e.slice();return r[3]=t[n],r[5]=n,r}function It(t){let n,r,s;return{c(){n=C("button"),n.innerHTML='<img class="svg h-2" src="./assets/chevron-left.svg" alt="&lt;"/>\n      Back',A(n,"class","w-12 text-subtle flex gap-2 items-center text-xs")},m(e,o){_(e,n,o),r||(s=j(n,"click",t[2]),r=!0)},p:e,d(e){e&&S(n),r=!1,s()}}}function zt(e){let t;return{c(){t=C("div"),A(t,"class","w-12")},m(e,n){_(e,t,n)},d(e){e&&S(t)}}}function Mt(e,t){let n,r,s;return r=new Dt({props:{data:t[3]}}),{key:e,first:null,c(){n=L(),Te(r.$$.fragment),this.first=n},m(e,t){_(e,n,t),Le(r,e,t),s=!0},p(e,n){t=e;const s={};1&n&&(s.data=t[3]),r.$set(s)},i(e){s||(ge(r.$$.fragment,e),s=!0)},o(e){be(r.$$.fragment,e),s=!1},d(e){e&&S(n),je(r,e)}}}function Ot(e){let t,n,r,s,o,a,i,l,c=e[0].title+"",u=[],d=new Map,f=e[1]&&It(e),h=e[1]&&zt(),p=e[0].content;const m=e=>e[5];for(let t=0;t<p.length;t+=1){let n=Pt(e,p,t),r=m(n);d.set(r,u[t]=Mt(r,n))}return{c(){t=C("div"),f&&f.c(),n=T(),r=C("h4"),s=E(c),o=T(),h&&h.c(),a=T();for(let e=0;e<u.length;e+=1)u[e].c();i=L(),A(r,"class","text-sm text-center font-bold"),P(r,"w-full",!e[1]),A(t,"class","flex justify-between whitespace-nowrap")},m(e,c){_(e,t,c),f&&f.m(t,null),x(t,n),x(t,r),x(r,s),x(t,o),h&&h.m(t,null),_(e,a,c);for(let t=0;t<u.length;t+=1)u[t].m(e,c);_(e,i,c),l=!0},p(e,[o]){e[1]?f?f.p(e,o):(f=It(e),f.c(),f.m(t,n)):f&&(f.d(1),f=null),(!l||1&o)&&c!==(c=e[0].title+"")&&B(s,c),2&o&&P(r,"w-full",!e[1]),e[1]?h||(h=zt(),h.c(),h.m(t,null)):h&&(h.d(1),h=null),1&o&&(p=e[0].content,pe(),u=_e(u,o,m,1,e,p,d,i.parentNode,ke,Mt,i,Pt),me())},i(e){if(!l){for(let e=0;e<p.length;e+=1)ge(u[e]);l=!0}},o(e){for(let e=0;e<u.length;e+=1)be(u[e]);l=!1},d(e){e&&S(t),f&&f.d(),h&&h.d(),e&&S(a);for(let t=0;t<u.length;t+=1)u[t].d(e);e&&S(i)}}}function Ft(e,t,n){let r,{routeData:s}=t;return e.$$set=e=>{"routeData"in e&&n(0,s=e.routeData)},e.$$.update=()=>{1&e.$$.dirty&&n(1,r=Boolean(s.backButtonLink))},[s,r,()=>ct.request("help","open",{route:s.backButtonLink})]}class Ht extends Ne{constructor(e){super(),Ae(this,e,Ft,Ot,i,{routeData:0})}}function Ut(t){let n,r,s,o,a,i;return{c(){n=C("hr"),r=T(),s=C("div"),o=C("h4"),o.textContent="Does this website have easter eggs?",a=T(),i=C("p"),i.textContent=`It was created by Frankk. Of course it does. You've found ${nt.foundEasterEggs.length} of 4 easter eggs.`,A(n,"class","border-black dark:border-white hacker-border-gray"),A(o,"class","text-sm font-bold mb-2"),A(i,"class","text-subtle text-sm")},m(e,t){_(e,n,t),_(e,r,t),_(e,s,t),x(s,o),x(s,a),x(s,i)},p:e,d(e){e&&S(n),e&&S(r),e&&S(s)}}}function Wt(e){let t,n,r,s;n=new Ht({props:{routeData:e[2]}});let o="/faqs"===e[1]&&Ut();return{c(){t=C("div"),Te(n.$$.fragment),r=T(),o&&o.c(),A(t,"class","flex-1 flex flex-col gap-4")},m(e,a){_(e,t,a),Le(n,t,null),x(t,r),o&&o.m(t,null),s=!0},p(e,r){const s={};4&r&&(s.routeData=e[2]),n.$set(s),"/faqs"===e[1]?o?o.p(e,r):(o=Ut(),o.c(),o.m(t,null)):o&&(o.d(1),o=null)},i(e){s||(ge(n.$$.fragment,e),s=!0)},o(e){be(n.$$.fragment,e),s=!1},d(e){e&&S(t),je(n),o&&o.d()}}}function Gt(e){let t,n;return t=new yt({props:{title:"Help",onClose:e[0],$$slots:{default:[Wt]},$$scope:{ctx:e}}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.onClose=e[0]),22&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function qt(e,t,n){let r,s,{onClose:o}=t,{args:a={}}=t;return e.$$set=e=>{"onClose"in e&&n(0,o=e.onClose),"args"in e&&n(3,a=e.args)},e.$$.update=()=>{8&e.$$.dirty&&n(1,r=a.route??"/"),2&e.$$.dirty&&n(2,s=ut.routes[r])},[o,r,s,a]}class Kt extends Ne{constructor(e){super(),Ae(this,e,qt,Gt,i,{onClose:0,args:3})}}function Vt(t){let n,r,s,o,a,i,l,c,u,d;return{c(){n=C("div"),r=C("p"),s=E(t[1]),o=T(),a=C("label"),i=C("input"),l=T(),c=C("span"),A(r,"class","text-sm mr-4"),A(i,"type","checkbox"),A(i,"class","opacity-0 w-0 h-0 svelte-107vzwt"),A(c,"class","slider absolute top-0 right-0 bottom-0 left-0 cursor-pointer svelte-107vzwt"),A(a,"class","switch relative inline-block svelte-107vzwt"),A(n,"class","w-full flex items-center justify-between")},m(e,f){_(e,n,f),x(n,r),x(r,s),x(n,o),x(n,a),x(a,i),i.checked=t[0],x(a,l),x(a,c),u||(d=j(i,"change",t[2]),u=!0)},p(e,[t]){2&t&&B(s,e[1]),1&t&&(i.checked=e[0])},i:e,o:e,d(e){e&&S(n),u=!1,d()}}}function Zt(e,t,n){let{label:r}=t,{checked:s}=t;return e.$$set=e=>{"label"in e&&n(1,r=e.label),"checked"in e&&n(0,s=e.checked)},[s,r,function(){s=this.checked,n(0,s)}]}class Jt extends Ne{constructor(e){super(),Ae(this,e,Zt,Vt,i,{label:1,checked:0})}}let Yt=0;const Xt=new Map;function Qt(e,t,n){const r=Yt++;return Xt.set(r,(r=>{(!n?.ctrlOrMeta||r.ctrlKey||r.metaKey)&&(n?.shift&&!r.shiftKey||r.key===e&&(n?.preventDefault&&r.preventDefault(),t(r)))})),()=>Xt.delete(r)}function en(e){let t,n,r;return{c(){t=C("button"),t.innerHTML='<img class="svg w-10 h-10" src="./assets/x.svg" alt="Close"/>',A(t,"class","fixed top-6 right-6")},m(s,o){_(s,t,o),n||(r=j(t,"click",(function(){a(e[2])&&e[2].apply(this,arguments)})),n=!0)},p(t,n){e=t},d(e){e&&S(t),n=!1,r()}}}function tn(e){let t,n,r,s,o,a;const i=e[5].default,l=u(i,e,e[4],null);let c=null!=e[2]&&en(e);return{c(){t=C("div"),n=C("div"),r=C("div"),l&&l.c(),s=T(),c&&c.c(),A(n,"class","p-4 max-w-screen-md"),P(n,"max-w-screen-xl",e[0]),P(n,"w-full",e[1]),A(t,"class","fixed top-0 left-0 right-0 bottom-0 flex items-center justify-center z-40 blurred-bg bg-gray-100 dark:bg-gray-800")},m(o,i){_(o,t,i),x(t,n),x(n,r),l&&l.m(r,null),x(t,s),c&&c.m(t,null),e[6](t),a=!0},p(r,[s]){e=r,l&&l.p&&(!a||16&s)&&h(l,i,e,e[4],a?f(i,e[4],s,null):p(e[4]),null),1&s&&P(n,"max-w-screen-xl",e[0]),2&s&&P(n,"w-full",e[1]),null!=e[2]?c?c.p(e,s):(c=en(e),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},i(e){a||(ge(l,e),re((()=>{o||(o=xe(t,ft,{duration:nt.reduceMotion?0:500},!0)),o.run(1)})),a=!0)},o(e){be(l,e),o||(o=xe(t,ft,{duration:nt.reduceMotion?0:500},!1)),o.run(0),a=!1},d(n){n&&S(t),l&&l.d(n),c&&c.d(),e[6](null),n&&o&&o.end()}}}document.addEventListener("keydown",(function(e){Xt.forEach((t=>{t(e)}))}));const nn="overlay-active";function rn(e,t,n){let r,s,o,{$$slots:a={},$$scope:i}=t,{large:l=!1}=t,{fill:c=!0}=t,{onClose:u}=t;const d=[];function f(){const e=r.querySelectorAll("a, button, input, textarea, select");s=e[0],o=e[e.length-1]}function h(){document.contains(s)||f(),s?.focus()}function p(e){r.contains(e.relatedTarget)||(o===e.target?h():s===e.target&&(document.contains(o)||f(),o?.focus()))}function m(e){r.contains(e.target)||h()}return null!=u&&d.push(Qt("Escape",u)),q((()=>{document.body.classList.add(nn),f(),window.addEventListener("focusin",m),window.addEventListener("focusout",p)})),K((()=>{document.body.classList.remove(nn),window.removeEventListener("focusin",m),window.removeEventListener("focusout",p),d.forEach((e=>e()))})),e.$$set=e=>{"large"in e&&n(0,l=e.large),"fill"in e&&n(1,c=e.fill),"onClose"in e&&n(2,u=e.onClose),"$$scope"in e&&n(4,i=e.$$scope)},[l,c,u,r,i,a,function(e){J[e?"unshift":"push"]((()=>{r=e,n(3,r)}))}]}class sn extends Ne{constructor(e){super(),Ae(this,e,rn,tn,i,{large:0,fill:1,onClose:2})}}let on,an=!1;const ln=(e,t)=>on.transaction(e,t).objectStore(e);async function cn(e){console.error(`Database error: ${e.target.errorCode}`)}async function un(){return new Promise(((e,t)=>{if(an)return e();const n=indexedDB.open("StblStudioDB",1),r=async e=>{on=e.target.result,on.onerror=cn,an=!0};n.onerror=()=>{t("Could not initialize indexed database."),an=!0},n.onsuccess=t=>{r(t).then((()=>{e()}))},n.onupgradeneeded=e=>{r(e).then((()=>{!async function(e){on.createObjectStore("stbls"),on.createObjectStore("metadata")}()}))}}))}var dn;!function(e){e.clear=async function(e){un().then((()=>{ln(e,"readwrite").clear()}))},e.getAll=async function(e){return new Promise(((t,n)=>{un().then((()=>{const r=ln(e,"readonly").getAll();r.onerror=e=>{n(`Could not get item from DB: ${e.target.errorCode}`)},r.onsuccess=()=>{t(r.result)}}))}))},e.getAllKeys=async function(e){return new Promise(((t,n)=>{un().then((()=>{const r=ln(e,"readonly").getAllKeys();r.onerror=e=>{n(`Could not get item from DB: ${e.target.errorCode}`)},r.onsuccess=()=>{t(r.result.map((e=>e.toString())))}}))}))},e.getItem=async function(e,t){return new Promise(((n,r)=>{un().then((()=>{const s=ln(e,"readonly").get(t);s.onerror=e=>{r(`Could not get item from DB: ${e.target.errorCode}`)},s.onsuccess=()=>{n(s.result)}}))}))},e.removeItem=async function(e,t){un().then((()=>{ln(e,"readwrite").delete(t)}))},e.setItem=async function(e,t,n){un().then((()=>{ln(e,"readwrite").put(n,t)}))}}(dn||(dn={}));var fn=dn;function hn(t){let n,r,s,o,a=!t[1]&&pn(t);return{c(){n=C("div"),r=C("label"),s=E(t[2]),o=T(),a&&a.c(),A(r,"class","text-subtle uppercase text-xs font-bold"),A(r,"for",t[3]),A(n,"class","flex items-center")},m(e,t){_(e,n,t),x(n,r),x(r,s),x(n,o),a&&a.m(n,null)},p(e,t){4&t&&B(s,e[2]),8&t&&A(r,"for",e[3]),e[1]?a&&(a.d(1),a=null):a?(a.p(e,t),2&t&&ge(a,1)):(a=pn(e),a.c(),ge(a,1),a.m(n,null))},i(e){ge(a)},o:e,d(e){e&&S(n),a&&a.d()}}}function pn(t){let n,r,s,o;return{c(){n=C("p"),r=E("• "),s=E(t[8]),A(n,"class","my-0 ml-1 text-xs text-red-600 dark:text-red-400")},m(e,t){_(e,n,t),x(n,r),x(n,s)},p(e,n){t=e,256&n&&B(s,t[8])},i(e){o||re((()=>{o=$e(n,ft,{duration:nt.reduceMotion?0:500}),o.start()}))},o:e,d(e){e&&S(n)}}}function mn(t){let n,r,s,o,a,i=Boolean(t[2]),l=i&&hn(t);return{c(){n=C("div"),l&&l.c(),r=T(),s=C("input"),A(s,"name",t[3]),A(s,"placeholder",t[4]),A(s,"type","text"),A(s,"autocomplete","off"),A(s,"class","block h-10 px-2 rounded text-sm placeholder-gray-500 dark:placeholder-gray-500 bg-transparent border"),P(s,"monospace",t[6]),P(s,"mt-2",Boolean(t[2])),P(s,"w-full",t[5]),P(s,"border-gray-600",t[1]),P(s,"dark:border-gray-400",t[1]),P(s,"border-red-600",!t[1]),P(s,"dark:border-red-400",!t[1]),P(n,"w-full",t[5])},m(e,i){_(e,n,i),l&&l.m(n,null),x(n,r),x(n,s),t[11](s),R(s,t[0]),o||(a=j(s,"input",t[12]),o=!0)},p(e,[t]){4&t&&(i=Boolean(e[2])),i?l?(l.p(e,t),4&t&&ge(l,1)):(l=hn(e),l.c(),ge(l,1),l.m(n,r)):l&&(l.d(1),l=null),8&t&&A(s,"name",e[3]),16&t&&A(s,"placeholder",e[4]),1&t&&s.value!==e[0]&&R(s,e[0]),64&t&&P(s,"monospace",e[6]),4&t&&P(s,"mt-2",Boolean(e[2])),32&t&&P(s,"w-full",e[5]),2&t&&P(s,"border-gray-600",e[1]),2&t&&P(s,"dark:border-gray-400",e[1]),2&t&&P(s,"border-red-600",!e[1]),2&t&&P(s,"dark:border-red-400",!e[1]),32&t&&P(n,"w-full",e[5])},i(e){ge(l)},o:e,d(e){e&&S(n),l&&l.d(),t[11](null),o=!1,a()}}}function gn(e,t,n){let r,{label:s=""}=t,{name:o}=t,{value:a}=t,{placeholder:i}=t,{isValid:l=!0}=t,{fillWidth:c=!1}=t,{focusOnMount:u=!1}=t,{monospace:d=!1}=t,{validators:f=[]}=t,h="";return q((()=>{u&&r.focus()})),e.$$set=e=>{"label"in e&&n(2,s=e.label),"name"in e&&n(3,o=e.name),"value"in e&&n(0,a=e.value),"placeholder"in e&&n(4,i=e.placeholder),"isValid"in e&&n(1,l=e.isValid),"fillWidth"in e&&n(5,c=e.fillWidth),"focusOnMount"in e&&n(9,u=e.focusOnMount),"monospace"in e&&n(6,d=e.monospace),"validators"in e&&n(10,f=e.validators)},e.$$.update=()=>{1&e.$$.dirty&&function(){for(let e=0;e<f.length;++e){const{test:t,message:r}=f[e];if(!t(a))return n(1,l=!1),void n(8,h=r)}n(1,l=!0)}()},[a,l,s,o,i,c,d,r,h,u,f,function(e){J[e?"unshift":"push"]((()=>{r=e,n(7,r)}))},function(){a=this.value,n(0,a)}]}class bn extends Ne{constructor(e){super(),Ae(this,e,gn,mn,i,{label:2,name:3,value:0,placeholder:4,isValid:1,fillWidth:5,focusOnMount:9,monospace:6,validators:10})}}function yn(t){let n,r,s,o,a,i,l,u,d;return{c(){n=C("div"),r=C("button"),s=C("img"),a=T(),i=C("p"),l=E(t[0]),A(s,"class","svg"),c(s.src,o="./assets/chevron-"+t[1]+".svg")||A(s,"src",o),A(s,"alt",t[3]),A(i,"class","my-0"),A(r,"class","flex items-center select-none whitespace-nowrap svelte-hq9d7v"),P(r,"flex-row-reverse","right"===t[1]),P(r,"active",t[2]),A(n,"class","inline-block")},m(e,o){_(e,n,o),x(n,r),x(r,s),x(r,a),x(r,i),x(i,l),u||(d=j(r,"click",t[4]),u=!0)},p(e,[t]){2&t&&!c(s.src,o="./assets/chevron-"+e[1]+".svg")&&A(s,"src",o),8&t&&A(s,"alt",e[3]),1&t&&B(l,e[0]),2&t&&P(r,"flex-row-reverse","right"===e[1]),4&t&&P(r,"active",e[2])},i:e,o:e,d(e){e&&S(n),u=!1,d()}}}function $n(e,t,n){let r,{text:s}=t,{direction:o="right"}=t,{active:a=!0}=t,{onClick:i}=t;return e.$$set=e=>{"text"in e&&n(0,s=e.text),"direction"in e&&n(1,o=e.direction),"active"in e&&n(2,a=e.active),"onClick"in e&&n(5,i=e.onClick)},e.$$.update=()=>{2&e.$$.dirty&&n(3,r="left"===o?"<":">")},[s,o,a,r,function(){a&&i()},i]}class vn extends Ne{constructor(e){super(),Ae(this,e,$n,yn,i,{text:0,direction:1,active:2,onClick:5})}}function xn(e,t,n){const r=e.slice();return r[25]=t[n],r[27]=n,r}const wn=e=>({}),kn=e=>({}),_n=e=>({}),Sn=e=>({});function Cn(e){let t;const n=e[22].header,r=u(n,e,e[21],Sn);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,s){r&&r.p&&(!t||2097152&s)&&h(r,n,e,e[21],t?f(n,e[21],s,_n):p(e[21]),Sn)},i(e){t||(ge(r,e),t=!0)},o(e){be(r,e),t=!1},d(e){r&&r.d(e)}}}function En(t){let n,r,s,o,a=t[2]&&Tn(t);return{c(){n=C("h2"),r=E(t[1]),s=T(),a&&a.c(),o=L(),A(n,"class","font-bold text-2xl text-gradient drop-shadow")},m(e,t){_(e,n,t),x(n,r),_(e,s,t),a&&a.m(e,t),_(e,o,t)},p(e,t){2&t&&B(r,e[1]),e[2]?a?a.p(e,t):(a=Tn(e),a.c(),a.m(o.parentNode,o)):a&&(a.d(1),a=null)},i:e,o:e,d(e){e&&S(n),e&&S(s),a&&a.d(e),e&&S(o)}}}function Tn(e){let t,n;return{c(){t=C("p"),n=E(e[2]),A(t,"class","text-sm mt-2 text-subtle")},m(e,r){_(e,t,r),x(t,n)},p(e,t){4&t&&B(n,e[2])},d(e){e&&S(t)}}}function Ln(e,t){let n,r,s,o;function a(){return t[24](t[27])}return{key:e,first:null,c(){n=C("button"),A(n,"class","progress-circle h-5 w-5 rounded-full border border-gray-500 svelte-lqpgi7"),A(n,"tabindex",r=t[10](t[27])?0:-1),P(n,"clickable",t[10](t[27])),P(n,"before-current",t[11](t[27])),P(n,"filled",t[9](t[27])),P(n,"opacity-20",t[8](t[27])),this.first=n},m(e,t){_(e,n,t),s||(o=j(n,"click",a),s=!0)},p(e,s){t=e,16&s&&r!==(r=t[10](t[27])?0:-1)&&A(n,"tabindex",r),1040&s&&P(n,"clickable",t[10](t[27])),2064&s&&P(n,"before-current",t[11](t[27])),528&s&&P(n,"filled",t[9](t[27])),272&s&&P(n,"opacity-20",t[8](t[27]))},d(e){e&&S(n),s=!1,o()}}}function jn(e){let t,n,r,s,o,a,i,l,c,d,m,g,b,y,$,v=[],w=new Map;const k=[En,Cn],E=[];function L(e,t){return e[1]?0:1}r=L(e),s=E[r]=k[r](e);const j=e[22].content,N=u(j,e,e[21],kn);let B=e[4];const R=e=>e[27];for(let t=0;t<B.length;t+=1){let n=xn(e,B,t),r=R(n);w.set(r,v[t]=Ln(r,n))}return b=new vn({props:{direction:"right",active:e[0].nextButtonEnabled,text:e[6],onClick:e[12]}}),{c(){t=C("div"),n=C("div"),s.c(),a=T(),i=C("div"),N&&N.c(),c=T(),d=C("div"),m=C("div");for(let e=0;e<v.length;e+=1)v[e].c();g=T(),Te(b.$$.fragment),A(i,"class","my-8 flex w-full"),P(i,"items-center",e[3]),A(m,"class","flex gap-2"),A(d,"class","flex justify-between")},m(s,o){_(s,t,o),x(t,n),E[r].m(n,null),x(t,a),x(t,i),N&&N.m(i,null),e[23](i),x(t,c),x(t,d),x(d,m);for(let e=0;e<v.length;e+=1)v[e].m(m,null);x(d,g),Le(b,d,null),$=!0},p(t,[o]){let a=r;r=L(e=t),r===a?E[r].p(e,o):(pe(),be(E[a],1,1,(()=>{E[a]=null})),me(),s=E[r],s?s.p(e,o):(s=E[r]=k[r](e),s.c()),ge(s,1),s.m(n,null)),N&&N.p&&(!$||2097152&o)&&h(N,j,e,e[21],$?f(j,e[21],o,wn):p(e[21]),kn),8&o&&P(i,"items-center",e[3]),12048&o&&(B=e[4],v=_e(v,o,R,1,e,B,w,m,we,Ln,null,xn));const l={};1&o&&(l.active=e[0].nextButtonEnabled),64&o&&(l.text=e[6]),b.$set(l)},i(t){$||(ge(s),o||re((()=>{o=$e(n,ht,{y:-15,duration:e[7]}),o.start()})),ge(N,t),l||re((()=>{l=$e(i,ht,{y:20,duration:e[7]}),l.start()})),ge(b.$$.fragment,t),y||re((()=>{y=$e(d,ht,{y:35,duration:e[7]}),y.start()})),$=!0)},o(e){be(s),be(N,e),be(b.$$.fragment,e),$=!1},d(n){n&&S(t),E[r].d(),N&&N.d(n),e[23](null);for(let e=0;e<v.length;e+=1)v[e].d();je(b)}}}function An(e,t,n){let r,{$$slots:s={},$$scope:o}=t,{numPages:a}=t,{state:i}=t,{onLastPageComplete:l}=t,{onPageComplete:c=null}=t,{title:u=null}=t,{subtitle:d=null}=t,{minimumContentHeight:f=null}=t,{centerVertically:h=!1}=t,{canClickBack:p=!0}=t,{nextButton:m="Next"}=t,{completeButton:g=m}=t;const b=nt.reduceMotion?0:850;let y,$={length:a};function v(e){return p&&x(e)}function x(e){return e+1<i.currentPage}function w(e){v(e)&&(n(0,i.currentPage=e+1,i),n(4,$),n(0,i))}q((()=>{f&&n(5,y.style.minHeight=f+"px",y)}));return e.$$set=e=>{"numPages"in e&&n(14,a=e.numPages),"state"in e&&n(0,i=e.state),"onLastPageComplete"in e&&n(15,l=e.onLastPageComplete),"onPageComplete"in e&&n(16,c=e.onPageComplete),"title"in e&&n(1,u=e.title),"subtitle"in e&&n(2,d=e.subtitle),"minimumContentHeight"in e&&n(17,f=e.minimumContentHeight),"centerVertically"in e&&n(3,h=e.centerVertically),"canClickBack"in e&&n(18,p=e.canClickBack),"nextButton"in e&&n(19,m=e.nextButton),"completeButton"in e&&n(20,g=e.completeButton),"$$scope"in e&&n(21,o=e.$$scope)},e.$$.update=()=>{1589249&e.$$.dirty&&n(6,r=i.currentPage===a?g:m),17&e.$$.dirty&&(i.nextButtonEnabled,n(4,$),n(0,i))},[i,u,d,h,$,y,r,b,function(e){return e+1===i.currentPage&&!i.nextButtonEnabled},function(e){return e<i.currentPage},v,x,function(){i.nextButtonEnabled&&(c?.(i.currentPage),i.currentPage===a?l():(n(0,i.currentPage++,i),n(4,$),n(0,i)))},w,a,l,c,f,p,m,g,o,s,function(e){J[e?"unshift":"push"]((()=>{y=e,n(5,y)}))},e=>w(e)]}class Nn extends Ne{constructor(e){super(),Ae(this,e,An,jn,i,{numPages:14,state:0,onLastPageComplete:15,onPageComplete:16,title:1,subtitle:2,minimumContentHeight:17,centerVertically:3,canClickBack:18,nextButton:19,completeButton:20})}}function Bn(e){let t;const n=e[4].default,r=u(n,e,e[3],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,s){r&&r.p&&(!t||8&s)&&h(r,n,e,e[3],t?f(n,e[3],s,null):p(e[3]),null)},i(e){t||(ge(r,e),t=!0)},o(e){be(r,e),t=!1},d(e){r&&r.d(e)}}}function Rn(e){let t,n,r=e[0]&&Bn(e);return{c(){r&&r.c(),t=L()},m(e,s){r&&r.m(e,s),_(e,t,s),n=!0},p(e,[n]){e[0]?r?(r.p(e,n),1&n&&ge(r,1)):(r=Bn(e),r.c(),ge(r,1),r.m(t.parentNode,t)):r&&(pe(),be(r,1,1,(()=>{r=null})),me())},i(e){n||(ge(r),n=!0)},o(e){be(r),n=!1},d(e){r&&r.d(e),e&&S(t)}}}function Dn(e,t,n){let r,{$$slots:s={},$$scope:o}=t,{pageNumber:a}=t,{state:i}=t;return e.$$set=e=>{"pageNumber"in e&&n(1,a=e.pageNumber),"state"in e&&n(2,i=e.state),"$$scope"in e&&n(3,o=e.$$scope)},e.$$.update=()=>{6&e.$$.dirty&&n(0,r=a===i.currentPage)},[r,a,i,o,s]}class Pn extends Ne{constructor(e){super(),Ae(this,e,Dn,Rn,i,{pageNumber:1,state:2})}}function In(e){let t,n,r,s,o,a,i;function l(t){e[3](t)}function c(t){e[4](t)}let u={label:'Type "Delete" to confirm',placeholder:"Delete",name:"delete-everything-confirmation-input",fillWidth:!0,focusOnMount:!0,validators:[{test:On,message:'Value must be "Delete"'}]};return void 0!==e[0]&&(u.value=e[0]),void 0!==e[1].nextButtonEnabled&&(u.isValid=e[1].nextButtonEnabled),s=new bn({props:u}),J.push((()=>Ee(s,"value",l))),J.push((()=>Ee(s,"isValid",c))),{c(){t=C("div"),n=C("p"),n.textContent="This will clear all of your data. All of it. Every last byte. There\n          will be nothing left, at all, and it cannot be recovered. Ever. Are\n          you sure you want to continue?",r=T(),Te(s.$$.fragment),A(n,"class","mb-8")},m(e,o){_(e,t,o),x(t,n),x(t,r),Le(s,t,null),i=!0},p(e,t){const n={};!o&&1&t&&(o=!0,n.value=e[0],se((()=>o=!1))),!a&&2&t&&(a=!0,n.isValid=e[1].nextButtonEnabled,se((()=>a=!1))),s.$set(n)},i(e){i||(ge(s.$$.fragment,e),i=!0)},o(e){be(s.$$.fragment,e),i=!1},d(e){e&&S(t),je(s)}}}function zn(e){let t,n,r,s;function o(t){e[5](t)}let a={pageNumber:1,$$slots:{default:[In]},$$scope:{ctx:e}};return void 0!==e[1]&&(a.state=e[1]),n=new Pn({props:a}),J.push((()=>Ee(n,"state",o))),{c(){t=C("div"),Te(n.$$.fragment),A(t,"slot","content"),A(t,"class","w-full")},m(e,r){_(e,t,r),Le(n,t,null),s=!0},p(e,t){const s={};131&t&&(s.$$scope={dirty:t,ctx:e}),!r&&2&t&&(r=!0,s.state=e[1],se((()=>r=!1))),n.$set(s)},i(e){s||(ge(n.$$.fragment,e),s=!0)},o(e){be(n.$$.fragment,e),s=!1},d(e){e&&S(t),je(n)}}}function Mn(e){let t,n,r;function s(t){e[6](t)}let o={title:"Confirm Workspace Reset",numPages:1,completeButton:"Delete Everything Forever",onLastPageComplete:e[2],$$slots:{content:[zn]},$$scope:{ctx:e}};return void 0!==e[1]&&(o.state=e[1]),t=new Nn({props:o}),J.push((()=>Ee(t,"state",s))),{c(){Te(t.$$.fragment)},m(e,n){Le(t,e,n),r=!0},p(e,[r]){const s={};131&r&&(s.$$scope={dirty:r,ctx:e}),!n&&2&r&&(n=!0,s.state=e[1],se((()=>n=!1))),t.$set(s)},i(e){r||(ge(t.$$.fragment,e),r=!0)},o(e){be(t.$$.fragment,e),r=!1},d(e){je(t,e)}}}const On=function(e){return"delete"===e.toLowerCase().trim()};function Fn(e,t,n){let r="",s={currentPage:1,nextButtonEnabled:!1};return[r,s,function(){localStorage.clear(),fn.clear("metadata"),fn.clear("stbls"),Ue("/"),setTimeout((()=>{location.reload()}),200)},function(e){r=e,n(0,r)},function(t){e.$$.not_equal(s.nextButtonEnabled,t)&&(s.nextButtonEnabled=t,n(1,s))},function(e){s=e,n(1,s)},function(e){s=e,n(1,s)}]}class Hn extends Ne{constructor(e){super(),Ae(this,e,Fn,Mn,i,{})}}function Un(e,t,n){const r=e.slice();return r[12]=t[n],r[11]=n,r}function Wn(e,t,n){const r=e.slice();return r[9]=t[n],r[11]=n,r}function Gn(e,t,n){const r=e.slice();return r[12]=t[n],r[11]=n,r}function qn(e){let t,n;return{c(){t=C("p"),n=E(e[2]),A(t,"class","text-subtle uppercase text-xs font-bold mb-2")},m(e,r){_(e,t,r),x(t,n)},p(e,t){4&t&&B(n,e[2])},d(e){e&&S(t)}}}function Kn(e){let t,n=[],r=new Map,s=e[6];const o=e=>e[11];for(let t=0;t<s.length;t+=1){let a=Un(e,s,t),i=o(a);r.set(i,n[t]=Zn(i,a))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=L()},m(e,r){for(let t=0;t<n.length;t+=1)n[t].m(e,r);_(e,t,r)},p(e,a){64&a&&(s=e[6],n=_e(n,a,o,1,e,s,r,t.parentNode,we,Zn,t,Un))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&S(t)}}}function Vn(e){let t,n=[],r=new Map,s=e[7];const o=e=>e[11];for(let t=0;t<s.length;t+=1){let a=Wn(e,s,t),i=o(a);r.set(i,n[t]=Yn(i,a))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=L()},m(e,r){for(let t=0;t<n.length;t+=1)n[t].m(e,r);_(e,t,r)},p(e,a){128&a&&(s=e[7],n=_e(n,a,o,1,e,s,r,t.parentNode,we,Yn,t,Wn))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&S(t)}}}function Zn(e,t){let n,r,s,o,a=t[12].text+"";return{key:e,first:null,c(){n=C("option"),r=E(a),s=T(),n.__value=o=t[12].value,n.value=n.__value,this.first=n},m(e,t){_(e,n,t),x(n,r),x(n,s)},p(e,s){t=e,64&s&&a!==(a=t[12].text+"")&&B(r,a),64&s&&o!==(o=t[12].value)&&(n.__value=o,n.value=n.__value)},d(e){e&&S(n)}}}function Jn(e,t){let n,r,s,o,a=t[12].text+"";return{key:e,first:null,c(){n=C("option"),r=E(a),s=T(),n.__value=o=t[12].value,n.value=n.__value,this.first=n},m(e,t){_(e,n,t),x(n,r),x(n,s)},p(e,s){t=e,128&s&&a!==(a=t[12].text+"")&&B(r,a),128&s&&o!==(o=t[12].value)&&(n.__value=o,n.value=n.__value)},d(e){e&&S(n)}}}function Yn(e,t){let n,r,s=[],o=new Map,a=t[9].options;const i=e=>e[11];for(let e=0;e<a.length;e+=1){let n=Gn(t,a,e),r=i(n);o.set(r,s[e]=Jn(r,n))}return{key:e,first:null,c(){n=C("optgroup");for(let e=0;e<s.length;e+=1)s[e].c();A(n,"label",r=t[9].name),this.first=n},m(e,t){_(e,n,t);for(let e=0;e<s.length;e+=1)s[e].m(n,null)},p(e,l){t=e,128&l&&(a=t[9].options,s=_e(s,l,i,1,t,a,o,n,we,Jn,null,Gn)),128&l&&r!==(r=t[9].name)&&A(n,"label",r)},d(e){e&&S(n);for(let e=0;e<s.length;e+=1)s[e].d()}}}function Xn(t){let n,r,s,o,a,i,l=Boolean(t[2]),c=l&&qn(t);function u(e,t){return 128&t&&(o=null),null==o&&(o=!!Boolean(e[7])),o?Vn:Kn}let d=u(t,-1),f=d(t);return{c(){n=C("div"),c&&c.c(),r=T(),s=C("select"),f.c(),A(s,"name",t[3]),A(s,"class","block h-10 pl-2 pr-8 rounded text-sm bg-transparent border border-gray-600 dark:border-gray-400 svelte-132dmde"),s.disabled=t[1],void 0===t[0]&&re((()=>t[8].call(s))),P(s,"w-full",t[4]),A(n,"class","flex flex-col"),P(n,"w-full",t[4]),P(n,"sm:items-end",t[5])},m(e,o){_(e,n,o),c&&c.m(n,null),x(n,r),x(n,s),f.m(s,null),D(s,t[0]),a||(i=j(s,"change",t[8]),a=!0)},p(e,[t]){4&t&&(l=Boolean(e[2])),l?c?c.p(e,t):(c=qn(e),c.c(),c.m(n,r)):c&&(c.d(1),c=null),d===(d=u(e,t))&&f?f.p(e,t):(f.d(1),f=d(e),f&&(f.c(),f.m(s,null))),8&t&&A(s,"name",e[3]),2&t&&(s.disabled=e[1]),193&t&&D(s,e[0]),16&t&&P(s,"w-full",e[4]),16&t&&P(n,"w-full",e[4]),32&t&&P(n,"sm:items-end",e[5])},i:e,o:e,d(e){e&&S(n),c&&c.d(),f.d(),a=!1,i()}}}function Qn(e,t,n){let{disabled:r=!1}=t,{label:s=null}=t,{name:o}=t,{fillWidth:a=!1}=t,{alignRight:i=!1}=t,{selected:l}=t,{options:c=null}=t,{optionGroups:u=null}=t;return e.$$set=e=>{"disabled"in e&&n(1,r=e.disabled),"label"in e&&n(2,s=e.label),"name"in e&&n(3,o=e.name),"fillWidth"in e&&n(4,a=e.fillWidth),"alignRight"in e&&n(5,i=e.alignRight),"selected"in e&&n(0,l=e.selected),"options"in e&&n(6,c=e.options),"optionGroups"in e&&n(7,u=e.optionGroups)},[l,r,s,o,a,i,c,u,function(){l=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),n(0,l),n(7,u),n(6,c)}]}class er extends Ne{constructor(e){super(),Ae(this,e,Qn,Xn,i,{disabled:1,label:2,name:3,fillWidth:4,alignRight:5,selected:0,options:6,optionGroups:7})}}const{enums:tr}=window.S4TK,nr=new Map;function rr(e){return nr.get(e)}function sr(e){const t=rr(e);return t.enumValue?`${t.englishName} (${t.nativeName})`:t.englishName}function or(e){let t,n,r;function s(t){e[6](t)}let o={label:e[1],fillWidth:e[2],alignRight:e[3],name:"locale-select",options:e[4]};return void 0!==e[0]&&(o.selected=e[0]),t=new er({props:o}),J.push((()=>Ee(t,"selected",s))),{c(){Te(t.$$.fragment)},m(e,n){Le(t,e,n),r=!0},p(e,[r]){const s={};2&r&&(s.label=e[1]),4&r&&(s.fillWidth=e[2]),8&r&&(s.alignRight=e[3]),16&r&&(s.options=e[4]),!n&&1&r&&(n=!0,s.selected=e[0],se((()=>n=!1))),t.$set(s)},i(e){r||(ge(t.$$.fragment,e),r=!0)},o(e){be(t.$$.fragment,e),r=!1},d(e){je(t,e)}}}function ar(e,t,n){let r;const{enums:s}=window.S4TK;let{label:o=null}=t,{fillWidth:a=!1}=t,{alignRight:i=!1}=t,{selected:l}=t,{localesToChoose:c=s.StringTableLocale.all()}=t;return e.$$set=e=>{"label"in e&&n(1,o=e.label),"fillWidth"in e&&n(2,a=e.fillWidth),"alignRight"in e&&n(3,i=e.alignRight),"selected"in e&&n(0,l=e.selected),"localesToChoose"in e&&n(5,c=e.localesToChoose)},e.$$.update=()=>{32&e.$$.dirty&&n(4,r=c.map((e=>({value:e,text:sr(e)}))).sort(((e,t)=>{const n=e.text.toLowerCase(),r=t.text.toLowerCase();return n<r?-1:n>r?1:0})))},[l,o,a,i,r,c,function(e){l=e,n(0,l)}]}[{enumName:"English",englishName:"English",country:"United States",nativeName:"English",code:"EN"},{enumName:"ChineseSimplified",englishName:"Chinese, Simplified",country:"China",nativeName:"简体中文",code:"ZH"},{enumName:"ChineseTraditional",englishName:"Chinese, Traditional",country:"China",nativeName:"繁體中文",code:"ZH"},{enumName:"Czech",englishName:"Czech",country:"Czechia",nativeName:"Čeština",code:"CS"},{enumName:"Danish",englishName:"Danish",country:"Denmark",nativeName:"Dansk",code:"DA"},{enumName:"Dutch",englishName:"Dutch",country:"Netherlands",nativeName:"Nederlands",code:"NL"},{enumName:"Finnish",englishName:"Finnish",country:"Finland",nativeName:"Suomi",code:"FI"},{enumName:"French",englishName:"French",country:"France",nativeName:"Français",code:"FR"},{enumName:"German",englishName:"German",country:"Germany",nativeName:"Deutsch",code:"DE"},{enumName:"Italian",englishName:"Italian",country:"Italy",nativeName:"Italiano",code:"IT"},{enumName:"Japanese",englishName:"Japanese",country:"Japan",nativeName:"日本語",code:"JA"},{enumName:"Korean",englishName:"Korean",country:"South Korea",nativeName:"한국어",code:"KO"},{enumName:"Norwegian",englishName:"Norwegian",country:"Norway",nativeName:"Norsk",code:"NO"},{enumName:"Polish",englishName:"Polish",country:"Poland",nativeName:"Polski",code:"PL"},{enumName:"Portuguese",englishName:"Portuguese",country:"Brazil",nativeName:"Português",code:"PT"},{enumName:"Russian",englishName:"Russian",country:"Russia",nativeName:"Русский",code:"RU"},{enumName:"Spanish",englishName:"Spanish",country:"Spain",nativeName:"Español",code:"ES"},{enumName:"Swedish",englishName:"Swedish",country:"Sweden",nativeName:"Svenska",code:"SV"}].forEach((e=>{const t=tr.StringTableLocale[e.enumName];e.enumValue=t,nr.set(t,e)}));class ir extends Ne{constructor(e){super(),Ae(this,e,ar,or,i,{label:1,fillWidth:2,alignRight:3,selected:0,localesToChoose:5})}}function lr(e){let t,n,r,s,a,i,l,c,u,d,f,h,p,m,g,b,y,$,v,w,k,E,L,N,B,R,D,P,I,z,M,O;function F(t){e[11](t)}let H={label:"Download JSON as Object"};function U(t){e[12](t)}void 0!==e[1].useObjectJson&&(H.checked=e[1].useObjectJson),f=new Jt({props:H}),J.push((()=>Ee(f,"checked",F)));let W={label:"Disable Networking"};function G(t){e[13](t)}void 0!==e[1].rickGif&&(W.checked=e[1].rickGif),y=new Jt({props:W}),J.push((()=>Ee(y,"checked",U)));let q={label:"Hack the Mainframe"};return void 0!==e[1].mainframeHacked&&(q.checked=e[1].mainframeHacked),L=new Jt({props:q}),J.push((()=>Ee(L,"checked",G))),{c(){t=C("div"),n=C("div"),r=C("div"),s=C("button"),s.innerHTML='<img class="svg h-2" src="./assets/chevron-left.svg" alt="&lt;"/>\n              Back',a=T(),i=C("p"),i.textContent="Advanced",l=T(),c=C("div"),u=T(),d=C("div"),Te(f.$$.fragment),p=T(),m=C("p"),m.textContent="Map keys to values rather than use a list of key/value pairs. This\n              only affects downloads, not imports or the JSON editor.",g=T(),b=C("div"),Te(y.$$.fragment),v=T(),w=C("p"),w.textContent="This will never let you download.",k=T(),E=C("div"),Te(L.$$.fragment),B=T(),R=C("p"),R.textContent="1010 0100 0101 0101",D=T(),P=C("div"),I=C("button"),I.innerHTML='<img class="svg h-4 svelte-j46nw8" src="./assets/trash.svg" alt="Trash"/>\n            Delete Website Data',A(s,"class","w-12 text-subtle flex gap-2 items-center text-xs"),A(i,"class","text-sm font-bold"),A(c,"class","w-12"),A(r,"class","flex justify-between"),A(m,"class","text-subtle text-xs mt-2"),A(w,"class","text-subtle text-xs mt-2"),A(R,"class","text-subtle text-xs mt-2"),A(n,"class","w-full flex flex-col gap-4"),A(I,"class","setting hover:bg-red-600 focus:bg-red-600 dark:hover:bg-red-500 dark:focus:bg-red-500 border border-red-600 dark:border-red-500 h-10 flex items-center justify-center gap-4 rounded svelte-j46nw8"),A(P,"class","flex flex-col gap-4"),A(t,"class","flex-1 flex flex-col gap-4 justify-between")},m(o,h){_(o,t,h),x(t,n),x(n,r),x(r,s),x(r,a),x(r,i),x(r,l),x(r,c),x(n,u),x(n,d),Le(f,d,null),x(d,p),x(d,m),x(n,g),x(n,b),Le(y,b,null),x(b,v),x(b,w),x(n,k),x(n,E),Le(L,E,null),x(E,B),x(E,R),x(t,D),x(t,P),x(P,I),z=!0,M||(O=[j(s,"click",e[10]),j(I,"click",e[14])],M=!0)},p(e,t){const n={};!h&&2&t&&(h=!0,n.checked=e[1].useObjectJson,se((()=>h=!1))),f.$set(n);const r={};!$&&2&t&&($=!0,r.checked=e[1].rickGif,se((()=>$=!1))),y.$set(r);const s={};!N&&2&t&&(N=!0,s.checked=e[1].mainframeHacked,se((()=>N=!1))),L.$set(s)},i(e){z||(ge(f.$$.fragment,e),ge(y.$$.fragment,e),ge(L.$$.fragment,e),z=!0)},o(e){be(f.$$.fragment,e),be(y.$$.fragment,e),be(L.$$.fragment,e),z=!1},d(e){e&&S(t),je(f),je(y),je(L),M=!1,o(O)}}}function cr(e){let t,n,r,s,o,a,i,l,c,u,d,f,h,p,m,g,b,y,$,v,w,k,E,L,N,B,R,D,P,I,z,M,O,F;function H(t){e[4](t)}let U={label:"default locale",fillWidth:!0};function W(t){e[5](t)}void 0!==e[1].defaultLocale&&(U.selected=e[1].defaultLocale),r=new ir({props:U}),J.push((()=>Ee(r,"selected",H)));let G={label:"Disable Blur Effect"};function q(t){e[6](t)}void 0!==e[1].disableBlur&&(G.checked=e[1].disableBlur),i=new Jt({props:G}),J.push((()=>Ee(i,"checked",W)));let K={label:"Disable Easter Eggs"};function V(t){e[7](t)}void 0!==e[1].disableEasterEggs&&(K.checked=e[1].disableEasterEggs),h=new Jt({props:K}),J.push((()=>Ee(h,"checked",q)));let Z={label:"Monochrome Toolbar"};function Y(t){e[8](t)}void 0!==e[1].disableToolbarColors&&(Z.checked=e[1].disableToolbarColors),$=new Jt({props:Z}),J.push((()=>Ee($,"checked",V)));let X={label:"Reduce Motion"};return void 0!==e[1].reduceMotion&&(X.checked=e[1].reduceMotion),N=new Jt({props:X}),J.push((()=>Ee(N,"checked",Y))),{c(){t=C("div"),n=C("div"),Te(r.$$.fragment),o=T(),a=C("div"),Te(i.$$.fragment),c=T(),u=C("p"),u.textContent="Make blurred backgrounds appear opaque.",d=T(),f=C("div"),Te(h.$$.fragment),m=T(),g=C("p"),g.textContent="If you hate fun or want better performance.",b=T(),y=C("div"),Te($.$$.fragment),w=T(),k=C("p"),k.textContent="Disable color-coding of bottom-right toolbar.",E=T(),L=C("div"),Te(N.$$.fragment),R=T(),D=C("p"),D.textContent="Disable fly, fade, and transition animations.",P=T(),I=C("div"),z=C("button"),z.innerHTML='Advanced\n            <img class="svg h-2" src="./assets/chevron-right.svg" alt="&gt;"/>',A(u,"class","text-subtle text-xs mt-2"),A(g,"class","text-subtle text-xs mt-2"),A(k,"class","text-subtle text-xs mt-2"),A(D,"class","text-subtle text-xs mt-2"),A(n,"class","flex-1 flex flex-col gap-4"),A(z,"class","text-subtle flex gap-2 items-center text-xs"),A(I,"class","w-full flex justify-end mb-2"),A(t,"class","flex-1 flex flex-col gap-4")},m(s,l){_(s,t,l),x(t,n),Le(r,n,null),x(n,o),x(n,a),Le(i,a,null),x(a,c),x(a,u),x(n,d),x(n,f),Le(h,f,null),x(f,m),x(f,g),x(n,b),x(n,y),Le($,y,null),x(y,w),x(y,k),x(n,E),x(n,L),Le(N,L,null),x(L,R),x(L,D),x(t,P),x(t,I),x(I,z),M=!0,O||(F=j(z,"click",e[9]),O=!0)},p(e,t){const n={};!s&&2&t&&(s=!0,n.selected=e[1].defaultLocale,se((()=>s=!1))),r.$set(n);const o={};!l&&2&t&&(l=!0,o.checked=e[1].disableBlur,se((()=>l=!1))),i.$set(o);const a={};!p&&2&t&&(p=!0,a.checked=e[1].disableEasterEggs,se((()=>p=!1))),h.$set(a);const c={};!v&&2&t&&(v=!0,c.checked=e[1].disableToolbarColors,se((()=>v=!1))),$.$set(c);const u={};!B&&2&t&&(B=!0,u.checked=e[1].reduceMotion,se((()=>B=!1))),N.$set(u)},i(e){M||(ge(r.$$.fragment,e),ge(i.$$.fragment,e),ge(h.$$.fragment,e),ge($.$$.fragment,e),ge(N.$$.fragment,e),M=!0)},o(e){be(r.$$.fragment,e),be(i.$$.fragment,e),be(h.$$.fragment,e),be($.$$.fragment,e),be(N.$$.fragment,e),M=!1},d(e){e&&S(t),je(r),je(i),je(h),je($),je(N),O=!1,F()}}}function ur(e){let t,n,r,s;const o=[cr,lr],a=[];function i(e,t){return"main"===e[3]?0:"advanced"===e[3]?1:-1}return~(n=i(e))&&(r=a[n]=o[n](e)),{c(){t=C("div"),r&&r.c(),A(t,"class","flex-1 flex flex-col gap-4")},m(e,r){_(e,t,r),~n&&a[n].m(t,null),s=!0},p(e,s){let l=n;n=i(e),n===l?~n&&a[n].p(e,s):(r&&(pe(),be(a[l],1,1,(()=>{a[l]=null})),me()),~n?(r=a[n],r?r.p(e,s):(r=a[n]=o[n](e),r.c()),ge(r,1),r.m(t,null)):r=null)},i(e){s||(ge(r),s=!0)},o(e){be(r),s=!1},d(e){e&&S(t),~n&&a[n].d()}}}function dr(e){let t,n;return t=new sn({props:{onClose:e[15],$$slots:{default:[fr]},$$scope:{ctx:e}}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.onClose=e[15]),65536&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function fr(e){let t,n;return t=new Hn({}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function hr(e){let t,n,r,s;t=new yt({props:{title:"Settings",onClose:e[0],$$slots:{default:[ur]},$$scope:{ctx:e}}});let o=e[2]&&dr(e);return{c(){Te(t.$$.fragment),n=T(),o&&o.c(),r=L()},m(e,a){Le(t,e,a),_(e,n,a),o&&o.m(e,a),_(e,r,a),s=!0},p(e,[n]){const s={};1&n&&(s.onClose=e[0]),65550&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s),e[2]?o?(o.p(e,n),4&n&&ge(o,1)):(o=dr(e),o.c(),ge(o,1),o.m(r.parentNode,r)):o&&(pe(),be(o,1,1,(()=>{o=null})),me())},i(e){s||(ge(t.$$.fragment,e),ge(o),s=!0)},o(e){be(t.$$.fragment,e),be(o),s=!1},d(e){je(t,e),e&&S(n),o&&o.d(e),e&&S(r)}}}function pr(e,t,n){let{onClose:r}=t,s=!1,o="main";return e.$$set=e=>{"onClose"in e&&n(0,r=e.onClose)},[r,nt,s,o,function(t){e.$$.not_equal(nt.defaultLocale,t)&&(nt.defaultLocale=t,n(1,nt))},function(t){e.$$.not_equal(nt.disableBlur,t)&&(nt.disableBlur=t,n(1,nt))},function(t){e.$$.not_equal(nt.disableEasterEggs,t)&&(nt.disableEasterEggs=t,n(1,nt))},function(t){e.$$.not_equal(nt.disableToolbarColors,t)&&(nt.disableToolbarColors=t,n(1,nt))},function(t){e.$$.not_equal(nt.reduceMotion,t)&&(nt.reduceMotion=t,n(1,nt))},()=>n(3,o="advanced"),()=>n(3,o="main"),function(t){e.$$.not_equal(nt.useObjectJson,t)&&(nt.useObjectJson=t,n(1,nt))},function(t){e.$$.not_equal(nt.rickGif,t)&&(nt.rickGif=t,n(1,nt))},function(t){e.$$.not_equal(nt.mainframeHacked,t)&&(nt.mainframeHacked=t,n(1,nt))},()=>n(2,s=!0),()=>n(2,s=!1)]}class mr extends Ne{constructor(e){super(),Ae(this,e,pr,hr,i,{onClose:0})}}function gr(e){let t,n,r,s,a,i,l,c,u,d,f,h,p,m,g,b,y,$,v,w,k,L,N,R,D,P,I,z,M,O,F,H,U,W,G,q,K,V,Z,Y,X,Q,ee,te,ne,re,oe,ae,ie,le,ce,ue,de,fe,he;function pe(t){e[14](t)}let me={name:"hasher-input",placeholder:"Something...",fillWidth:!0};function ye(t){e[16](t)}void 0!==e[1]&&(me.value=e[1]),c=new bn({props:me}),J.push((()=>Ee(c,"value",pe)));let $e={label:"Force high bit"};function ve(t){e[17](t)}void 0!==e[2]&&($e.checked=e[2]),ne=new Jt({props:$e}),J.push((()=>Ee(ne,"checked",ye)));let xe={label:"Remove locale from 64-bit"};function we(t){e[18](t)}void 0!==e[3]&&(xe.checked=e[3]),ae=new Jt({props:xe}),J.push((()=>Ee(ae,"checked",ve)));let ke={label:"Use hex prefix"};return void 0!==e[4]&&(ke.checked=e[4]),ce=new Jt({props:ke}),J.push((()=>Ee(ce,"checked",we))),{c(){t=C("div"),n=C("div"),r=C("div"),s=C("p"),s.textContent="ENTER TEXT TO HASH",a=T(),i=C("button"),i.textContent="CLEAR",l=T(),Te(c.$$.fragment),d=T(),f=C("div"),h=C("div"),p=C("p"),p.textContent="32-bit",m=T(),g=C("div"),b=C("p"),b.textContent="Decimal",y=T(),$=C("button"),v=E(e[6]),w=T(),k=C("div"),L=C("p"),L.textContent="Hexadecimal",N=T(),R=C("button"),D=E(e[9]),P=T(),I=C("div"),z=C("p"),z.textContent="64-bit",M=T(),O=C("div"),F=C("p"),F.textContent="Decimal",H=T(),U=C("button"),W=E(e[5]),G=T(),q=C("div"),K=C("p"),K.textContent="Hexadecimal",V=T(),Z=C("button"),Y=E(e[8]),X=T(),Q=C("p"),Q.textContent="Click number to copy.",ee=T(),te=C("div"),Te(ne.$$.fragment),oe=T(),Te(ae.$$.fragment),le=T(),Te(ce.$$.fragment),A(s,"class","text-subtle text-xs font-bold"),A(i,"class","text-xs text-accent-secondary-light dark:text-accent-secondary-dark hacker-text-lime underline hover:no-underline"),A(r,"class","flex justify-between items-center"),A(n,"class","flex flex-col gap-2"),A(p,"class","text-sm text-subtle uppercase font-bold"),A(b,"class","text-xs"),A($,"class","monospace hover:text-accent-primary-light dark:hover:text-accent-primary-dark hover:hacker-text-green"),A(g,"class","flex justify-between items-center"),A(L,"class","text-xs"),A(R,"class","monospace hover:text-accent-primary-light dark:hover:text-accent-primary-dark hover:hacker-text-green"),A(k,"class","flex justify-between items-center"),A(z,"class","text-sm text-subtle uppercase font-bold"),A(F,"class","text-xs"),A(U,"class","monospace hover:text-accent-primary-light dark:hover:text-accent-primary-dark hover:hacker-text-green"),A(O,"class","flex justify-between items-center"),A(K,"class","text-xs"),A(Z,"class","monospace hover:text-accent-primary-light dark:hover:text-accent-primary-dark hover:hacker-text-green"),A(q,"class","flex justify-between items-center"),A(Q,"class","text-xs text-subtle text-right"),A(f,"class","flex flex-col gap-2"),A(te,"class","flex flex-col gap-2"),A(t,"class","flex-1 flex flex-col justify-between")},m(o,u){_(o,t,u),x(t,n),x(n,r),x(r,s),x(r,a),x(r,i),x(n,l),Le(c,n,null),x(t,d),x(t,f),x(f,h),x(h,p),x(h,m),x(h,g),x(g,b),x(g,y),x(g,$),x($,v),x(h,w),x(h,k),x(k,L),x(k,N),x(k,R),x(R,D),x(f,P),x(f,I),x(I,z),x(I,M),x(I,O),x(O,F),x(O,H),x(O,U),x(U,W),x(I,G),x(I,q),x(q,K),x(q,V),x(q,Z),x(Z,Y),x(f,X),x(f,Q),e[15](Q),x(t,ee),x(t,te),Le(ne,te,null),x(te,oe),Le(ae,te,null),x(te,le),Le(ce,te,null),de=!0,fe||(he=[j(i,"click",e[13]),j($,"click",e[10]),j(R,"click",e[10]),j(U,"click",e[10]),j(Z,"click",e[10])],fe=!0)},p(e,t){const n={};!u&&2&t&&(u=!0,n.value=e[1],se((()=>u=!1))),c.$set(n),(!de||64&t)&&B(v,e[6]),(!de||512&t)&&B(D,e[9]),(!de||32&t)&&B(W,e[5]),(!de||256&t)&&B(Y,e[8]);const r={};!re&&4&t&&(re=!0,r.checked=e[2],se((()=>re=!1))),ne.$set(r);const s={};!ie&&8&t&&(ie=!0,s.checked=e[3],se((()=>ie=!1))),ae.$set(s);const o={};!ue&&16&t&&(ue=!0,o.checked=e[4],se((()=>ue=!1))),ce.$set(o)},i(e){de||(ge(c.$$.fragment,e),ge(ne.$$.fragment,e),ge(ae.$$.fragment,e),ge(ce.$$.fragment,e),de=!0)},o(e){be(c.$$.fragment,e),be(ne.$$.fragment,e),be(ae.$$.fragment,e),be(ce.$$.fragment,e),de=!1},d(n){n&&S(t),je(c),e[15](null),je(ne),je(ae),je(ce),fe=!1,o(he)}}}function br(e){let t,n;return t=new yt({props:{title:"Hasher",onClose:e[0],$$slots:{default:[gr]},$$scope:{ctx:e}}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.onClose=e[0]),8389630&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function yr(e,t,n){let r,s,o,a,i,l;const{hashing:c,formatting:u,enums:d}=window.S4TK;let f,h,{onClose:p}=t,m="",g=!1,b=!1,y=!1;return e.$$set=e=>{"onClose"in e&&n(0,p=e.onClose)},e.$$.update=()=>{6&e.$$.dirty&&n(6,r=c.fnv32(m,g)),80&e.$$.dirty&&n(9,s=u.formatAsHexString(r,8,y)),8&e.$$.dirty&&n(11,o=b?14:16),6&e.$$.dirty&&n(12,a=c.fnv64(m,g)),4104&e.$$.dirty&&n(5,i=b?d.StringTableLocale.getInstanceBase(a):a),2096&e.$$.dirty&&n(8,l=u.formatAsHexString(i,o,y))},[p,m,g,b,y,i,r,h,l,s,function(e){const t=e.target;navigator.clipboard.writeText(t.innerText),n(7,h.innerText="Copied!",h),f&&clearTimeout(f),f=setTimeout((()=>{n(7,h.innerText="Click number to copy.",h),f=void 0}),1500)},o,a,()=>n(1,m=""),function(e){m=e,n(1,m)},function(e){J[e?"unshift":"push"]((()=>{h=e,n(7,h)}))},function(e){g=e,n(2,g)},function(e){b=e,n(3,b)},function(e){y=e,n(4,y)}]}class $r extends Ne{constructor(e){super(),Ae(this,e,yr,br,i,{onClose:0})}}var vr={tokens:[{name:"Names & Pronouns",tokens:["SimFirstName","SimFirstNameList","SimLastName","SimName","SimNameAndPronouns","SimPronounObjective","SimPronounPossessiveDependent","SimPronounPossessiveIndependent","SimPronounReflexive","SimPronounSubjective","SimPronouns"]},{name:"Objects",tokens:["ObjectCatalogDescription","ObjectCatalogName","ObjectDescription","ObjectName"]},{name:"Time",tokens:["DateLong","DateShort","DayOfWeekLong","DayOfWeekShort","TimeLong","TimeShort","Timespan","TimespanShort"]},{name:"Other",tokens:["ClubPoints","Currency","FamePoints","GalacticCredits","Influence","Money","Number","OccultPoints","PerkPoints","Points","RecyclingBits","RecyclingPieces","String"]}],tokenHints:{SimPronounObjective:"Him/Her",SimPronounPossessiveDependent:"His/Her",SimPronounPossessiveIndependent:"His/Hers",SimPronounReflexive:"Himself/Herself",SimPronounSubjective:"He/She"},suffixes:["capitalize","enAn","enHouseholdNamePlural","xxAllCaps","xxUpper"]};function xr(e){let t,n,r,s,a,i,l,c,u,d,f,h,p,m,g,b,y,$,v,w,k,L,D,P,I,z,M,O,F,H,U,W,G,q;function K(t){e[13](t)}let V={label:"Token",name:"tokens-select",fillWidth:!0,optionGroups:e[9]};function Z(t){e[14](t)}void 0!==e[4]&&(V.selected=e[4]),u=new er({props:V}),J.push((()=>Ee(u,"selected",K)));let Y={label:"Suffix",name:"suffixes-select",fillWidth:!0,options:e[10]};function X(t){e[15](t)}void 0!==e[5]&&(Y.selected=e[5]),h=new er({props:Y}),J.push((()=>Ee(h,"selected",Z)));let Q={name:"male-token-input",placeholder:"Male...",fillWidth:!0};function ee(t){e[16](t)}void 0!==e[2]&&(Q.value=e[2]),L=new bn({props:Q}),J.push((()=>Ee(L,"value",X)));let te={name:"female-token-input",placeholder:"Female...",fillWidth:!0};return void 0!==e[3]&&(te.value=e[3]),I=new bn({props:te}),J.push((()=>Ee(I,"value",ee))),{c(){t=C("div"),n=C("div"),r=C("p"),r.textContent="Token Index:",s=T(),a=C("input"),i=T(),l=C("div"),c=C("div"),Te(u.$$.fragment),f=T(),Te(h.$$.fragment),m=T(),g=C("button"),b=E(e[7]),y=T(),$=C("div"),v=C("p"),v.textContent="Male/Female Pair",w=T(),k=C("div"),Te(L.$$.fragment),P=T(),Te(I.$$.fragment),M=T(),O=C("button"),F=E(e[8]),H=T(),U=C("p"),U.textContent="Click any output token to copy.",A(r,"class","text-sm whitespace-nowrap max-w-min"),A(a,"type","number"),A(a,"min","0"),A(a,"class","w-full block h-10 px-2 rounded text-sm placeholder-gray-500 dark:placeholder-gray-500 bg-transparent border border-gray-600 dark:border-gray-400"),A(a,"placeholder","#"),A(n,"class","flex justify-between items-center gap-8"),A(c,"class","flex gap-2 justify-between"),A(g,"class","monospace break-all hover:text-accent-primary-light dark:hover:text-accent-primary-dark hover:hacker-text-green text-left text-sm mt-2"),A(v,"class","text-subtle text-xs font-bold uppercase mb-2"),A(k,"class","flex justify-between gap-2"),A(O,"class","monospace break-all hover:text-accent-primary-light dark:hover:text-accent-primary-dark hover:hacker-text-green text-left text-sm mt-2"),A(U,"class","text-xs text-subtle mt-1"),A(t,"class","flex flex-col gap-4")},m(o,d){_(o,t,d),x(t,n),x(n,r),x(n,s),x(n,a),R(a,e[1]),x(t,i),x(t,l),x(l,c),Le(u,c,null),x(c,f),Le(h,c,null),x(l,m),x(l,g),x(g,b),x(t,y),x(t,$),x($,v),x($,w),x($,k),Le(L,k,null),x(k,P),Le(I,k,null),x($,M),x($,O),x(O,F),x(t,H),x(t,U),e[17](U),W=!0,G||(q=[j(a,"input",e[12]),j(g,"click",e[11]),j(O,"click",e[11])],G=!0)},p(e,t){2&t&&N(a.value)!==e[1]&&R(a,e[1]);const n={};!d&&16&t&&(d=!0,n.selected=e[4],se((()=>d=!1))),u.$set(n);const r={};!p&&32&t&&(p=!0,r.selected=e[5],se((()=>p=!1))),h.$set(r),(!W||128&t)&&B(b,e[7]);const s={};!D&&4&t&&(D=!0,s.value=e[2],se((()=>D=!1))),L.$set(s);const o={};!z&&8&t&&(z=!0,o.value=e[3],se((()=>z=!1))),I.$set(o),(!W||256&t)&&B(F,e[8])},i(e){W||(ge(u.$$.fragment,e),ge(h.$$.fragment,e),ge(L.$$.fragment,e),ge(I.$$.fragment,e),W=!0)},o(e){be(u.$$.fragment,e),be(h.$$.fragment,e),be(L.$$.fragment,e),be(I.$$.fragment,e),W=!1},d(n){n&&S(t),je(u),je(h),je(L),je(I),e[17](null),G=!1,o(q)}}}function wr(e){let t,n;return t=new yt({props:{title:"Token Assistant",onClose:e[0],$$slots:{default:[xr]},$$scope:{ctx:e}}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.onClose=e[0]),2097662&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function kr(e,t,n){let r,s,o,a,{onClose:i}=t,l=0,c="",u="",d=0,f=0;const h=new Map,p=vr.tokens.map((({name:e,tokens:t})=>({name:e,options:t.map((e=>{const t=f++,n=vr.tokenHints[e],r=n?`${e} (${n})`:e;return h.set(t,e),{value:t,text:r}}))})));let m=0;const g=[{value:0,text:"None"},...vr.suffixes.map(((e,t)=>({value:t+1,text:e})))];return e.$$set=e=>{"onClose"in e&&n(0,i=e.onClose)},e.$$.update=()=>{14&e.$$.dirty&&n(8,r=`{M${l}.${c}}{F${l}.${u}}`),50&e.$$.dirty&&n(7,s=`{${l}.${h.get(d)}${0===m?"":"|"+g[m].text}}`)},[i,l,c,u,d,m,a,s,r,p,g,function(e){const t=e.target;navigator.clipboard.writeText(t.innerText),n(6,a.innerText="Copied!",a),o&&clearTimeout(o),o=setTimeout((()=>{n(6,a.innerText="Click any output token to copy.",a),o=void 0}),1500)},function(){l=N(this.value),n(1,l)},function(e){d=e,n(4,d)},function(e){m=e,n(5,m)},function(e){c=e,n(2,c)},function(e){u=e,n(3,u)},function(e){J[e?"unshift":"push"]((()=>{a=e,n(6,a)}))}]}class _r extends Ne{constructor(e){super(),Ae(this,e,kr,wr,i,{onClose:0})}}function Sr(e){let t,n;return t=new Kt({props:{onClose:e[7],args:e[2]}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.args=e[2]),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function Cr(e){let t,n;return t=new mr({props:{onClose:e[13]}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.onClose=e[13]),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function Er(e){let t,n;return t=new $r({props:{onClose:e[14]}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.onClose=e[14]),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function Tr(e){let t,n;return t=new _r({props:{onClose:e[15]}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.onClose=e[15]),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function Lr(e){let t,n,r,s,a,i,l,u,d,f,h,p,m,g,b,y,$,v,w,k,E,N,B,R,D,P,I,z,M,O,F,H,U,W,G,q,K,V,Z,J,Y,X,Q=e[1]&&Sr(e),ee=e[0]&&Cr(e),te=e[3]&&Er(e),ne=e[4]&&Tr(e);return{c(){t=C("nav"),n=C("a"),n.innerHTML='<img src="./assets/s4tk-transparent.png" alt="S4TK" class="h-5"/> \n    <h2 class="font-bold">STBL Studio</h2>',r=T(),s=C("div"),a=C("a"),a.innerHTML='<img src="./assets/home-outline.svg" alt="Home" class="svg tint-on-hover h-5"/>',i=T(),l=C("button"),u=C("img"),f=T(),h=C("div"),p=T(),m=C("div"),g=C("button"),g.textContent="Hasher",b=T(),y=C("button"),y.textContent="Token Assistant",$=T(),v=C("hr"),w=T(),k=C("a"),k.textContent="Pronoun Batch Fix",E=T(),N=C("hr"),B=T(),R=C("p"),R.textContent="External Links",D=T(),P=C("a"),P.textContent="String Search",I=T(),z=C("button"),z.innerHTML='<img src="./assets/help-circle-outline.svg" alt="Help" class="svg tint-on-hover h-6"/>',M=T(),O=C("button"),O.innerHTML='<img src="./assets/settings-outline.svg" alt="Settings" class="svg tint-on-hover h-5"/>',F=T(),H=C("button"),U=C("img"),G=T(),Q&&Q.c(),q=T(),ee&&ee.c(),K=T(),te&&te.c(),V=T(),ne&&ne.c(),Z=L(),A(n,"class","flex gap-2 items-center no-underline tint-on-hover whitespace-nowrap"),A(n,"href","/#"),A(a,"href","/#"),c(u.src,d="./assets/construct-outline.svg")||A(u,"src","./assets/construct-outline.svg"),A(u,"alt","Tools"),A(u,"class","svg tint-on-hover h-5"),A(h,"class","dropdown-bridge svelte-bdvnqh"),A(g,"class","p-2 w-full text-sm text-left rounded-t hover:bg-gray-300 hover:dark:bg-gray-950 hover:hacker-bg-gray"),A(y,"class","p-2 w-full text-sm text-left hover:bg-gray-300 hover:dark:bg-gray-950 hover:hacker-bg-gray"),A(v,"class","border-gray-300 dark:border-gray-800 hacker-border-gray"),A(k,"class","p-2 w-full text-sm rounded-b no-underline block hover:bg-gray-300 hover:dark:bg-gray-950 hover:hacker-bg-gray"),A(k,"href","#/tools/pronouns"),A(N,"class","border-gray-300 dark:border-gray-800 hacker-border-gray"),A(R,"class","px-2 pt-2 pb-1 text-xs text-subtle uppercase font-bold"),A(P,"class","p-2 w-full text-sm rounded-b no-underline block hover:bg-gray-300 hover:dark:bg-gray-950 hover:hacker-bg-gray"),A(P,"href","https://lot51.cc/tdesc/tools/strings"),A(P,"target","_blank"),A(m,"class","dropdown-content drop-shadow-md rounded text-left bg-gray-200 dark:bg-gray-900 hacker-border-gray hacker-bg-black svelte-bdvnqh"),A(l,"class","dropdown svelte-bdvnqh"),c(U.src,W="./assets/"+e[5]+"-outline.svg")||A(U,"src",W),A(U,"alt","Settings"),A(U,"class","svg tint-on-hover h-5"),A(s,"class","flex gap-3 items-center"),A(t,"class","fixed top-0 left-0 right-0 h-10 px-4 z-30 flex justify-between gap-4 bg-gray-200 dark:bg-gray-900 blurred-bg bottom-shadow svelte-bdvnqh")},m(o,c){_(o,t,c),x(t,n),x(t,r),x(t,s),x(s,a),x(s,i),x(s,l),x(l,u),x(l,f),x(l,h),x(l,p),x(l,m),x(m,g),x(m,b),x(m,y),x(m,$),x(m,v),x(m,w),x(m,k),x(m,E),x(m,N),x(m,B),x(m,R),x(m,D),x(m,P),x(s,I),x(s,z),x(s,M),x(s,O),x(s,F),x(s,H),x(H,U),_(o,G,c),Q&&Q.m(o,c),_(o,q,c),ee&&ee.m(o,c),_(o,K,c),te&&te.m(o,c),_(o,V,c),ne&&ne.m(o,c),_(o,Z,c),J=!0,Y||(X=[j(g,"click",e[9]),j(y,"click",e[10]),j(z,"click",e[11]),j(O,"click",e[12]),j(H,"click",e[6])],Y=!0)},p(e,[t]){(!J||32&t&&!c(U.src,W="./assets/"+e[5]+"-outline.svg"))&&A(U,"src",W),e[1]?Q?(Q.p(e,t),2&t&&ge(Q,1)):(Q=Sr(e),Q.c(),ge(Q,1),Q.m(q.parentNode,q)):Q&&(pe(),be(Q,1,1,(()=>{Q=null})),me()),e[0]?ee?(ee.p(e,t),1&t&&ge(ee,1)):(ee=Cr(e),ee.c(),ge(ee,1),ee.m(K.parentNode,K)):ee&&(pe(),be(ee,1,1,(()=>{ee=null})),me()),e[3]?te?(te.p(e,t),8&t&&ge(te,1)):(te=Er(e),te.c(),ge(te,1),te.m(V.parentNode,V)):te&&(pe(),be(te,1,1,(()=>{te=null})),me()),e[4]?ne?(ne.p(e,t),16&t&&ge(ne,1)):(ne=Tr(e),ne.c(),ge(ne,1),ne.m(Z.parentNode,Z)):ne&&(pe(),be(ne,1,1,(()=>{ne=null})),me())},i(e){J||(ge(Q),ge(ee),ge(te),ge(ne),J=!0)},o(e){be(Q),be(ee),be(te),be(ne),J=!1},d(e){e&&S(t),e&&S(G),Q&&Q.d(e),e&&S(q),ee&&ee.d(e),e&&S(K),te&&te.d(e),e&&S(V),ne&&ne.d(e),e&&S(Z),Y=!1,o(X)}}}function jr(e,t,n){let r,s=!1,o=!1,a={},i=!1,l=!1,c=nt.isLightTheme;const u=[ct.subscribe(((e,t,r)=>{const c="open"===t;switch(e){case"help":n(1,o=c),n(2,a=r);break;case"hasher":n(3,i=c);break;case"settings":n(0,s=c);break;case"tokens":n(4,l=c)}}))];K((()=>{u.forEach((e=>e()))}));return e.$$.update=()=>{256&e.$$.dirty&&n(5,r=c?"sunny":"moon")},[s,o,a,i,l,r,function(){nt.mainframeHacked||(nt.isLightTheme=!nt.isLightTheme,n(8,c=nt.isLightTheme))},function(){n(1,o=!1),n(2,a={})},c,()=>n(3,i=!i),()=>n(4,l=!l),()=>n(1,o=!o),()=>n(0,s=!s),()=>n(0,s=!1),()=>n(3,i=!1),()=>n(4,l=!1)]}class Ar extends Ne{constructor(e){super(),Ae(this,e,jr,Lr,i,{})}}function Nr(t){let n,r;return{c(){n=C("div"),n.innerHTML='<img class="h-6" src="./assets/wompwomp.png" alt="Womp Womp"/>',A(n,"class","absolute flex items-center justify-center w-10 h-10 left-4 bottom-4")},m(e,t){_(e,n,t)},i(e){r||re((()=>{r=$e(n,ft,{}),r.start()}))},o:e,d(e){e&&S(n)}}}function Br(t){let n,r,s,o,a,i,l,c=t[0]&&Nr();return{c(){n=C("footer"),r=C("div"),r.innerHTML='<div class="flex flex-col gap-4"><p>Created with <span class="text-pink-600">♥</span> by Frankk using Sims\n        4 Toolkit</p> \n      <p><a href="https://frankkmods.com" target="_blank" class="text-brand-frankk">Frankk&#39;s Mods</a>\n        |\n        <a href="https://sims4toolkit.com" target="_blank" class="text-accent-primary-light dark:text-accent-primary-dark">Sims 4 Toolkit</a>\n        |\n        <a href="https://twitter.com/frankkulakmods" target="_blank" class="text-brand-twitter">Twitter</a>\n        |\n        <a href="https://patreon.frankkmods.com" target="_blank" class="text-brand-patreon">Patreon</a>\n        |\n        <a href="https://ko-fi.com/frankkulak" target="_blank" class="text-brand-kofi">Ko-fi</a>\n        |\n        <a href="https://discord.gg/qNhD3Jh" target="_blank" class="text-brand-discord">Discord</a></p></div> \n    <div class="text-xs flex flex-col gap-4"><p class="text-subtle">The Sims™ and its plumbob icon are registered trademarks of Electronic\n        Arts, Inc. (EA). Sims 4 Toolkit is not affiliated with or endorsed by\n        EA.</p> \n      <p class="text-subtle">All icons on this website are supplied by\n        <a href="https://ionic.io/ionicons" target="_blank" class="text-secondary">Ionicons</a>\n        and\n        <a href="https://primer.github.io/octicons/" target="_blank" class="text-secondary">GitHub Octicons</a>.</p> \n      <p class="text-subtle">2022 © Frank Kulak</p></div>',s=T(),o=C("button"),a=T(),c&&c.c(),A(r,"class","w-full xl:max-w-screen-xl text-center flex flex-col gap-10"),A(o,"class","absolute flex items-center justify-center bg-gray-200 dark:bg-gray-900 hacker-bg-black w-10 h-10 left-4 bottom-4"),A(o,"tabindex","-1"),A(n,"class","relative w-full py-12 px-4 flex justify-center bg-gray-200 dark:bg-gray-900")},m(e,u){_(e,n,u),x(n,r),x(n,s),x(n,o),x(n,a),c&&c.m(n,null),i||(l=j(o,"click",t[1]),i=!0)},p(e,[t]){e[0]?c?1&t&&ge(c,1):(c=Nr(),c.c(),ge(c,1),c.m(n,null)):c&&(c.d(1),c=null)},i(e){ge(c)},o:e,d(e){e&&S(n),c&&c.d(),i=!1,l()}}}function Rr(e,t,n){let r=!1;return[r,function(e){e.target.remove(),n(0,r=!0),lt.set(!0)}]}class Dr extends Ne{constructor(e){super(),Ae(this,e,Rr,Br,i,{})}}function Pr(t){let n;return{c(){n=C("div"),A(n,"class","fixed top-0 right-0 bottom-0 left-0 pointer-events-none opacity-20 z-50")},m(e,r){_(e,n,r),t[1](n)},p:e,i:e,o:e,d(e){e&&S(n),t[1](null)}}}function Ir(e,t,n){let r,s,o=[];function a(e){let t,n;if(o.length>0){const e=o.shift();t=e.element,n=e.speed,t.style.left=Math.random()*window.innerWidth+"px",t.style.transition=`top ${n}ms`,t.style.transitionTimingFunction="linear",t.hidden=!1}else{t=document.createElement("p"),t.classList.add("fixed","monospace"),t.innerText=(e%2).toString(),t.style.left=Math.random()*window.innerWidth+"px";const r=Math.random();n=Math.round(800+2200*(1-r)),t.style.fontSize=2*Math.round(6+8*r)+"px",t.style.transition=`top ${n}ms`,t.style.transitionTimingFunction="linear",t.style.top=`-${t.style.fontSize}`,s.appendChild(t)}setTimeout((()=>{t.style.top=window.innerHeight+"px",setTimeout((()=>{t.hidden=!0,t.style.transition="none",t.style.top=`-${t.style.fontSize}`,o.push({element:t,speed:n})}),n+50)}),50)}return q((()=>{r=setInterval((()=>{for(let e=0;e<5;++e)a(e)}),500)})),K((()=>{clearInterval(r)})),[s,function(e){J[e?"unshift":"push"]((()=>{s=e,n(0,s)}))}]}class zr extends Ne{constructor(e){super(),Ae(this,e,Ir,Pr,i,{})}}function Mr(t){let n,r,s;return{c(){n=C("div"),A(n,"class","fixed top-0 right-0 bottom-0 left-0 z-50 opacity-5 pointer-events-none svelte-d5e34o")},m(e,t){_(e,n,t),s=!0},p:e,i(e){s||(re((()=>{r||(r=xe(n,ft,{duration:350},!0)),r.run(1)})),s=!0)},o(e){r||(r=xe(n,ft,{duration:350},!1)),r.run(0),s=!1},d(e){e&&S(n),e&&r&&r.end()}}}class Or extends Ne{constructor(e){super(),Ae(this,e,null,Mr,i,{})}}function Fr(e){let t,n;return t=new zr({}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function Hr(t){let n,r,s,o,a,i;return{c(){n=C("a"),r=C("img"),A(r,"class","h-48"),c(r.src,s="https://c.tenor.com/CHc0B6gKHqUAAAAi/deadserver.gif")||A(r,"src","https://c.tenor.com/CHc0B6gKHqUAAAAi/deadserver.gif"),A(r,"alt","Rick"),A(n,"class","fixed bottom-0 left-0 z-50"),A(n,"href",o=Ye.rickRoll),A(n,"target","_blank")},m(e,t){_(e,n,t),x(n,r),i=!0},p:e,i(e){i||(re((()=>{a||(a=xe(n,ht,{y:200,duration:3500},!0)),a.run(1)})),i=!0)},o(e){a||(a=xe(n,ht,{y:200,duration:3500},!1)),a.run(0),i=!1},d(e){e&&S(n),e&&a&&a.end()}}}function Ur(e){let t,n;return t=new Or({}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function Wr(e){let t,n,r,s,o=e[0]&&Fr(),a=e[1]&&Hr(),i=e[2]&&Ur();return{c(){o&&o.c(),t=T(),a&&a.c(),n=T(),i&&i.c(),r=L()},m(e,l){o&&o.m(e,l),_(e,t,l),a&&a.m(e,l),_(e,n,l),i&&i.m(e,l),_(e,r,l),s=!0},p(e,[s]){e[0]?o?1&s&&ge(o,1):(o=Fr(),o.c(),ge(o,1),o.m(t.parentNode,t)):o&&(pe(),be(o,1,1,(()=>{o=null})),me()),e[1]?a?(a.p(e,s),2&s&&ge(a,1)):(a=Hr(),a.c(),ge(a,1),a.m(n.parentNode,n)):a&&(pe(),be(a,1,1,(()=>{a=null})),me()),e[2]?i?4&s&&ge(i,1):(i=Ur(),i.c(),ge(i,1),i.m(r.parentNode,r)):i&&(pe(),be(i,1,1,(()=>{i=null})),me())},i(e){s||(ge(o),ge(a),ge(i),s=!0)},o(e){be(o),be(a),be(i),s=!1},d(e){o&&o.d(e),e&&S(t),a&&a.d(e),e&&S(n),i&&i.d(e),e&&S(r)}}}function Gr(e,t,n){let r=nt.mainframeHacked,s=nt.rickGif,o=!1;const a=[ot.subscribe((e=>{n(0,r=e)})),at.subscribe((e=>{n(1,s=e)})),it.subscribe((e=>{n(2,o=e)}))];return K((()=>{a.forEach((e=>e()))})),[r,s,o]}class qr extends Ne{constructor(e){super(),Ae(this,e,Gr,Wr,i,{})}}function Kr(t){let n,r,s,o,a;return{c(){n=C("div"),r=C("h3"),s=E(t[0]),o=T(),a=C("hr"),A(r,"class","mt-0 mb-2 whitespace-nowrap font-bold text-xl"),A(a,"class","bg-accent-primary-light dark:bg-accent-primary-dark m-0 border-none hacker-bg-gray svelte-1hlby7e"),A(n,"class","text-left inline-block")},m(e,t){_(e,n,t),x(n,r),x(r,s),x(n,o),x(n,a)},p(e,[t]){1&t&&B(s,e[0])},i:e,o:e,d(e){e&&S(n)}}}function Vr(e,t,n){let{title:r}=t;return e.$$set=e=>{"title"in e&&n(0,r=e.title)},[r]}class Zr extends Ne{constructor(e){super(),Ae(this,e,Vr,Kr,i,{title:0})}}function Jr(t){let n,r,s,o,a,i,l,c,u,d;return a=new Zr({props:{title:"Unlock this page for $4.04"}}),{c(){n=T(),r=C("section"),s=C("div"),o=C("div"),Te(a.$$.fragment),i=T(),l=C("p"),l.innerHTML='Just kidding. This page doesn&#39;t exist. Please <a href="/" class="text-secondary">go home</a>.',c=T(),u=C("p"),u.textContent="Error 404",document.title="Page Not Found",A(o,"class","mb-4"),A(l,"class","mb-8"),A(u,"class","text-subtle text-xs"),A(s,"class","w-full xl:max-w-screen-xl px-4 flex flex-col justify-center"),A(r,"class","pt-10 flex-1 w-full flex justify-center")},m(e,t){_(e,n,t),_(e,r,t),x(r,s),x(s,o),Le(a,o,null),x(s,i),x(s,l),x(s,c),x(s,u),d=!0},p:e,i(e){d||(ge(a.$$.fragment,e),d=!0)},o(e){be(a.$$.fragment,e),d=!1},d(e){e&&S(n),e&&S(r),je(a)}}}class Yr extends Ne{constructor(e){super(),Ae(this,e,null,Jr,i,{})}}const{models:Xr,encoding:Qr,formatting:es}=window.S4TK,{Buffer:ts}=window.S4TK.Node;class ns{constructor(e,t=new Set,n=[]){this._primaryLocale=e,this._allLocales=t,this._nextId=0,t.has(e)||t.add(e),this._entryMap=new Map,n.forEach((({key:e,values:t})=>{const n=this._nextId++;this._entryMap.set(n,{id:n,key:e,values:t})}))}get allLocales(){return this._allLocalesCache??(this._allLocalesCache=[...this._allLocales])}get keyMap(){const e=new Map;return this.entries.forEach((({id:t,key:n})=>{e.has(n)||e.set(n,t)})),e}get otherLocales(){const e=new Set(this._allLocales);return e.delete(this.primaryLocale),[...e]}get entries(){return this._entriesCache??(this._entriesCache=[...this._entryMap.values()])}get numEntries(){return this._entryMap.size}get numLocales(){return this._allLocales.size}get primaryLocale(){return this._primaryLocale}set primaryLocale(e){this._primaryLocale!==e&&this._switchPrimaryLocale(e)}static deserialize(e){const t=ts.from(e,"base64"),n=new Qr.BinaryDecoder(t);n.skip(1);const r=n.uint8(),s=n.uint8(),o=n.uint32(),a=new Set,i=[];for(let e=0;e<s;++e){const e=n.uint8(),t=n.boolean();a.add(e),t&&i.push(e)}const l=[];for(let e=0;e<o;++e)l.push({key:n.uint32(),values:new Map});return i.forEach((e=>{for(let t=0;t<o;++t){const r=n.string();r&&l[t].values.set(e,r)}})),new ns(r,a,l)}addEntry(e,t){const n=this._nextId++,r=new Map;r.set(this.primaryLocale,t);const s={id:n,key:e,values:r};return this._entryMap.set(n,s),this._clearEntriesCache(),s}deleteEntry(e){this._entryMap.delete(e),this._clearEntriesCache()}hasLocale(e){return this._allLocales.has(e)}getEntry(e){return this._entryMap.get(e)}getIssues(){const e=[],t=new Map,n=new Map;this._entryMap.forEach(((e,r)=>{t.has(e.key)?t.get(e.key).push(r):t.set(e.key,[r]);const s=this.getValue(r)??"";n.has(s)?n.get(s).push(r):n.set(s,[r])}));const r=e=>{const t=e.map((e=>this.getEntry(e).key));return[...new Set(t)]};return t.forEach(((t,n)=>{0===n?e.push({idList:t,keyList:r(t),message:"Key is 0x00000000"}):2166136261===n&&e.push({idList:t,keyList:r(t),message:"Key is 0x811C9DC5 (the hash of an empty string)"}),t.length>1&&e.push({idList:t,keyList:r(t),message:`Repeated key: ${es.formatStringKey(n)}`})})),n.forEach(((t,n)=>{if(n||e.push({idList:t,keyList:r(t),message:"Empty string value"}),t.length>1){const s=n.length>20?n.substring(0,20)+"...":n;e.push({idList:t,keyList:r(t),message:`Repeated string: "${s}"`})}})),e}getJson(e=this.primaryLocale,t=!1){return this.entries.map((n=>({key:t?es.formatStringKey(n.key):n.key,value:this.getValueWithFallback(n.id,e)})))}getStringTable(e=this.primaryLocale){return new Xr.StringTableResource(this.getJson(e))}getValue(e,t=this.primaryLocale){return this._entryMap.get(e)?.values.get(t)}getValueWithFallback(e,t){return this.getValue(e,t)??this.getValue(e,this.primaryLocale)??""}hasEntry(e){return this._entryMap.has(e)}importEntries(e,t){if(e.allLocales.forEach((e=>{this.hasLocale(e)||this._allLocales.add(e)})),this._clearLocalesCache(),t){const t=this.keyMap;e.entries.forEach((({key:e,values:n})=>{if(t.has(e)){const r=this.getEntry(t.get(e));n.forEach(((e,t)=>{r.values.set(t,e)}))}else{const t=this._nextId++;this._entryMap.set(t,{id:t,key:e,values:new Map(n)})}}))}else e.entries.forEach((({key:e,values:t})=>{const n=this._nextId++;this._entryMap.set(n,{id:n,key:e,values:new Map(t)})}));this._clearEntriesCache()}replaceEntries(e){const t=new Map;e.forEach((({key:e,value:n})=>t.set(e,n))),this.entries.forEach((e=>{t.has(e.key)?(this.setValue(e.id,t.get(e.key)),t.delete(e.key)):this.deleteEntry(e.id)})),t.forEach(((e,t)=>this.addEntry(t,e))),this._clearEntriesCache()}replaceLocales(e){const t=new Set(e);t.add(this.primaryLocale),this.allLocales.forEach((e=>{t.has(e)?t.delete(e):(this._allLocales.delete(e),this.entries.forEach((t=>{t.values.delete(e)})))})),t.forEach((e=>{this._allLocales.add(e)})),this._clearLocalesCache()}async saveToStorage(e){fn.setItem("stbls",e,this.serialize())}setKey(e,t){this.getEntry(e).key=t}setValue(e,t,n=this.primaryLocale){if(!this._allLocales.has(n))throw new Error("Cannot set value of locale that isn't in this STBL.");const r=this.getEntry(e).values;n===this.primaryLocale?r.set(n,t):this.getValue(e)===t?r.delete(n):r.set(n,t)}serialize(){const e=[],t=(()=>{const t=7+2*this.numLocales+4*this.numEntries,n=ts.alloc(t),r=new Qr.BinaryEncoder(n);return r.uint8(ns.VERSION),r.uint8(this.primaryLocale),r.uint8(this.numLocales),r.uint32(this.numEntries),this.allLocales.forEach((t=>{r.uint8(t);const n=this.entries.some((e=>e.values.has(t)));n&&e.push(t),r.boolean(n)})),this.entries.forEach((e=>r.uint32(e.key))),n})(),n=ts.concat(e.map((e=>ts.concat(this.entries.map((t=>{const n=t.values.get(e)??"",r=ts.alloc(ts.byteLength(n)+1);return new Qr.BinaryEncoder(r).charsUtf8(n),r}))))));return ts.concat([t,n]).toString("base64")}_clearEntriesCache(){delete this._entriesCache}_clearLocalesCache(){delete this._allLocalesCache}_switchPrimaryLocale(e){this._allLocales.has(e)||(this._allLocales.add(e),this._clearLocalesCache()),this.entries.forEach((t=>{t.values.has(e)||t.values.set(e,"")})),this._primaryLocale=e}}var rs;ns.VERSION=0;var ss=new Uint8Array(16);function os(){if(!rs&&!(rs="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return rs(ss)}var as=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function is(e){return"string"==typeof e&&as.test(e)}for(var ls=[],cs=0;cs<256;++cs)ls.push((cs+256).toString(16).substr(1));function us(e,t,n){var r=(e=e||{}).random||(e.rng||os)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var s=0;s<16;++s)t[n+s]=r[s];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(ls[e[t+0]]+ls[e[t+1]]+ls[e[t+2]]+ls[e[t+3]]+"-"+ls[e[t+4]]+ls[e[t+5]]+"-"+ls[e[t+6]]+ls[e[t+7]]+"-"+ls[e[t+8]]+ls[e[t+9]]+"-"+ls[e[t+10]]+ls[e[t+11]]+ls[e[t+12]]+ls[e[t+13]]+ls[e[t+14]]+ls[e[t+15]]).toLowerCase();if(!is(n))throw TypeError("Stringified UUID is invalid");return n}(r)}function ds(){return`${Math.floor(new Date)}-${us()}`}const{encoding:fs,enums:hs,hashing:ps}=window.S4TK,{Buffer:ms}=window.S4TK.Node;var gs,bs;!function(e){e[e.Pinned=1]="Pinned",e[e.Corrupt=2]="Corrupt"}(gs||(gs={}));class ys{constructor(e,t,n){this.uuid=e,this._metaData=t,this._stbl=n}get metaData(){return this._metaData}get stbl(){if(this._stbl)return this._stbl;throw new Error("Project STBL was accessed before being loaded.")}get hasStbl(){return null!=this._stbl}static deserialize(e,t){return new ys(e,ys.deserializeMetaData(t))}static deserializeMetaData(e){const t={},n=new fs.BinaryDecoder(ms.from(e,"base64")),r=n.uint8();t.flags=r>0?n.uint32():0,t.group=n.uint32();const s=n.uint64();return t.primaryLocale=hs.StringTableLocale.getLocale(s),t.instance=hs.StringTableLocale.getInstanceBase(s),0===r&&n.boolean()&&(t.flags|=gs.Pinned),t.numLocales=n.uint8(),t.numEntries=n.uint32(),t.name=n.string(),t}static async fromStorage(e){return new Promise(((t,n)=>{fn.getItem("metadata",e).then((n=>{t(ys.deserialize(e,n))})).catch((e=>{n(e)}))}))}addString(e){const t=e.replace(/(?:\r\n|\r|\n)/g,"\\n"),n=ps.fnv32(`${this.uuid}:${ds()}`);this.stbl.addEntry(n,t),this.metaData.numEntries=this.stbl.numEntries,this.saveToStorage(),this.stbl.saveToStorage(this.uuid)}deleteStrings(e){e.forEach((e=>this.stbl.deleteEntry(e))),this.metaData.numEntries=this.stbl.numEntries,this.saveToStorage(),this.stbl.saveToStorage(this.uuid)}hasFlags(e){return Boolean(this.metaData.flags&e)}importEntries(e,t){this.stbl.importEntries(e,t),this.metaData.numEntries=this.stbl.numEntries,this.metaData.numLocales=this.stbl.numLocales,this.saveToStorage(),this.stbl.saveToStorage(this.uuid)}setFlags(e,t){t?this.metaData.flags|=e:this.metaData.flags^=e,this.saveToStorage(!1)}setValue(e,t,n=this.stbl.primaryLocale){const r=t.replace(/(?:\r\n|\r|\n)/g,"\\n");this.stbl.setValue(e,r,n),this.stbl.saveToStorage(this.uuid)}replaceEntries(e){this.stbl.replaceEntries(e),this.metaData.numEntries=this.stbl.numEntries,this.saveToStorage(),this.stbl.saveToStorage(this.uuid)}updateKeys(e){e.forEach((({id:e,newKey:t})=>{this.stbl.getEntry(e).key=t})),this.stbl.saveToStorage(this.uuid)}async loadStringTable(){return new Promise(((e,t)=>{if(this._stbl)return e();fn.getItem("stbls",this.uuid).then((n=>{if(!n)return t("Could not deserialize STBL.");try{this._stbl=ns.deserialize(n),this.hasFlags(gs.Corrupt)&&this.setFlags(gs.Corrupt,!1)}catch(e){throw this.setFlags(gs.Corrupt,!0),e}e()})).catch((e=>{t(e)}))}))}async saveToStorage(e=!0){e&&(this.metaData.numLocales=this.stbl.numLocales,this.metaData.numEntries=this.stbl.numEntries),fn.setItem("metadata",this.uuid,this.serializeMetaData())}serializeMetaData(){const e=23+ms.byteLength(this.metaData.name),t=ms.alloc(e),n=new fs.BinaryEncoder(t),r=hs.StringTableLocale.setHighByte(this.metaData.primaryLocale,this.metaData.instance);return n.uint8(ys.META_DATA_VERSION),n.uint32(this.metaData.flags??0),n.uint32(this.metaData.group),n.uint64(r),n.uint8(this.metaData.numLocales),n.uint32(this.metaData.numEntries),n.charsUtf8(this.metaData.name),t.toString("base64")}}ys.META_DATA_VERSION=1;class $s{constructor(e=[]){this.projects=e}static async restoreFromJson(e){return new Promise(((t,n)=>{try{for(const t in e.settings)nt[t]=e.settings[t];const n=e.projects.map((({uuid:e,metaData:t,stbl:n})=>(fn.setItem("metadata",e,t),fn.setItem("stbls",e,n),new ys(e,ys.deserializeMetaData(t),void 0))));t(new $s(n))}catch(e){n(e)}}))}static async fromStorage(){return new Promise((async(e,t)=>{try{const t=await fn.getAllKeys("metadata"),n=await fn.getAll("metadata"),r=t.map(((e,t)=>ys.deserialize(e,n[t])));e(new $s(r))}catch(e){t(e)}}))}addProject(e){this.projects.push(e),e.saveToStorage(),e.stbl.saveToStorage(e.uuid),this._updateSubscribers()}deleteProjects(e){const t=new Set(e.map((e=>e.uuid)));this.projects=this.projects.filter((e=>!t.has(e.uuid))),t.forEach((e=>{fn.removeItem("metadata",e),fn.removeItem("stbls",e)})),this._updateSubscribers()}toggleProjectPins(e){const t=e.some((e=>!e.hasFlags(gs.Pinned)));e.forEach((e=>{e.setFlags(gs.Pinned,t),e.saveToStorage(!1)})),this._updateSubscribers()}async toJson(){return new Promise((async e=>{const t=[];for(let e=0;e<this.projects.length;++e){const n=this.projects[e];try{await n.loadStringTable(),t.push({uuid:n.uuid,metaData:n.serializeMetaData(),stbl:n.stbl.serialize()})}catch(e){console.error(e);const r=await fn.getItem("metadata",n.uuid),s=await fn.getItem("stbls",n.uuid);t.push({uuid:n.uuid,metaData:r,stbl:s})}}const n={};for(const e in nt)n[e]=nt[e];e({version:$s.VERSION,settings:n,projects:t})}))}_updateSubscribers(){pt.set(this)}}$s.VERSION=0;class vs{constructor(e,t,n){this.selectables=e,this.key=t,this._refreshCallback=n,this._selectMode=!1,this._selections=new Set}get selectMode(){return this._selectMode}get allSelectedKeys(){return Array.from(this._selections)}get allSelectedItems(){return this.selectables.filter((e=>this._selections.has(e[this.key])))}get noneSelected(){return this._selectMode&&0===this._selections.size}get numSelected(){return this._selections.size}deselectAll(){this._selections.clear(),this._refreshCallback()}isSelected(e){return this._selections.has(e[this.key])}selectAll(){this.selectables.forEach((e=>this._selections.add(e[this.key]))),this._refreshCallback()}toggleSelectMode(e){this._selectMode=e??!this._selectMode,this._selectMode?this._refreshCallback():this.deselectAll()}toggleValue(e){const t=e[this.key],n=this._selections.has(t)?"delete":"add";this._selections[n](t),this._refreshCallback()}}function xs(t){let n,r,s,a,i,l;return{c(){n=C("button"),r=C("img"),A(r,"class","svg h-6 svelte-e92b2b"),c(r.src,s="./assets/"+t[0].icon+".svg")||A(r,"src",s),A(r,"alt",a=t[0].title),A(n,"class","floating-action-button flex justify-center items-center drop-shadow svelte-e92b2b"),P(n,"disabled",t[0].disabled)},m(e,s){_(e,n,s),x(n,r),t[6](n),i||(l=[j(n,"mouseenter",t[2]),j(n,"focus",t[2]),j(n,"mouseleave",t[3]),j(n,"blur",t[3]),j(n,"click",t[4])],i=!0)},p(e,[t]){1&t&&!c(r.src,s="./assets/"+e[0].icon+".svg")&&A(r,"src",s),1&t&&a!==(a=e[0].title)&&A(r,"alt",a),1&t&&P(n,"disabled",e[0].disabled)},i:e,o:e,d(e){e&&S(n),t[6](null),i=!1,o(l)}}}function ws(e,t,n){let r,{data:s}=t,{toggleTitle:o}=t,a=null,i=null;function l(){s.disabled||(r.blur(),s.onClick())}return K((()=>{i?.()})),e.$$set=e=>{"data"in e&&n(0,s=e.data),"toggleTitle"in e&&n(5,o=e.toggleTitle)},e.$$.update=()=>{1&e.$$.dirty&&(s.keybinding,a!==s.keybinding&&(i?.(),i=s.keybinding?Qt(s.keybinding,l,{ctrlOrMeta:!0,preventDefault:!0}):null,a=s.keybinding))},[s,r,function(e){if(s.disabled)o(s.title,"");else{const e=bs[s.color];n(1,r.style.backgroundColor=e,r),n(1,r.style.borderColor=e,r),o(s.title,s.color)}},function(e){n(1,r.style.backgroundColor="var(--color-bg)",r),n(1,r.style.borderColor="var(--color-text)",r),o()},l,o,function(e){J[e?"unshift":"push"]((()=>{r=e,n(1,r)}))}]}!function(e){e.Green="var(--toolbar-green)",e.Cyan="var(--toolbar-cyan)",e.Azure="var(--toolbar-azure)",e.Red="var(--toolbar-red)",e.Pink="var(--toolbar-pink)",e.Purple="var(--toolbar-purple)",e.Orange="var(--toolbar-orange)"}(bs||(bs={}));class ks extends Ne{constructor(e){super(),Ae(this,e,ws,xs,i,{data:0,toggleTitle:5})}}function _s(e){let t,n,r,s;return{c(){t=C("div"),n=E(e[0]),A(t,"class","mb-2 text-center text-sm uppercase py-1 drop-shadow svelte-orpfns"),P(t,"disabled",e[2])},m(r,o){_(r,t,o),x(t,n),e[5](t),s=!0},p(r,[o]){e=r,(!s||1&o)&&B(n,e[0]),4&o&&P(t,"disabled",e[2])},i(e){s||(re((()=>{r||(r=xe(t,ht,{y:12,duration:nt.reduceMotion?0:350},!0)),r.run(1)})),s=!0)},o(e){r||(r=xe(t,ht,{y:12,duration:nt.reduceMotion?0:350},!1)),r.run(0),s=!1},d(n){n&&S(t),e[5](null),n&&r&&r.end()}}}function Ss(e,t,n){let r,s,{text:o}=t,{color:a}=t,{disabled:i=!1}=t;return e.$$set=e=>{"text"in e&&n(0,o=e.text),"color"in e&&n(3,a=e.color),"disabled"in e&&n(4,i=e.disabled)},e.$$.update=()=>{24&e.$$.dirty&&n(2,r=i||!a),14&e.$$.dirty&&s&&(r?s.removeAttribute("style"):n(1,s.style.backgroundColor=bs[a],s))},[o,s,r,a,i,function(e){J[e?"unshift":"push"]((()=>{s=e,n(1,s),n(2,r),n(3,a),n(4,i)}))}]}class Cs extends Ne{constructor(e){super(),Ae(this,e,Ss,_s,i,{text:0,color:3,disabled:4})}}function Es(e,t,n){const r=e.slice();return r[7]=t[n],r[8]=t,r[9]=n,r}function Ts(e){let t,n;return t=new Cs({props:{text:e[2],color:e[3],disabled:e[1]}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.text=e[2]),8&n&&(r.color=e[3]),2&n&&(r.disabled=e[1]),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function Ls(e,t){let n,r,s,o;function a(e){t[6](e,t[7],t[8],t[9])}let i={toggleTitle:t[5]};return void 0!==t[7]&&(i.data=t[7]),r=new ks({props:i}),J.push((()=>Ee(r,"data",a))),{key:e,first:null,c(){n=L(),Te(r.$$.fragment),this.first=n},m(e,t){_(e,n,t),Le(r,e,t),o=!0},p(e,n){t=e;const o={};!s&&1&n&&(s=!0,o.data=t[7],se((()=>s=!1))),r.$set(o)},i(e){o||(ge(r.$$.fragment,e),o=!0)},o(e){be(r.$$.fragment,e),o=!1},d(e){e&&S(n),je(r,e)}}}function js(e){let t,n,r,s,o=[],a=new Map,i=e[4]&&Ts(e),l=e[0];const c=e=>e[9];for(let t=0;t<l.length;t+=1){let n=Es(e,l,t),r=c(n);a.set(r,o[t]=Ls(r,n))}return{c(){t=C("div"),i&&i.c(),n=T(),r=C("div");for(let e=0;e<o.length;e+=1)o[e].c();A(r,"class","flex"),A(t,"class","z-10 fixed right-6 bottom-6")},m(e,a){_(e,t,a),i&&i.m(t,null),x(t,n),x(t,r);for(let e=0;e<o.length;e+=1)o[e].m(r,null);s=!0},p(e,[s]){e[4]?i?(i.p(e,s),16&s&&ge(i,1)):(i=Ts(e),i.c(),ge(i,1),i.m(t,n)):i&&(pe(),be(i,1,1,(()=>{i=null})),me()),33&s&&(l=e[0],pe(),o=_e(o,s,c,1,e,l,a,r,ke,Ls,null,Es),me())},i(e){if(!s){ge(i);for(let e=0;e<l.length;e+=1)ge(o[e]);s=!0}},o(e){be(i);for(let e=0;e<o.length;e+=1)be(o[e]);s=!1},d(e){e&&S(t),i&&i.d();for(let e=0;e<o.length;e+=1)o[e].d()}}}function As(e,t,n){let r,s,o,{disabled:a=!1}=t,{buttonData:i}=t;return e.$$set=e=>{"disabled"in e&&n(1,a=e.disabled),"buttonData"in e&&n(0,i=e.buttonData)},e.$$.update=()=>{4&e.$$.dirty&&n(4,r=Boolean(s))},[i,a,s,o,r,function(e,t){n(2,s=e),n(3,o=t)},function(e,t,r,s){r[s]=e,n(0,i)}]}class Ns extends Ne{constructor(e){super(),Ae(this,e,As,js,i,{disabled:1,buttonData:0})}}function Bs(e,t,n){const r=e.slice();return r[11]=t[n],r[13]=n,r}function Rs(e,t){let n,r,s,o,a,i=t[11].metaData.name+"",l=zs(t[11])+"";return{key:e,first:null,c(){n=C("li"),r=E(i),s=E(" ("),o=E(l),a=E(")\n              "),A(n,"class","pl-2"),this.first=n},m(e,t){_(e,n,t),x(n,r),x(n,s),x(n,o),x(n,a)},p(e,n){t=e,1&n&&i!==(i=t[11].metaData.name+"")&&B(r,i),1&n&&l!==(l=zs(t[11])+"")&&B(o,l)},d(e){e&&S(n)}}}function Ds(e){let t,n,r,s,o,a,i,l,c,u,d,f,h,p=[],m=new Map,g=e[0];const b=e=>e[13];for(let t=0;t<g.length;t+=1){let n=Bs(e,g,t),r=b(n);m.set(r,p[t]=Rs(r,n))}function y(t){e[5](t)}function $(t){e[6](t)}let v={label:'type "delete" to confirm',name:"deletion-confirmation-input",placeholder:"Delete",focusOnMount:!0,fillWidth:!0,validators:[{test:Ms,message:'Value must be "Delete"'}]};return void 0!==e[1]&&(v.value=e[1]),void 0!==e[2].nextButtonEnabled&&(v.isValid=e[2].nextButtonEnabled),l=new bn({props:v}),J.push((()=>Ee(l,"value",y))),J.push((()=>Ee(l,"isValid",$))),{c(){t=C("div"),n=C("p"),n.textContent="Are you sure you want to permanently delete the following projects?",r=T(),s=C("div"),o=C("ul");for(let e=0;e<p.length;e+=1)p[e].c();a=T(),i=C("div"),Te(l.$$.fragment),d=T(),f=C("p"),f.textContent="Deleted projects cannot be recovered. Once they're gone, they're gone.",A(n,"class","mb-4"),A(o,"class","list-disc pl-8 flex flex-col"),A(s,"class","max-h-24 overflow-x-hidden overflow-y-auto"),A(i,"class","my-6"),A(f,"class","text-subtle text-xs")},m(e,c){_(e,t,c),x(t,n),x(t,r),x(t,s),x(s,o);for(let e=0;e<p.length;e+=1)p[e].m(o,null);x(t,a),x(t,i),Le(l,i,null),x(t,d),x(t,f),h=!0},p(e,t){1&t&&(g=e[0],p=_e(p,t,b,1,e,g,m,o,we,Rs,null,Bs));const n={};!c&&2&t&&(c=!0,n.value=e[1],se((()=>c=!1))),!u&&4&t&&(u=!0,n.isValid=e[2].nextButtonEnabled,se((()=>u=!1))),l.$set(n)},i(e){h||(ge(l.$$.fragment,e),h=!0)},o(e){be(l.$$.fragment,e),h=!1},d(e){e&&S(t);for(let e=0;e<p.length;e+=1)p[e].d();je(l)}}}function Ps(e){let t,n,r,s;function o(t){e[7](t)}let a={pageNumber:1,$$slots:{default:[Ds]},$$scope:{ctx:e}};return void 0!==e[2]&&(a.state=e[2]),n=new Pn({props:a}),J.push((()=>Ee(n,"state",o))),{c(){t=C("div"),Te(n.$$.fragment),A(t,"slot","content"),A(t,"class","w-full")},m(e,r){_(e,t,r),Le(n,t,null),s=!0},p(e,t){const s={};16391&t&&(s.$$scope={dirty:t,ctx:e}),!r&&4&t&&(r=!0,s.state=e[2],se((()=>r=!1))),n.$set(s)},i(e){s||(ge(n.$$.fragment,e),s=!0)},o(e){be(n.$$.fragment,e),s=!1},d(e){e&&S(t),je(n)}}}function Is(e){let t,n,r;function s(t){e[8](t)}let o={title:"Delete Projects",numPages:1,centerVertically:!0,completeButton:"Delete",onLastPageComplete:e[3],$$slots:{content:[Ps]},$$scope:{ctx:e}};return void 0!==e[2]&&(o.state=e[2]),t=new Nn({props:o}),J.push((()=>Ee(t,"state",s))),{c(){Te(t.$$.fragment)},m(e,n){Le(t,e,n),r=!0},p(e,[r]){const s={};16391&r&&(s.$$scope={dirty:r,ctx:e}),!n&&4&r&&(n=!0,s.state=e[2],se((()=>n=!1))),t.$set(s)},i(e){r||(ge(t.$$.fragment,e),r=!0)},o(e){be(t.$$.fragment,e),r=!1},d(e){je(t,e)}}}function zs(e){return 1===e.metaData.numEntries?"1 string":`${e.metaData.numEntries} strings`}const Ms=e=>"delete"===e.toLowerCase().trim();function Os(e,t,n){let r,{onComplete:s}=t,{projects:o}=t,a="",i={currentPage:1,nextButtonEnabled:!1};const l=[pt.subscribe((e=>{e&&(r=e)}))];return K((()=>{l.forEach((e=>e()))})),e.$$set=e=>{"onComplete"in e&&n(4,s=e.onComplete),"projects"in e&&n(0,o=e.projects)},[o,a,i,function(){r.deleteProjects(o),s()},s,function(e){a=e,n(1,a)},function(t){e.$$.not_equal(i.nextButtonEnabled,t)&&(i.nextButtonEnabled=t,n(2,i))},function(e){i=e,n(2,i)},function(e){i=e,n(2,i)}]}class Fs extends Ne{constructor(e){super(),Ae(this,e,Os,Is,i,{onComplete:4,projects:0})}}var Hs="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Us(e){var t={exports:{}};return e(t,t.exports),t.exports}function Ws(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets option of @rollup/plugin-commonjs appropriately for this require call to behave properly.')}var Gs=Us((function(e,t){!function(){function t(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function n(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){i(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function s(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof Hs&&Hs.global===Hs?Hs:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),i=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(e,t,a){var i=o.URL||o.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?s(l):r(l.href)?n(e,t,a):s(l,l.target="_blank")):(l.href=i.createObjectURL(e),setTimeout((function(){i.revokeObjectURL(l.href)}),4e4),setTimeout((function(){s(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,o,a){if(o=o||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,a),o);else if(r(e))n(e,o,a);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout((function(){s(i)}))}}:function(e,t,r,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),"string"==typeof e)return n(e,t,r);var i="application/octet-stream"===e.type,l=/constructor/i.test(o.HTMLElement)||o.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||i&&l||a)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=e:location=e,s=null},u.readAsDataURL(e)}else{var d=o.URL||o.webkitURL,f=d.createObjectURL(e);s?s.location=f:location.href=f,s=null,setTimeout((function(){d.revokeObjectURL(f)}),4e4)}});o.saveAs=i.saveAs=i,e.exports=i}()})),qs=Us((function(e,t){e.exports=function e(t,n,r){function s(a,i){if(!n[a]){if(!t[a]){if(!i&&Ws)return Ws(a);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){return s(t[a][1][e]||e)}),c,c.exports,e,t,n,r)}return n[a].exports}for(var o=Ws,a=0;a<r.length;a++)s(r[a]);return s}({1:[function(e,t,n){var r=e("./utils"),s=e("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,s,a,i,l,c,u=[],d=0,f=e.length,h=f,p="string"!==r.getTypeOf(e);d<e.length;)h=f-d,s=p?(t=e[d++],n=d<f?e[d++]:0,d<f?e[d++]:0):(t=e.charCodeAt(d++),n=d<f?e.charCodeAt(d++):0,d<f?e.charCodeAt(d++):0),a=t>>2,i=(3&t)<<4|n>>4,l=1<h?(15&n)<<2|s>>6:64,c=2<h?63&s:64,u.push(o.charAt(a)+o.charAt(i)+o.charAt(l)+o.charAt(c));return u.join("")},n.decode=function(e){var t,n,r,a,i,l,c=0,u=0,d="data:";if(e.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var f,h=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===o.charAt(64)&&h--,e.charAt(e.length-2)===o.charAt(64)&&h--,h%1!=0)throw new Error("Invalid base64 input, bad content length.");for(f=s.uint8array?new Uint8Array(0|h):new Array(0|h);c<e.length;)t=o.indexOf(e.charAt(c++))<<2|(a=o.indexOf(e.charAt(c++)))>>4,n=(15&a)<<4|(i=o.indexOf(e.charAt(c++)))>>2,r=(3&i)<<6|(l=o.indexOf(e.charAt(c++))),f[u++]=t,64!==i&&(f[u++]=n),64!==l&&(f[u++]=r);return f}},{"./support":30,"./utils":32}],2:[function(e,t,n){var r=e("./external"),s=e("./stream/DataWorker"),o=e("./stream/Crc32Probe"),a=e("./stream/DataLengthProbe");function i(e,t,n,r,s){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=s}i.prototype={getContentWorker:function(){var e=new s(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new s(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},i.createWorkerFrom=function(e,t,n){return e.pipe(new o).pipe(new a("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new a("compressedSize")).withStreamInfo("compression",t)},t.exports=i},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){var r=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(e){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){var r=e("./utils"),s=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==r.getTypeOf(e)?function(e,t,n,r){var o=s,a=r+n;e^=-1;for(var i=r;i<a;i++)e=e>>>8^o[255&(e^t[i])];return-1^e}(0|t,e,e.length,0):function(e,t,n,r){var o=s,a=r+n;e^=-1;for(var i=r;i<a;i++)e=e>>>8^o[255&(e^t.charCodeAt(i))];return-1^e}(0|t,e,e.length,0):0}},{"./utils":32}],5:[function(e,t,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){var r=null;r="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:r}},{lie:37}],7:[function(e,t,n){var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,s=e("pako"),o=e("./utils"),a=e("./stream/GenericWorker"),i=r?"uint8array":"array";function l(e,t){a.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",o.inherits(l,a),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(i,e.data),!1)},l.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new l("Deflate",e)},n.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){function r(e,t){var n,r="";for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r}function s(e,t,n,s,a,u){var d,f,h=e.file,p=e.compression,m=u!==i.utf8encode,g=o.transformTo("string",u(h.name)),b=o.transformTo("string",i.utf8encode(h.name)),y=h.comment,$=o.transformTo("string",u(y)),v=o.transformTo("string",i.utf8encode(y)),x=b.length!==h.name.length,w=v.length!==y.length,k="",_="",S="",C=h.dir,E=h.date,T={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(T.crc32=e.crc32,T.compressedSize=e.compressedSize,T.uncompressedSize=e.uncompressedSize);var L=0;t&&(L|=8),m||!x&&!w||(L|=2048);var j=0,A=0;C&&(j|=16),"UNIX"===a?(A=798,j|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(h.unixPermissions,C)):(A=20,j|=function(e){return 63&(e||0)}(h.dosPermissions)),d=E.getUTCHours(),d<<=6,d|=E.getUTCMinutes(),d<<=5,d|=E.getUTCSeconds()/2,f=E.getUTCFullYear()-1980,f<<=4,f|=E.getUTCMonth()+1,f<<=5,f|=E.getUTCDate(),x&&(_=r(1,1)+r(l(g),4)+b,k+="up"+r(_.length,2)+_),w&&(S=r(1,1)+r(l($),4)+v,k+="uc"+r(S.length,2)+S);var N="";return N+="\n\0",N+=r(L,2),N+=p.magic,N+=r(d,2),N+=r(f,2),N+=r(T.crc32,4),N+=r(T.compressedSize,4),N+=r(T.uncompressedSize,4),N+=r(g.length,2),N+=r(k.length,2),{fileRecord:c.LOCAL_FILE_HEADER+N+g+k,dirRecord:c.CENTRAL_FILE_HEADER+r(A,2)+N+r($.length,2)+"\0\0\0\0"+r(j,4)+r(s,4)+g+k+$}}var o=e("../utils"),a=e("../stream/GenericWorker"),i=e("../utf8"),l=e("../crc32"),c=e("../signature");function u(e,t,n,r){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(u,a),u.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,a.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},u.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=s(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=s(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:function(e){return c.DATA_DESCRIPTOR+r(e.crc32,4)+r(e.compressedSize,4)+r(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,s=function(e,t,n,s,a){var i=o.transformTo("string",a(s));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(e,2)+r(e,2)+r(t,4)+r(n,4)+r(i.length,2)+i}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:s,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},u.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(e){var t=this._sources;if(!a.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},u.prototype.lock=function(){a.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=u},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){var r=e("../compressions"),s=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var o=new s(t.streamFiles,n,t.platform,t.encodeFileName),a=0;try{e.forEach((function(e,n){a++;var s=function(e,t){var n=e||t,s=r[n];if(!s)throw new Error(n+" is not a valid compression method !");return s}(n.options.compression,t.compression),i=n.options.compressionOptions||t.compressionOptions||{},l=n.dir,c=n.date;n._compressWorker(s,i).withStreamInfo("file",{name:e,dir:l,date:c,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(o)})),o.entriesCount=a}catch(e){o.error(e)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new r;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(r.prototype=e("./object")).loadAsync=e("./load"),r.support=e("./support"),r.defaults=e("./defaults"),r.version="3.10.0",r.loadAsync=function(e,t){return(new r).loadAsync(e,t)},r.external=e("./external"),t.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){var r=e("./utils"),s=e("./external"),o=e("./utf8"),a=e("./zipEntries"),i=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function c(e){return new s.Promise((function(t,n){var r=e.decompressed.getContentWorker().pipe(new i);r.on("error",(function(e){n(e)})).on("end",(function(){r.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var n=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),l.isNode&&l.isStream(e)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new a(t);return n.load(e),n})).then((function(e){var n=[s.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var o=0;o<r.length;o++)n.push(c(r[o]));return s.Promise.all(n)})).then((function(e){for(var s=e.shift(),o=s.files,a=0;a<o.length;a++){var i=o[a],l=i.fileNameStr,c=r.resolve(i.fileNameStr);n.file(c,i.decompressed,{binary:!0,optimizedBinaryString:!0,date:i.date,dir:i.dir,comment:i.fileCommentStr.length?i.fileCommentStr:null,unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions,createFolders:t.createFolders}),i.dir||(n.file(c).unsafeOriginalName=l)}return s.zipComment.length&&(n.comment=s.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){var r=e("../utils"),s=e("../stream/GenericWorker");function o(e,t){s.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(o,s),o.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},o.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){var r=e("readable-stream").Readable;function s(e,t,n){r.call(this,t),this._helper=e;var s=this;e.on("data",(function(e,t){s.push(e)||s._helper.pause(),n&&n(t)})).on("error",(function(e){s.emit("error",e)})).on("end",(function(){s.push(null)}))}e("../utils").inherits(s,r),s.prototype._read=function(){this._helper.resume()},t.exports=s},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){function r(e,t,n){var r,s=o.getTypeOf(t),i=o.extend(n||{},l);i.date=i.date||new Date,null!==i.compression&&(i.compression=i.compression.toUpperCase()),"string"==typeof i.unixPermissions&&(i.unixPermissions=parseInt(i.unixPermissions,8)),i.unixPermissions&&16384&i.unixPermissions&&(i.dir=!0),i.dosPermissions&&16&i.dosPermissions&&(i.dir=!0),i.dir&&(e=m(e)),i.createFolders&&(r=p(e))&&g.call(this,r,!0);var d="string"===s&&!1===i.binary&&!1===i.base64;n&&void 0!==n.binary||(i.binary=!d),(t instanceof c&&0===t.uncompressedSize||i.dir||!t||0===t.length)&&(i.base64=!1,i.binary=!0,t="",i.compression="STORE",s="string");var b=null;b=t instanceof c||t instanceof a?t:f.isNode&&f.isStream(t)?new h(e,t):o.prepareContent(e,t,i.binary,i.optimizedBinaryString,i.base64);var y=new u(e,b,i);this.files[e]=y}var s=e("./utf8"),o=e("./utils"),a=e("./stream/GenericWorker"),i=e("./stream/StreamHelper"),l=e("./defaults"),c=e("./compressedObject"),u=e("./zipObject"),d=e("./generate"),f=e("./nodejsUtils"),h=e("./nodejs/NodejsStreamInputAdapter"),p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},m=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},g=function(e,t){return t=void 0!==t?t:l.createFolders,e=m(e),this.files[e]||r.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function b(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,r;for(t in this.files)r=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,r)},filter:function(e){var t=[];return this.forEach((function(n,r){e(n,r)&&t.push(r)})),t},file:function(e,t,n){if(1!==arguments.length)return e=this.root+e,r.call(this,e,t,n),this;if(b(e)){var s=e;return this.filter((function(e,t){return!t.dir&&s.test(e)}))}var o=this.files[this.root+e];return o&&!o.dir?o:null},folder:function(e){if(!e)return this;if(b(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=this.root+e,n=g.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=o.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");o.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";t=d.generateWorker(this,n,r)}catch(e){(t=new a("error")).error(e)}return new i(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){var r=e("./DataReader");function s(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(s,r),s.prototype.byteAt=function(e){return this.data[this.zero+e]},s.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),s=e.charCodeAt(3),o=this.length-4;0<=o;--o)if(this.data[o]===t&&this.data[o+1]===n&&this.data[o+2]===r&&this.data[o+3]===s)return o-this.zero;return-1},s.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),s=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&n===o[1]&&r===o[2]&&s===o[3]},s.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=s},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){var r=e("../utils");function s(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=s},{"../utils":32}],19:[function(e,t,n){var r=e("./Uint8ArrayReader");function s(e){r.call(this,e)}e("../utils").inherits(s,r),s.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){var r=e("./DataReader");function s(e){r.call(this,e)}e("../utils").inherits(s,r),s.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},s.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},s.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},s.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=s},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){var r=e("./ArrayReader");function s(e){r.call(this,e)}e("../utils").inherits(s,r),s.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){var r=e("../utils"),s=e("../support"),o=e("./ArrayReader"),a=e("./StringReader"),i=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),"string"!==t||s.uint8array?"nodebuffer"===t?new i(e):s.uint8array?new l(r.transformTo("uint8array",e)):new o(r.transformTo("array",e)):new a(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t,n){var r=e("./GenericWorker"),s=e("../utils");function o(e){r.call(this,"ConvertWorker to "+e),this.destType=e}s.inherits(o,r),o.prototype.processChunk=function(e){this.push({data:s.transformTo(this.destType,e.data),meta:e.meta})},t.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){var r=e("./GenericWorker"),s=e("../crc32");function o(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(o,r),o.prototype.processChunk=function(e){this.streamInfo.crc32=s(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){var r=e("../utils"),s=e("./GenericWorker");function o(e){s.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(o,s),o.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}s.prototype.processChunk.call(this,e)},t.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){var r=e("../utils"),s=e("./GenericWorker");function o(e){s.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}r.inherits(o,s),o.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){function r(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=r},{}],29:[function(e,t,n){var r=e("../utils"),s=e("./ConvertWorker"),o=e("./GenericWorker"),a=e("../base64"),i=e("../support"),l=e("../external"),c=null;if(i.nodestream)try{c=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function u(e,t){return new l.Promise((function(n,s){var o=[],i=e._internalType,l=e._outputType,c=e._mimeType;e.on("data",(function(e,n){o.push(e),t&&t(n)})).on("error",(function(e){o=[],s(e)})).on("end",(function(){try{var e=function(e,t,n){switch(e){case"blob":return r.newBlob(r.transformTo("arraybuffer",t),n);case"base64":return a.encode(t);default:return r.transformTo(e,t)}}(l,function(e,t){var n,r=0,s=null,o=0;for(n=0;n<t.length;n++)o+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(s=new Uint8Array(o),n=0;n<t.length;n++)s.set(t[n],r),r+=t[n].length;return s;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(i,o),c);n(e)}catch(e){s(e)}o=[]})).resume()}))}function d(e,t,n){var a=t;switch(t){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=t,this._mimeType=n,r.checkSupport(a),this._worker=e.pipe(new s(a)),e.lock()}catch(e){this._worker=new o("error"),this._worker.error(e)}}d.prototype={accumulate:function(e){return u(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,(function(e){t.call(n,e.data,e.meta)})):this._worker.on(e,(function(){r.delay(t,arguments,n)})),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=0===new Blob([r],{type:"application/zip"}).size}catch(e){try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(r),n.blob=0===s.getBlob("application/zip").size}catch(e){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(e){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){for(var r=e("./utils"),s=e("./support"),o=e("./nodejsUtils"),a=e("./stream/GenericWorker"),i=new Array(256),l=0;l<256;l++)i[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function c(){a.call(this,"utf-8 decode"),this.leftOver=null}function u(){a.call(this,"utf-8 encode")}i[254]=i[254]=1,n.utf8encode=function(e){return s.nodebuffer?o.newBufferFrom(e,"utf-8"):function(e){var t,n,r,o,a,i=e.length,l=0;for(o=0;o<i;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<i&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=s.uint8array?new Uint8Array(l):new Array(l),o=a=0;a<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<i&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?t[a++]=n:(n<2048?t[a++]=192|n>>>6:(n<65536?t[a++]=224|n>>>12:(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63),t[a++]=128|n>>>6&63),t[a++]=128|63&n);return t}(e)},n.utf8decode=function(e){return s.nodebuffer?r.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,s,o,a=e.length,l=new Array(2*a);for(t=n=0;t<a;)if((s=e[t++])<128)l[n++]=s;else if(4<(o=i[s]))l[n++]=65533,t+=o-1;else{for(s&=2===o?31:3===o?15:7;1<o&&t<a;)s=s<<6|63&e[t++],o--;1<o?l[n++]=65533:s<65536?l[n++]=s:(s-=65536,l[n++]=55296|s>>10&1023,l[n++]=56320|1023&s)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),r.applyFromCharCode(l)}(e=r.transformTo(s.uint8array?"uint8array":"array",e))},r.inherits(c,a),c.prototype.processChunk=function(e){var t=r.transformTo(s.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var o=t;(t=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),t.set(o,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var a=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+i[e[n]]>t?n:t}(t),l=t;a!==t.length&&(s.uint8array?(l=t.subarray(0,a),this.leftOver=t.subarray(a,t.length)):(l=t.slice(0,a),this.leftOver=t.slice(a,t.length))),this.push({data:n.utf8decode(l),meta:e.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=c,r.inherits(u,a),u.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){var r=e("./support"),s=e("./base64"),o=e("./nodejsUtils"),a=e("./external");function i(e){return e}function l(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}e("setimmediate"),n.newBlob=function(e,t){n.checkSupport("blob");try{return new Blob([e],{type:t})}catch(n){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(e),r.getBlob(t)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(e,t,n){var r=[],s=0,o=e.length;if(o<=n)return String.fromCharCode.apply(null,e);for(;s<o;)"array"===t||"nodebuffer"===t?r.push(String.fromCharCode.apply(null,e.slice(s,Math.min(s+n,o)))):r.push(String.fromCharCode.apply(null,e.subarray(s,Math.min(s+n,o)))),s+=n;return r.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(e){return!1}}()}};function u(e){var t=65536,r=n.getTypeOf(e),s=!0;if("uint8array"===r?s=c.applyCanBeUsed.uint8array:"nodebuffer"===r&&(s=c.applyCanBeUsed.nodebuffer),s)for(;1<t;)try{return c.stringifyByChunk(e,r,t)}catch(e){t=Math.floor(t/2)}return c.stringifyByChar(e)}function d(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=u;var f={};f.string={string:i,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return f.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,o.allocBuffer(e.length))}},f.array={string:u,array:i,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(e)}},f.arraybuffer={string:function(e){return u(new Uint8Array(e))},array:function(e){return d(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:i,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(new Uint8Array(e))}},f.uint8array={string:u,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:i,nodebuffer:function(e){return o.newBufferFrom(e)}},f.nodebuffer={string:u,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return f.nodebuffer.uint8array(e).buffer},uint8array:function(e){return d(e,new Uint8Array(e.length))},nodebuffer:i},n.transformTo=function(e,t){if(t=t||"",!e)return t;n.checkSupport(e);var r=n.getTypeOf(t);return f[r][e](t)},n.resolve=function(e){for(var t=e.split("/"),n=[],r=0;r<t.length;r++){var s=t[r];"."===s||""===s&&0!==r&&r!==t.length-1||(".."===s?n.pop():n.push(s))}return n.join("/")},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":r.nodebuffer&&o.isBuffer(e)?"nodebuffer":r.uint8array&&e instanceof Uint8Array?"uint8array":r.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!r[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)r+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return r},n.delay=function(e,t,n){setImmediate((function(){e.apply(n||null,t||[])}))},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,o,i,c){return a.Promise.resolve(t).then((function(e){return r.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new a.Promise((function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},r.readAsArrayBuffer(e)})):e})).then((function(t){var u=n.getTypeOf(t);return u?("arraybuffer"===u?t=n.transformTo("uint8array",t):"string"===u&&(c?t=s.decode(t):o&&!0!==i&&(t=function(e){return l(e,r.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):a.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,n){var r=e("./reader/readerFor"),s=e("./utils"),o=e("./signature"),a=e("./zipEntry"),i=(e("./utf8"),e("./support"));function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(t)+", expected "+s.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=i.uint8array?"uint8array":"array",n=s.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(0<r)this.isSignature(t,o.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){var r=e("./reader/readerFor"),s=e("./utils"),o=e("./compressedObject"),a=e("./crc32"),i=e("./utf8"),l=e("./compressions"),c=e("./support");function u(e,t){this.options=e,this.loadOptions=t}u.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(l.hasOwnProperty(t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=r(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,r,s=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<s;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),this.extraFields[t]={id:t,length:n,value:r};e.setIndex(s)},handleUTF8:function(){var e=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=i.utf8decode(this.fileName),this.fileCommentStr=i.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=s.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var o=s.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)||a(this.fileName)!==t.readInt(4)?null:i.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)||a(this.fileComment)!==t.readInt(4)?null:i.utf8decode(t.readData(e.length-5))}return null}},t.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){function r(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var s=e("./stream/StreamHelper"),o=e("./stream/DataWorker"),a=e("./utf8"),i=e("./compressedObject"),l=e("./stream/GenericWorker");r.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var o=!this._dataBinary;o&&!r&&(t=t.pipe(new a.Utf8EncodeWorker)),!o&&r&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(e){(t=new l("error")).error(e)}return new s(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof i&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new a.Utf8EncodeWorker)),i.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof i?this._data.getContentWorker():this._data instanceof l?this._data:new o(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<c.length;d++)r.prototype[c[d]]=u;t.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,n){(function(e){var n,r,s=e.MutationObserver||e.WebKitMutationObserver;if(s){var o=0,a=new s(u),i=e.document.createTextNode("");a.observe(i,{characterData:!0}),n=function(){i.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var l=new e.MessageChannel;l.port1.onmessage=u,n=function(){l.port2.postMessage(0)}}var c=[];function u(){var e,t;r=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}r=!1}t.exports=function(e){1!==c.push(e)||r||n()}}).call(this,void 0!==Hs?Hs:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){var r=e("immediate");function s(){}var o={},a=["REJECTED"],i=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==s&&h(this,e)}function u(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function d(e,t,n){r((function(){var r;try{r=t(n)}catch(r){return o.reject(e,r)}r===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,r)}))}function f(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function h(e,t){var n=!1;function r(t){n||(n=!0,o.reject(e,t))}function s(t){n||(n=!0,o.resolve(e,t))}var a=p((function(){t(s,r)}));"error"===a.status&&r(a.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}(t.exports=c).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===i||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(s);return this.state!==l?d(n,this.state===i?e:t,this.outcome):this.queue.push(new u(n,e,t)),n},u.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){o.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=p(f,t);if("error"===n.status)return o.reject(e,n.value);var r=n.value;if(r)h(e,r);else{e.state=i,e.outcome=t;for(var s=-1,a=e.queue.length;++s<a;)e.queue[s].callFulfilled(t)}return e},o.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:o.resolve(new this(s),e)},c.reject=function(e){var t=new this(s);return o.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),i=0,l=-1,c=new this(s);++l<n;)u(e[l],l);return c;function u(e,s){t.resolve(e).then((function(e){a[s]=e,++i!==n||r||(r=!0,o.resolve(c,a))}),(function(e){r||(r=!0,o.reject(c,e))}))}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a,i=-1,l=new this(s);++i<n;)a=e[i],t.resolve(a).then((function(e){r||(r=!0,o.resolve(l,e))}),(function(e){r||(r=!0,o.reject(l,e))}));return l}},{immediate:36}],38:[function(e,t,n){var r={};(0,e("./lib/utils/common").assign)(r,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){var r=e("./zlib/deflate"),s=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/messages"),i=e("./zlib/zstream"),l=Object.prototype.toString,c=0,u=-1,d=0,f=8;function h(e){if(!(this instanceof h))return new h(e);this.options=s.assign({level:u,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new i,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==c)throw new Error(a[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var p;if(p="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=r.deflateSetDictionary(this.strm,p))!==c)throw new Error(a[n]);this._dict_set=!0}}function p(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}h.prototype.push=function(e,t){var n,a,i=this.strm,u=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?i.input=o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new s.Buf8(u),i.next_out=0,i.avail_out=u),1!==(n=r.deflate(i,a))&&n!==c)return this.onEnd(n),!(this.ended=!0);0!==i.avail_out&&(0!==i.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(s.shrinkBuf(i.output,i.next_out))):this.onData(s.shrinkBuf(i.output,i.next_out)))}while((0<i.avail_in||0===i.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c):2!==a||(this.onEnd(c),!(i.avail_out=0))},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=h,n.deflate=p,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,p(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){var r=e("./zlib/inflate"),s=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/constants"),i=e("./zlib/messages"),l=e("./zlib/zstream"),c=e("./zlib/gzheader"),u=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(i[n]);this.header=new c,r.inflateGetHeader(this.strm,this.header)}function f(e,t){var n=new d(t);if(n.push(e,!0),n.err)throw n.msg||i[n.err];return n.result}d.prototype.push=function(e,t){var n,i,l,c,d,f,h=this.strm,p=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;i=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?h.input=o.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new s.Buf8(p),h.next_out=0,h.avail_out=p),(n=r.inflate(h,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&m&&(f="string"==typeof m?o.string2buf(m):"[object ArrayBuffer]"===u.call(m)?new Uint8Array(m):m,n=r.inflateSetDictionary(this.strm,f)),n===a.Z_BUF_ERROR&&!0===g&&(n=a.Z_OK,g=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),!(this.ended=!0);h.next_out&&(0!==h.avail_out&&n!==a.Z_STREAM_END&&(0!==h.avail_in||i!==a.Z_FINISH&&i!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(l=o.utf8border(h.output,h.next_out),c=h.next_out-l,d=o.buf2string(h.output,l),h.next_out=c,h.avail_out=p-c,c&&s.arraySet(h.output,h.output,l,c,0),this.onData(d)):this.onData(s.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(g=!0)}while((0<h.avail_in||0===h.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(i=a.Z_FINISH),i===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):i!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(h.avail_out=0))},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=d,n.inflate=f,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},n.ungzip=f},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var s={arraySet:function(e,t,n,r,s){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),s);else for(var o=0;o<r;o++)e[s+o]=t[n+o]},flattenChunks:function(e){var t,n,r,s,o,a;for(t=r=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),t=s=0,n=e.length;t<n;t++)o=e[t],a.set(o,s),s+=o.length;return a}},o={arraySet:function(e,t,n,r,s){for(var o=0;o<r;o++)e[s+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,s)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(r)},{}],42:[function(e,t,n){var r=e("./common"),s=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var a=new r.Buf8(256),i=0;i<256;i++)a[i]=252<=i?6:248<=i?5:240<=i?4:224<=i?3:192<=i?2:1;function l(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&s))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,n.string2buf=function(e){var t,n,s,o,a,i=e.length,l=0;for(o=0;o<i;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<i&&56320==(64512&(s=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(s-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),o=a=0;a<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<i&&56320==(64512&(s=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(s-56320),o++),n<128?t[a++]=n:(n<2048?t[a++]=192|n>>>6:(n<65536?t[a++]=224|n>>>12:(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63),t[a++]=128|n>>>6&63),t[a++]=128|63&n);return t},n.buf2binstring=function(e){return l(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,s=t.length;n<s;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,s,o,i=t||e.length,c=new Array(2*i);for(n=r=0;n<i;)if((s=e[n++])<128)c[r++]=s;else if(4<(o=a[s]))c[r++]=65533,n+=o-1;else{for(s&=2===o?31:3===o?15:7;1<o&&n<i;)s=s<<6|63&e[n++],o--;1<o?c[r++]=65533:s<65536?c[r++]=s:(s-=65536,c[r++]=55296|s>>10&1023,c[r++]=56320|1023&s)}return l(c,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){t.exports=function(e,t,n,r){for(var s=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){for(n-=a=2e3<n?2e3:n;o=o+(s=s+t[r++]|0)|0,--a;);s%=65521,o%=65521}return s|o<<16|0}},{}],44:[function(e,t,n){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,s){var o=r,a=s+n;e^=-1;for(var i=s;i<a;i++)e=e>>>8^o[255&(e^t[i])];return-1^e}},{}],46:[function(e,t,n){var r,s=e("../utils/common"),o=e("./trees"),a=e("./adler32"),i=e("./crc32"),l=e("./messages"),c=0,u=4,d=0,f=-2,h=-1,p=4,m=2,g=8,b=9,y=286,$=30,v=19,x=2*y+1,w=15,k=3,_=258,S=_+k+1,C=42,E=113,T=1,L=2,j=3,A=4;function N(e,t){return e.msg=l[t],t}function B(e){return(e<<1)-(4<e?9:0)}function R(e){for(var t=e.length;0<=--t;)e[t]=0}function D(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(s.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function P(e,t){o._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,D(e.strm)}function I(e,t){e.pending_buf[e.pending++]=t}function z(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function M(e,t){var n,r,s=e.max_chain_length,o=e.strstart,a=e.prev_length,i=e.nice_match,l=e.strstart>e.w_size-S?e.strstart-(e.w_size-S):0,c=e.window,u=e.w_mask,d=e.prev,f=e.strstart+_,h=c[o+a-1],p=c[o+a];e.prev_length>=e.good_match&&(s>>=2),i>e.lookahead&&(i=e.lookahead);do{if(c[(n=t)+a]===p&&c[n+a-1]===h&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<f);if(r=_-(f-o),o=f-_,a<r){if(e.match_start=t,i<=(a=r))break;h=c[o+a-1],p=c[o+a]}}}while((t=d[t&u])>l&&0!=--s);return a<=e.lookahead?a:e.lookahead}function O(e){var t,n,r,o,l,c,u,d,f,h,p=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-S)){for(s.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=n=e.hash_size;r=e.head[--t],e.head[t]=p<=r?r-p:0,--n;);for(t=n=p;r=e.prev[--t],e.prev[t]=p<=r?r-p:0,--n;);o+=p}if(0===e.strm.avail_in)break;if(c=e.strm,u=e.window,d=e.strstart+e.lookahead,h=void 0,(f=o)<(h=c.avail_in)&&(h=f),n=0===h?0:(c.avail_in-=h,s.arraySet(u,c.input,c.next_in,h,d),1===c.state.wrap?c.adler=a(c.adler,u,h,d):2===c.state.wrap&&(c.adler=i(c.adler,u,h,d)),c.next_in+=h,c.total_in+=h,h),e.lookahead+=n,e.lookahead+e.insert>=k)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+k-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<k)););}while(e.lookahead<S&&0!==e.strm.avail_in)}function F(e,t){for(var n,r;;){if(e.lookahead<S){if(O(e),e.lookahead<S&&t===c)return T;if(0===e.lookahead)break}if(n=0,e.lookahead>=k&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-S&&(e.match_length=M(e,n)),e.match_length>=k)if(r=o._tr_tally(e,e.strstart-e.match_start,e.match_length-k),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=k){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(P(e,!1),0===e.strm.avail_out))return T}return e.insert=e.strstart<k-1?e.strstart:k-1,t===u?(P(e,!0),0===e.strm.avail_out?j:A):e.last_lit&&(P(e,!1),0===e.strm.avail_out)?T:L}function H(e,t){for(var n,r,s;;){if(e.lookahead<S){if(O(e),e.lookahead<S&&t===c)return T;if(0===e.lookahead)break}if(n=0,e.lookahead>=k&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=k-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-S&&(e.match_length=M(e,n),e.match_length<=5&&(1===e.strategy||e.match_length===k&&4096<e.strstart-e.match_start)&&(e.match_length=k-1)),e.prev_length>=k&&e.match_length<=e.prev_length){for(s=e.strstart+e.lookahead-k,r=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-k),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=s&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=k-1,e.strstart++,r&&(P(e,!1),0===e.strm.avail_out))return T}else if(e.match_available){if((r=o._tr_tally(e,0,e.window[e.strstart-1]))&&P(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return T}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<k-1?e.strstart:k-1,t===u?(P(e,!0),0===e.strm.avail_out?j:A):e.last_lit&&(P(e,!1),0===e.strm.avail_out)?T:L}function U(e,t,n,r,s){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=s}function W(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*x),this.dyn_dtree=new s.Buf16(2*(2*$+1)),this.bl_tree=new s.Buf16(2*(2*v+1)),R(this.dyn_ltree),R(this.dyn_dtree),R(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(w+1),this.heap=new s.Buf16(2*y+1),R(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*y+1),R(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function G(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=m,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?C:E,e.adler=2===t.wrap?0:1,t.last_flush=c,o._tr_init(t),d):N(e,f)}function q(e){var t=G(e);return t===d&&function(e){e.window_size=2*e.w_size,R(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=k-1,e.match_available=0,e.ins_h=0}(e.state),t}function K(e,t,n,r,o,a){if(!e)return f;var i=1;if(t===h&&(t=6),r<0?(i=0,r=-r):15<r&&(i=2,r-=16),o<1||b<o||n!==g||r<8||15<r||t<0||9<t||a<0||p<a)return N(e,f);8===r&&(r=9);var l=new W;return(e.state=l).strm=e,l.wrap=i,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+k-1)/k),l.window=new s.Buf8(2*l.w_size),l.head=new s.Buf16(l.hash_size),l.prev=new s.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new s.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=n,q(e)}r=[new U(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(O(e),0===e.lookahead&&t===c)return T;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,P(e,!1),0===e.strm.avail_out))return T;if(e.strstart-e.block_start>=e.w_size-S&&(P(e,!1),0===e.strm.avail_out))return T}return e.insert=0,t===u?(P(e,!0),0===e.strm.avail_out?j:A):(e.strstart>e.block_start&&(P(e,!1),e.strm.avail_out),T)})),new U(4,4,8,4,F),new U(4,5,16,8,F),new U(4,6,32,32,F),new U(4,4,16,16,H),new U(8,16,32,32,H),new U(8,16,128,128,H),new U(8,32,128,256,H),new U(32,128,258,1024,H),new U(32,258,258,4096,H)],n.deflateInit=function(e,t){return K(e,t,g,15,8,0)},n.deflateInit2=K,n.deflateReset=q,n.deflateResetKeep=G,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?f:(e.state.gzhead=t,d):f},n.deflate=function(e,t){var n,s,a,l;if(!e||!e.state||5<t||t<0)return e?N(e,f):f;if(s=e.state,!e.output||!e.input&&0!==e.avail_in||666===s.status&&t!==u)return N(e,0===e.avail_out?-5:f);if(s.strm=e,n=s.last_flush,s.last_flush=t,s.status===C)if(2===s.wrap)e.adler=0,I(s,31),I(s,139),I(s,8),s.gzhead?(I(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),I(s,255&s.gzhead.time),I(s,s.gzhead.time>>8&255),I(s,s.gzhead.time>>16&255),I(s,s.gzhead.time>>24&255),I(s,9===s.level?2:2<=s.strategy||s.level<2?4:0),I(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(I(s,255&s.gzhead.extra.length),I(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(e.adler=i(e.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=69):(I(s,0),I(s,0),I(s,0),I(s,0),I(s,0),I(s,9===s.level?2:2<=s.strategy||s.level<2?4:0),I(s,3),s.status=E);else{var h=g+(s.w_bits-8<<4)<<8;h|=(2<=s.strategy||s.level<2?0:s.level<6?1:6===s.level?2:3)<<6,0!==s.strstart&&(h|=32),h+=31-h%31,s.status=E,z(s,h),0!==s.strstart&&(z(s,e.adler>>>16),z(s,65535&e.adler)),e.adler=1}if(69===s.status)if(s.gzhead.extra){for(a=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>a&&(e.adler=i(e.adler,s.pending_buf,s.pending-a,a)),D(e),a=s.pending,s.pending!==s.pending_buf_size));)I(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>a&&(e.adler=i(e.adler,s.pending_buf,s.pending-a,a)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=73)}else s.status=73;if(73===s.status)if(s.gzhead.name){a=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>a&&(e.adler=i(e.adler,s.pending_buf,s.pending-a,a)),D(e),a=s.pending,s.pending===s.pending_buf_size)){l=1;break}l=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,I(s,l)}while(0!==l);s.gzhead.hcrc&&s.pending>a&&(e.adler=i(e.adler,s.pending_buf,s.pending-a,a)),0===l&&(s.gzindex=0,s.status=91)}else s.status=91;if(91===s.status)if(s.gzhead.comment){a=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>a&&(e.adler=i(e.adler,s.pending_buf,s.pending-a,a)),D(e),a=s.pending,s.pending===s.pending_buf_size)){l=1;break}l=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,I(s,l)}while(0!==l);s.gzhead.hcrc&&s.pending>a&&(e.adler=i(e.adler,s.pending_buf,s.pending-a,a)),0===l&&(s.status=103)}else s.status=103;if(103===s.status&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&D(e),s.pending+2<=s.pending_buf_size&&(I(s,255&e.adler),I(s,e.adler>>8&255),e.adler=0,s.status=E)):s.status=E),0!==s.pending){if(D(e),0===e.avail_out)return s.last_flush=-1,d}else if(0===e.avail_in&&B(t)<=B(n)&&t!==u)return N(e,-5);if(666===s.status&&0!==e.avail_in)return N(e,-5);if(0!==e.avail_in||0!==s.lookahead||t!==c&&666!==s.status){var p=2===s.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(O(e),0===e.lookahead)){if(t===c)return T;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(P(e,!1),0===e.strm.avail_out))return T}return e.insert=0,t===u?(P(e,!0),0===e.strm.avail_out?j:A):e.last_lit&&(P(e,!1),0===e.strm.avail_out)?T:L}(s,t):3===s.strategy?function(e,t){for(var n,r,s,a,i=e.window;;){if(e.lookahead<=_){if(O(e),e.lookahead<=_&&t===c)return T;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=k&&0<e.strstart&&(r=i[s=e.strstart-1])===i[++s]&&r===i[++s]&&r===i[++s]){a=e.strstart+_;do{}while(r===i[++s]&&r===i[++s]&&r===i[++s]&&r===i[++s]&&r===i[++s]&&r===i[++s]&&r===i[++s]&&r===i[++s]&&s<a);e.match_length=_-(a-s),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=k?(n=o._tr_tally(e,1,e.match_length-k),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(P(e,!1),0===e.strm.avail_out))return T}return e.insert=0,t===u?(P(e,!0),0===e.strm.avail_out?j:A):e.last_lit&&(P(e,!1),0===e.strm.avail_out)?T:L}(s,t):r[s.level].func(s,t);if(p!==j&&p!==A||(s.status=666),p===T||p===j)return 0===e.avail_out&&(s.last_flush=-1),d;if(p===L&&(1===t?o._tr_align(s):5!==t&&(o._tr_stored_block(s,0,0,!1),3===t&&(R(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),D(e),0===e.avail_out))return s.last_flush=-1,d}return t!==u?d:s.wrap<=0?1:(2===s.wrap?(I(s,255&e.adler),I(s,e.adler>>8&255),I(s,e.adler>>16&255),I(s,e.adler>>24&255),I(s,255&e.total_in),I(s,e.total_in>>8&255),I(s,e.total_in>>16&255),I(s,e.total_in>>24&255)):(z(s,e.adler>>>16),z(s,65535&e.adler)),D(e),0<s.wrap&&(s.wrap=-s.wrap),0!==s.pending?d:1)},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==C&&69!==t&&73!==t&&91!==t&&103!==t&&t!==E&&666!==t?N(e,f):(e.state=null,t===E?N(e,-3):d):f},n.deflateSetDictionary=function(e,t){var n,r,o,i,l,c,u,h,p=t.length;if(!e||!e.state)return f;if(2===(i=(n=e.state).wrap)||1===i&&n.status!==C||n.lookahead)return f;for(1===i&&(e.adler=a(e.adler,t,p,0)),n.wrap=0,p>=n.w_size&&(0===i&&(R(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new s.Buf8(n.w_size),s.arraySet(h,t,p-n.w_size,n.w_size,0),t=h,p=n.w_size),l=e.avail_in,c=e.next_in,u=e.input,e.avail_in=p,e.next_in=0,e.input=t,O(n);n.lookahead>=k;){for(r=n.strstart,o=n.lookahead-(k-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+k-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--o;);n.strstart=r,n.lookahead=k-1,O(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=k-1,n.match_available=0,e.next_in=c,e.input=u,e.avail_in=l,n.wrap=i,d},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){t.exports=function(e,t){var n,r,s,o,a,i,l,c,u,d,f,h,p,m,g,b,y,$,v,x,w,k,_,S,C;n=e.state,r=e.next_in,S=e.input,s=r+(e.avail_in-5),o=e.next_out,C=e.output,a=o-(t-e.avail_out),i=o+(e.avail_out-257),l=n.dmax,c=n.wsize,u=n.whave,d=n.wnext,f=n.window,h=n.hold,p=n.bits,m=n.lencode,g=n.distcode,b=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{p<15&&(h+=S[r++]<<p,p+=8,h+=S[r++]<<p,p+=8),$=m[h&b];t:for(;;){if(h>>>=v=$>>>24,p-=v,0==(v=$>>>16&255))C[o++]=65535&$;else{if(!(16&v)){if(0==(64&v)){$=m[(65535&$)+(h&(1<<v)-1)];continue t}if(32&v){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}x=65535&$,(v&=15)&&(p<v&&(h+=S[r++]<<p,p+=8),x+=h&(1<<v)-1,h>>>=v,p-=v),p<15&&(h+=S[r++]<<p,p+=8,h+=S[r++]<<p,p+=8),$=g[h&y];n:for(;;){if(h>>>=v=$>>>24,p-=v,!(16&(v=$>>>16&255))){if(0==(64&v)){$=g[(65535&$)+(h&(1<<v)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(w=65535&$,p<(v&=15)&&(h+=S[r++]<<p,(p+=8)<v&&(h+=S[r++]<<p,p+=8)),l<(w+=h&(1<<v)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(h>>>=v,p-=v,(v=o-a)<w){if(u<(v=w-v)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(_=f,(k=0)===d){if(k+=c-v,v<x){for(x-=v;C[o++]=f[k++],--v;);k=o-w,_=C}}else if(d<v){if(k+=c+d-v,(v-=d)<x){for(x-=v;C[o++]=f[k++],--v;);if(k=0,d<x){for(x-=v=d;C[o++]=f[k++],--v;);k=o-w,_=C}}}else if(k+=d-v,v<x){for(x-=v;C[o++]=f[k++],--v;);k=o-w,_=C}for(;2<x;)C[o++]=_[k++],C[o++]=_[k++],C[o++]=_[k++],x-=3;x&&(C[o++]=_[k++],1<x&&(C[o++]=_[k++]))}else{for(k=o-w;C[o++]=C[k++],C[o++]=C[k++],C[o++]=C[k++],2<(x-=3););x&&(C[o++]=C[k++],1<x&&(C[o++]=C[k++]))}break}}break}}while(r<s&&o<i);r-=x=p>>3,h&=(1<<(p-=x<<3))-1,e.next_in=r,e.next_out=o,e.avail_in=r<s?s-r+5:5-(r-s),e.avail_out=o<i?i-o+257:257-(o-i),n.hold=h,n.bits=p}},{}],49:[function(e,t,n){var r=e("../utils/common"),s=e("./adler32"),o=e("./crc32"),a=e("./inffast"),i=e("./inftrees"),l=1,c=2,u=0,d=-2,f=1,h=852,p=592;function m(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function g(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=f,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(h),t.distcode=t.distdyn=new r.Buf32(p),t.sane=1,t.back=-1,u):d}function y(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,b(e)):d}function $(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?d:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,y(e))):d}function v(e,t){var n,r;return e?(r=new g,(e.state=r).window=null,(n=$(e,t))!==u&&(e.state=null),n):d}var x,w,k=!0;function _(e){if(k){var t;for(x=new r.Buf32(512),w=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(i(l,e.lens,0,288,x,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;i(c,e.lens,0,32,w,0,e.work,{bits:5}),k=!1}e.lencode=x,e.lenbits=9,e.distcode=w,e.distbits=5}function S(e,t,n,s){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),s>=a.wsize?(r.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(s<(o=a.wsize-a.wnext)&&(o=s),r.arraySet(a.window,t,n-s,o,a.wnext),(s-=o)?(r.arraySet(a.window,t,n-s,s,0),a.wnext=s,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}n.inflateReset=y,n.inflateReset2=$,n.inflateResetKeep=b,n.inflateInit=function(e){return v(e,15)},n.inflateInit2=v,n.inflate=function(e,t){var n,h,p,g,b,y,$,v,x,w,k,C,E,T,L,j,A,N,B,R,D,P,I,z,M=0,O=new r.Buf8(4),F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return d;12===(n=e.state).mode&&(n.mode=13),b=e.next_out,p=e.output,$=e.avail_out,g=e.next_in,h=e.input,y=e.avail_in,v=n.hold,x=n.bits,w=y,k=$,P=u;e:for(;;)switch(n.mode){case f:if(0===n.wrap){n.mode=13;break}for(;x<16;){if(0===y)break e;y--,v+=h[g++]<<x,x+=8}if(2&n.wrap&&35615===v){O[n.check=0]=255&v,O[1]=v>>>8&255,n.check=o(n.check,O,2,0),x=v=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&v)<<8)+(v>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&v)){e.msg="unknown compression method",n.mode=30;break}if(x-=4,D=8+(15&(v>>>=4)),0===n.wbits)n.wbits=D;else if(D>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<D,e.adler=n.check=1,n.mode=512&v?10:12,x=v=0;break;case 2:for(;x<16;){if(0===y)break e;y--,v+=h[g++]<<x,x+=8}if(n.flags=v,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=v>>8&1),512&n.flags&&(O[0]=255&v,O[1]=v>>>8&255,n.check=o(n.check,O,2,0)),x=v=0,n.mode=3;case 3:for(;x<32;){if(0===y)break e;y--,v+=h[g++]<<x,x+=8}n.head&&(n.head.time=v),512&n.flags&&(O[0]=255&v,O[1]=v>>>8&255,O[2]=v>>>16&255,O[3]=v>>>24&255,n.check=o(n.check,O,4,0)),x=v=0,n.mode=4;case 4:for(;x<16;){if(0===y)break e;y--,v+=h[g++]<<x,x+=8}n.head&&(n.head.xflags=255&v,n.head.os=v>>8),512&n.flags&&(O[0]=255&v,O[1]=v>>>8&255,n.check=o(n.check,O,2,0)),x=v=0,n.mode=5;case 5:if(1024&n.flags){for(;x<16;){if(0===y)break e;y--,v+=h[g++]<<x,x+=8}n.length=v,n.head&&(n.head.extra_len=v),512&n.flags&&(O[0]=255&v,O[1]=v>>>8&255,n.check=o(n.check,O,2,0)),x=v=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(y<(C=n.length)&&(C=y),C&&(n.head&&(D=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,h,g,C,D)),512&n.flags&&(n.check=o(n.check,h,C,g)),y-=C,g+=C,n.length-=C),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===y)break e;for(C=0;D=h[g+C++],n.head&&D&&n.length<65536&&(n.head.name+=String.fromCharCode(D)),D&&C<y;);if(512&n.flags&&(n.check=o(n.check,h,C,g)),y-=C,g+=C,D)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===y)break e;for(C=0;D=h[g+C++],n.head&&D&&n.length<65536&&(n.head.comment+=String.fromCharCode(D)),D&&C<y;);if(512&n.flags&&(n.check=o(n.check,h,C,g)),y-=C,g+=C,D)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;x<16;){if(0===y)break e;y--,v+=h[g++]<<x,x+=8}if(v!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}x=v=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;x<32;){if(0===y)break e;y--,v+=h[g++]<<x,x+=8}e.adler=n.check=m(v),x=v=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=b,e.avail_out=$,e.next_in=g,e.avail_in=y,n.hold=v,n.bits=x,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){v>>>=7&x,x-=7&x,n.mode=27;break}for(;x<3;){if(0===y)break e;y--,v+=h[g++]<<x,x+=8}switch(n.last=1&v,x-=1,3&(v>>>=1)){case 0:n.mode=14;break;case 1:if(_(n),n.mode=20,6!==t)break;v>>>=2,x-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}v>>>=2,x-=2;break;case 14:for(v>>>=7&x,x-=7&x;x<32;){if(0===y)break e;y--,v+=h[g++]<<x,x+=8}if((65535&v)!=(v>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&v,x=v=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(C=n.length){if(y<C&&(C=y),$<C&&(C=$),0===C)break e;r.arraySet(p,h,g,C,b),y-=C,g+=C,$-=C,b+=C,n.length-=C;break}n.mode=12;break;case 17:for(;x<14;){if(0===y)break e;y--,v+=h[g++]<<x,x+=8}if(n.nlen=257+(31&v),v>>>=5,x-=5,n.ndist=1+(31&v),v>>>=5,x-=5,n.ncode=4+(15&v),v>>>=4,x-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;x<3;){if(0===y)break e;y--,v+=h[g++]<<x,x+=8}n.lens[F[n.have++]]=7&v,v>>>=3,x-=3}for(;n.have<19;)n.lens[F[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,I={bits:n.lenbits},P=i(0,n.lens,0,19,n.lencode,0,n.work,I),n.lenbits=I.bits,P){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;j=(M=n.lencode[v&(1<<n.lenbits)-1])>>>16&255,A=65535&M,!((L=M>>>24)<=x);){if(0===y)break e;y--,v+=h[g++]<<x,x+=8}if(A<16)v>>>=L,x-=L,n.lens[n.have++]=A;else{if(16===A){for(z=L+2;x<z;){if(0===y)break e;y--,v+=h[g++]<<x,x+=8}if(v>>>=L,x-=L,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}D=n.lens[n.have-1],C=3+(3&v),v>>>=2,x-=2}else if(17===A){for(z=L+3;x<z;){if(0===y)break e;y--,v+=h[g++]<<x,x+=8}x-=L,D=0,C=3+(7&(v>>>=L)),v>>>=3,x-=3}else{for(z=L+7;x<z;){if(0===y)break e;y--,v+=h[g++]<<x,x+=8}x-=L,D=0,C=11+(127&(v>>>=L)),v>>>=7,x-=7}if(n.have+C>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;C--;)n.lens[n.have++]=D}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,I={bits:n.lenbits},P=i(l,n.lens,0,n.nlen,n.lencode,0,n.work,I),n.lenbits=I.bits,P){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,I={bits:n.distbits},P=i(c,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,I),n.distbits=I.bits,P){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=y&&258<=$){e.next_out=b,e.avail_out=$,e.next_in=g,e.avail_in=y,n.hold=v,n.bits=x,a(e,k),b=e.next_out,p=e.output,$=e.avail_out,g=e.next_in,h=e.input,y=e.avail_in,v=n.hold,x=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;j=(M=n.lencode[v&(1<<n.lenbits)-1])>>>16&255,A=65535&M,!((L=M>>>24)<=x);){if(0===y)break e;y--,v+=h[g++]<<x,x+=8}if(j&&0==(240&j)){for(N=L,B=j,R=A;j=(M=n.lencode[R+((v&(1<<N+B)-1)>>N)])>>>16&255,A=65535&M,!(N+(L=M>>>24)<=x);){if(0===y)break e;y--,v+=h[g++]<<x,x+=8}v>>>=N,x-=N,n.back+=N}if(v>>>=L,x-=L,n.back+=L,n.length=A,0===j){n.mode=26;break}if(32&j){n.back=-1,n.mode=12;break}if(64&j){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&j,n.mode=22;case 22:if(n.extra){for(z=n.extra;x<z;){if(0===y)break e;y--,v+=h[g++]<<x,x+=8}n.length+=v&(1<<n.extra)-1,v>>>=n.extra,x-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;j=(M=n.distcode[v&(1<<n.distbits)-1])>>>16&255,A=65535&M,!((L=M>>>24)<=x);){if(0===y)break e;y--,v+=h[g++]<<x,x+=8}if(0==(240&j)){for(N=L,B=j,R=A;j=(M=n.distcode[R+((v&(1<<N+B)-1)>>N)])>>>16&255,A=65535&M,!(N+(L=M>>>24)<=x);){if(0===y)break e;y--,v+=h[g++]<<x,x+=8}v>>>=N,x-=N,n.back+=N}if(v>>>=L,x-=L,n.back+=L,64&j){e.msg="invalid distance code",n.mode=30;break}n.offset=A,n.extra=15&j,n.mode=24;case 24:if(n.extra){for(z=n.extra;x<z;){if(0===y)break e;y--,v+=h[g++]<<x,x+=8}n.offset+=v&(1<<n.extra)-1,v>>>=n.extra,x-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===$)break e;if(C=k-$,n.offset>C){if((C=n.offset-C)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}E=C>n.wnext?(C-=n.wnext,n.wsize-C):n.wnext-C,C>n.length&&(C=n.length),T=n.window}else T=p,E=b-n.offset,C=n.length;for($<C&&(C=$),$-=C,n.length-=C;p[b++]=T[E++],--C;);0===n.length&&(n.mode=21);break;case 26:if(0===$)break e;p[b++]=n.length,$--,n.mode=21;break;case 27:if(n.wrap){for(;x<32;){if(0===y)break e;y--,v|=h[g++]<<x,x+=8}if(k-=$,e.total_out+=k,n.total+=k,k&&(e.adler=n.check=n.flags?o(n.check,p,k,b-k):s(n.check,p,k,b-k)),k=$,(n.flags?v:m(v))!==n.check){e.msg="incorrect data check",n.mode=30;break}x=v=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;x<32;){if(0===y)break e;y--,v+=h[g++]<<x,x+=8}if(v!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}x=v=0}n.mode=29;case 29:P=1;break e;case 30:P=-3;break e;case 31:return-4;default:return d}return e.next_out=b,e.avail_out=$,e.next_in=g,e.avail_in=y,n.hold=v,n.bits=x,(n.wsize||k!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&S(e,e.output,e.next_out,k-e.avail_out)?(n.mode=31,-4):(w-=e.avail_in,k-=e.avail_out,e.total_in+=w,e.total_out+=k,n.total+=k,n.wrap&&k&&(e.adler=n.check=n.flags?o(n.check,p,k,e.next_out-k):s(n.check,p,k,e.next_out-k)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==w&&0===k||4===t)&&P===u&&(P=-5),P)},n.inflateEnd=function(e){if(!e||!e.state)return d;var t=e.state;return t.window&&(t.window=null),e.state=null,u},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?d:((n.head=t).done=!1,u):d},n.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?d:11===n.mode&&s(1,t,r,0)!==n.check?-3:S(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,u):d},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){var r=e("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],i=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,l,c,u,d,f){var h,p,m,g,b,y,$,v,x,w=f.bits,k=0,_=0,S=0,C=0,E=0,T=0,L=0,j=0,A=0,N=0,B=null,R=0,D=new r.Buf16(16),P=new r.Buf16(16),I=null,z=0;for(k=0;k<=15;k++)D[k]=0;for(_=0;_<l;_++)D[t[n+_]]++;for(E=w,C=15;1<=C&&0===D[C];C--);if(C<E&&(E=C),0===C)return c[u++]=20971520,c[u++]=20971520,f.bits=1,0;for(S=1;S<C&&0===D[S];S++);for(E<S&&(E=S),k=j=1;k<=15;k++)if(j<<=1,(j-=D[k])<0)return-1;if(0<j&&(0===e||1!==C))return-1;for(P[1]=0,k=1;k<15;k++)P[k+1]=P[k]+D[k];for(_=0;_<l;_++)0!==t[n+_]&&(d[P[t[n+_]]++]=_);if(y=0===e?(B=I=d,19):1===e?(B=s,R-=257,I=o,z-=257,256):(B=a,I=i,-1),k=S,b=u,L=_=N=0,m=-1,g=(A=1<<(T=E))-1,1===e&&852<A||2===e&&592<A)return 1;for(;;){for($=k-L,x=d[_]<y?(v=0,d[_]):d[_]>y?(v=I[z+d[_]],B[R+d[_]]):(v=96,0),h=1<<k-L,S=p=1<<T;c[b+(N>>L)+(p-=h)]=$<<24|v<<16|x|0,0!==p;);for(h=1<<k-1;N&h;)h>>=1;if(0!==h?(N&=h-1,N+=h):N=0,_++,0==--D[k]){if(k===C)break;k=t[n+d[_]]}if(E<k&&(N&g)!==m){for(0===L&&(L=E),b+=S,j=1<<(T=k-L);T+L<C&&!((j-=D[T+L])<=0);)T++,j<<=1;if(A+=1<<T,1===e&&852<A||2===e&&592<A)return 1;c[m=N&g]=E<<24|T<<16|b-u|0}}return 0!==N&&(c[b+N]=k-L<<24|64<<16|0),f.bits=E,0}},{"../utils/common":41}],51:[function(e,t,n){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){var r=e("../utils/common"),s=0,o=1;function a(e){for(var t=e.length;0<=--t;)e[t]=0}var i=0,l=29,c=256,u=c+1+l,d=30,f=19,h=2*u+1,p=15,m=16,g=7,b=256,y=16,$=17,v=18,x=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],w=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],_=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S=new Array(2*(u+2));a(S);var C=new Array(2*d);a(C);var E=new Array(512);a(E);var T=new Array(256);a(T);var L=new Array(l);a(L);var j,A,N,B=new Array(d);function R(e,t,n,r,s){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=s,this.has_stree=e&&e.length}function D(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function P(e){return e<256?E[e]:E[256+(e>>>7)]}function I(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function z(e,t,n){e.bi_valid>m-n?(e.bi_buf|=t<<e.bi_valid&65535,I(e,e.bi_buf),e.bi_buf=t>>m-e.bi_valid,e.bi_valid+=n-m):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function M(e,t,n){z(e,n[2*t],n[2*t+1])}function O(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function F(e,t,n){var r,s,o=new Array(p+1),a=0;for(r=1;r<=p;r++)o[r]=a=a+n[r-1]<<1;for(s=0;s<=t;s++){var i=e[2*s+1];0!==i&&(e[2*s]=O(o[i]++,i))}}function H(e){var t;for(t=0;t<u;t++)e.dyn_ltree[2*t]=0;for(t=0;t<d;t++)e.dyn_dtree[2*t]=0;for(t=0;t<f;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*b]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function U(e){8<e.bi_valid?I(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function W(e,t,n,r){var s=2*t,o=2*n;return e[s]<e[o]||e[s]===e[o]&&r[t]<=r[n]}function G(e,t,n){for(var r=e.heap[n],s=n<<1;s<=e.heap_len&&(s<e.heap_len&&W(t,e.heap[s+1],e.heap[s],e.depth)&&s++,!W(t,r,e.heap[s],e.depth));)e.heap[n]=e.heap[s],n=s,s<<=1;e.heap[n]=r}function q(e,t,n){var r,s,o,a,i=0;if(0!==e.last_lit)for(;r=e.pending_buf[e.d_buf+2*i]<<8|e.pending_buf[e.d_buf+2*i+1],s=e.pending_buf[e.l_buf+i],i++,0===r?M(e,s,t):(M(e,(o=T[s])+c+1,t),0!==(a=x[o])&&z(e,s-=L[o],a),M(e,o=P(--r),n),0!==(a=w[o])&&z(e,r-=B[o],a)),i<e.last_lit;);M(e,b,t)}function K(e,t){var n,r,s,o=t.dyn_tree,a=t.stat_desc.static_tree,i=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=h,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(s=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[s]=0,e.opt_len--,i&&(e.static_len-=a[2*s+1]);for(t.max_code=c,n=e.heap_len>>1;1<=n;n--)G(e,o,n);for(s=l;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],G(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*s]=o[2*n]+o[2*r],e.depth[s]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=s,e.heap[1]=s++,G(e,o,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,s,o,a,i,l=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,m=t.stat_desc.extra_base,g=t.stat_desc.max_length,b=0;for(o=0;o<=p;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<h;n++)g<(o=l[2*l[2*(r=e.heap[n])+1]+1]+1)&&(o=g,b++),l[2*r+1]=o,c<r||(e.bl_count[o]++,a=0,m<=r&&(a=f[r-m]),i=l[2*r],e.opt_len+=i*(o+a),d&&(e.static_len+=i*(u[2*r+1]+a)));if(0!==b){do{for(o=g-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[g]--,b-=2}while(0<b);for(o=g;0!==o;o--)for(r=e.bl_count[o];0!==r;)c<(s=e.heap[--n])||(l[2*s+1]!==o&&(e.opt_len+=(o-l[2*s+1])*l[2*s],l[2*s+1]=o),r--)}}(e,t),F(o,c,e.bl_count)}function V(e,t,n){var r,s,o=-1,a=t[1],i=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)s=a,a=t[2*(r+1)+1],++i<l&&s===a||(i<c?e.bl_tree[2*s]+=i:0!==s?(s!==o&&e.bl_tree[2*s]++,e.bl_tree[2*y]++):i<=10?e.bl_tree[2*$]++:e.bl_tree[2*v]++,o=s,c=(i=0)===a?(l=138,3):s===a?(l=6,3):(l=7,4))}function Z(e,t,n){var r,s,o=-1,a=t[1],i=0,l=7,c=4;for(0===a&&(l=138,c=3),r=0;r<=n;r++)if(s=a,a=t[2*(r+1)+1],!(++i<l&&s===a)){if(i<c)for(;M(e,s,e.bl_tree),0!=--i;);else 0!==s?(s!==o&&(M(e,s,e.bl_tree),i--),M(e,y,e.bl_tree),z(e,i-3,2)):i<=10?(M(e,$,e.bl_tree),z(e,i-3,3)):(M(e,v,e.bl_tree),z(e,i-11,7));o=s,c=(i=0)===a?(l=138,3):s===a?(l=6,3):(l=7,4)}}a(B);var J=!1;function Y(e,t,n,s){z(e,(i<<1)+(s?1:0),3),function(e,t,n,s){U(e),s&&(I(e,n),I(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}n._tr_init=function(e){J||(function(){var e,t,n,r,s,o=new Array(p+1);for(r=n=0;r<l-1;r++)for(L[r]=n,e=0;e<1<<x[r];e++)T[n++]=r;for(T[n-1]=r,r=s=0;r<16;r++)for(B[r]=s,e=0;e<1<<w[r];e++)E[s++]=r;for(s>>=7;r<d;r++)for(B[r]=s<<7,e=0;e<1<<w[r]-7;e++)E[256+s++]=r;for(t=0;t<=p;t++)o[t]=0;for(e=0;e<=143;)S[2*e+1]=8,e++,o[8]++;for(;e<=255;)S[2*e+1]=9,e++,o[9]++;for(;e<=279;)S[2*e+1]=7,e++,o[7]++;for(;e<=287;)S[2*e+1]=8,e++,o[8]++;for(F(S,u+1,o),e=0;e<d;e++)C[2*e+1]=5,C[2*e]=O(e,5);j=new R(S,x,c+1,u,p),A=new R(C,w,0,d,p),N=new R(new Array(0),k,0,f,g)}(),J=!0),e.l_desc=new D(e.dyn_ltree,j),e.d_desc=new D(e.dyn_dtree,A),e.bl_desc=new D(e.bl_tree,N),e.bi_buf=0,e.bi_valid=0,H(e)},n._tr_stored_block=Y,n._tr_flush_block=function(e,t,n,r){var a,i,l=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return s;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return o;for(t=32;t<c;t++)if(0!==e.dyn_ltree[2*t])return o;return s}(e)),K(e,e.l_desc),K(e,e.d_desc),l=function(e){var t;for(V(e,e.dyn_ltree,e.l_desc.max_code),V(e,e.dyn_dtree,e.d_desc.max_code),K(e,e.bl_desc),t=f-1;3<=t&&0===e.bl_tree[2*_[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),a=e.opt_len+3+7>>>3,(i=e.static_len+3+7>>>3)<=a&&(a=i)):a=i=n+5,n+4<=a&&-1!==t?Y(e,t,n,r):4===e.strategy||i===a?(z(e,2+(r?1:0),3),q(e,S,C)):(z(e,4+(r?1:0),3),function(e,t,n,r){var s;for(z(e,t-257,5),z(e,n-1,5),z(e,r-4,4),s=0;s<r;s++)z(e,e.bl_tree[2*_[s]+1],3);Z(e,e.dyn_ltree,t-1),Z(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),q(e,e.dyn_ltree,e.dyn_dtree)),H(e),r&&U(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(T[n]+c+1)]++,e.dyn_dtree[2*P(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){z(e,2,3),M(e,b,S),function(e){16===e.bi_valid?(I(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,n){t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,n){(function(e){!function(e,t){if(!e.setImmediate){var n,r,s,o,a=1,i={},l=!1,c=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,n="[object process]"==={}.toString.call(e.process)?function(e){process.nextTick((function(){f(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(o="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",h,!1):e.attachEvent("onmessage",h),function(t){e.postMessage(o+t,"*")}):e.MessageChannel?((s=new MessageChannel).port1.onmessage=function(e){f(e.data)},function(e){s.port2.postMessage(e)}):c&&"onreadystatechange"in c.createElement("script")?(r=c.documentElement,function(e){var t=c.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):function(e){setTimeout(f,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var s={callback:e,args:t};return i[a]=s,n(a),a++},u.clearImmediate=d}function d(e){delete i[e]}function f(e){if(l)setTimeout(f,0,e);else{var n=i[e];if(n){l=!0;try{!function(e){var n=e.callback,r=e.args;switch(r.length){case 0:n();break;case 1:n(r[0]);break;case 2:n(r[0],r[1]);break;case 3:n(r[0],r[1],r[2]);break;default:n.apply(t,r)}}(n)}finally{d(e),l=!1}}}}function h(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&f(+t.data.slice(o.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,void 0!==Hs?Hs:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)}));
/*!

    JSZip v3.10.0 - A JavaScript class for generating and reading zip files
    <http://stuartk.com/jszip>

    (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
    Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

    JSZip uses the library pako released under the MIT license :
    https://github.com/nodeca/pako/blob/main/LICENSE
    */const{models:Ks,enums:Vs,formatting:Zs}=window.S4TK,Js="StblStudioDownload";async function Ys(e,t,n,r){return new Promise((async(s,o)=>{try{const o=e.map((e=>function(e,t,n,r){switch(n){case"package":return[Xs(e,t)];case"stbl":return function(e,t,n){return t.map((t=>{const r=e.stbl.getStringTable(t);return{filename:eo(e,t,"stbl",n),data:new Blob([r.getBuffer()])}}))}(e,t,r);case"json":return function(e,t,n){return t.map((t=>{const r=e.stbl.getJson(t,!0);let s;if(nt.useObjectJson){const e={};r.forEach((({key:t,value:n})=>e[t]=n)),s=JSON.stringify(e,null,2)}else s=JSON.stringify(r,null,2);return{filename:eo(e,t,"json",n),data:new Blob([s])}}))}(e,t,r)}}(e,t,n,r)));if(1===o.length){const[t]=o;if(1===t.length)s(t[0]);else{const n=to(e[0].metaData.name);s(await Qs(n,t))}}else 1===o[0].length&&"project"===r?s(await Qs(Js,o.map((e=>e[0])))):s(await async function(e,t,n){return new Promise((async r=>{const s=new qs;t.forEach(((e,t)=>{const r=s.folder(n[t]);e.forEach((e=>{r.file(e.filename,e.data)}))})),r({filename:e+".zip",data:await s.generateAsync({type:"blob"})})}))}(Js,o,e.map((e=>to(e.metaData.name)))))}catch(e){o(e)}}))}function Xs(e,t){const n=new Ks.Package(t.map((t=>({key:no(e,t),value:e.stbl.getStringTable(t)}))));return{filename:`${to(e.metaData.name)}.package`,data:new Blob([n.getBuffer()])}}async function Qs(e,t){return new Promise((async n=>{const r=new qs;t.forEach((e=>r.file(e.filename,e.data))),n({filename:e+".zip",data:await r.generateAsync({type:"blob"})})}))}function eo(e,t,n,r){let s;if("project"===r)s=`${to(e.metaData.name)}_${Vs.StringTableLocale[t]}`;else{const n=no(e,t);s="s4s"===r?`${Zs.formatResourceKey(n,"!")}.${Vs.StringTableLocale[t]}`:`S4_${Zs.formatResourceKey(n,"_")}`}return`${s}.${n}`}function to(e){return e.replace(/\W/g,"")}function no(e,t){return{type:Vs.BinaryResourceType.StringTable,group:e.metaData.group,instance:Vs.StringTableLocale.setHighByte(t,e.metaData.instance)}}function ro(e){let t,n;return{c(){t=C("p"),n=E(e[1])},m(e,r){_(e,t,r),x(t,n)},p(e,t){2&t&&B(n,e[1])},d(e){e&&S(t)}}}function so(e){let t,n,r,s,o,a,i,l,c,u,d,f,h,p,m=e[1]&&ro(e);function g(t){e[12](t)}let b={label:"download as",name:"file-type-select",fillWidth:!0,options:e[5]};function y(t){e[13](t)}void 0!==e[2].downloadFileType&&(b.selected=e[2].downloadFileType),s=new er({props:b}),J.push((()=>Ee(s,"selected",g)));let $={label:"locales",name:"locales-select",fillWidth:!0,options:e[6]};function v(t){e[14](t)}void 0!==e[2].downloadLocales&&($.selected=e[2].downloadLocales),i=new er({props:$}),J.push((()=>Ee(i,"selected",y)));let w={label:"naming convention",name:"naming-convention-select",disabled:e[3],fillWidth:!0,options:e[7]};return void 0!==e[2].downloadNamingConvention&&(w.selected=e[2].downloadNamingConvention),u=new er({props:w}),J.push((()=>Ee(u,"selected",v))),{c(){t=C("div"),m&&m.c(),n=T(),r=C("div"),Te(s.$$.fragment),a=T(),Te(i.$$.fragment),c=T(),Te(u.$$.fragment),f=T(),h=C("p"),h.textContent="If downloading multiple files, they will be zipped.",A(r,"class","w-full flex flex-wrap sm:flex-nowrap gap-4"),A(h,"class","text-subtle text-xs"),A(t,"class","flex flex-col gap-6")},m(e,o){_(e,t,o),m&&m.m(t,null),x(t,n),x(t,r),Le(s,r,null),x(r,a),Le(i,r,null),x(r,c),Le(u,r,null),x(t,f),x(t,h),p=!0},p(e,r){e[1]?m?m.p(e,r):(m=ro(e),m.c(),m.m(t,n)):m&&(m.d(1),m=null);const a={};!o&&4&r&&(o=!0,a.selected=e[2].downloadFileType,se((()=>o=!1))),s.$set(a);const c={};!l&&4&r&&(l=!0,c.selected=e[2].downloadLocales,se((()=>l=!1))),i.$set(c);const f={};8&r&&(f.disabled=e[3]),!d&&4&r&&(d=!0,f.selected=e[2].downloadNamingConvention,se((()=>d=!1))),u.$set(f)},i(e){p||(ge(s.$$.fragment,e),ge(i.$$.fragment,e),ge(u.$$.fragment,e),p=!0)},o(e){be(s.$$.fragment,e),be(i.$$.fragment,e),be(u.$$.fragment,e),p=!1},d(e){e&&S(t),m&&m.d(),je(s),je(i),je(u)}}}function oo(e){let t,n,r,s;function o(t){e[15](t)}let a={pageNumber:1,$$slots:{default:[so]},$$scope:{ctx:e}};return void 0!==e[4]&&(a.state=e[4]),n=new Pn({props:a}),J.push((()=>Ee(n,"state",o))),{c(){t=C("div"),Te(n.$$.fragment),A(t,"slot","content"),A(t,"class","w-full py-2")},m(e,r){_(e,t,r),Le(n,t,null),s=!0},p(e,t){const s={};524302&t&&(s.$$scope={dirty:t,ctx:e}),!r&&16&t&&(r=!0,s.state=e[4],se((()=>r=!1))),n.$set(s)},i(e){s||(ge(n.$$.fragment,e),s=!0)},o(e){be(n.$$.fragment,e),s=!1},d(e){e&&S(t),je(n)}}}function ao(e){let t,n,r;function s(t){e[16](t)}let o={numPages:1,onLastPageComplete:e[8],title:e[0],completeButton:"Download",$$slots:{content:[oo]},$$scope:{ctx:e}};return void 0!==e[4]&&(o.state=e[4]),t=new Nn({props:o}),J.push((()=>Ee(t,"state",s))),{c(){Te(t.$$.fragment)},m(e,n){Le(t,e,n),r=!0},p(e,[r]){const s={};1&r&&(s.title=e[0]),524318&r&&(s.$$scope={dirty:r,ctx:e}),!n&&16&r&&(n=!0,s.state=e[4],se((()=>n=!1))),t.$set(s)},i(e){r||(ge(t.$$.fragment,e),r=!0)},o(e){be(t.$$.fragment,e),r=!1},d(e){je(t,e)}}}function io(e,t,n){const{enums:r}=window.S4TK;let{title:s}=t,{detail:o=null}=t,{onComplete:a}=t,{project:i=null}=t,{projects:l=null}=t,c=!1;const u=l??[i],d=[{value:Je.allLocales,text:"All Locales"},...r.StringTableLocale.all().map((e=>({value:e,text:sr(e)})))];let f={currentPage:1,nextButtonEnabled:!0};return e.$$set=e=>{"title"in e&&n(0,s=e.title),"detail"in e&&n(1,o=e.detail),"onComplete"in e&&n(9,a=e.onComplete),"project"in e&&n(10,i=e.project),"projects"in e&&n(11,l=e.projects)},e.$$.update=()=>{12&e.$$.dirty&&(n(3,c="package"===nt.downloadFileType),c&&n(2,nt.downloadNamingConvention="project",nt))},[s,o,nt,c,f,[{value:"package",text:"Package"},{value:"stbl",text:"String Table"},{value:"json",text:"JSON"}],d,[{value:"s4s",text:"S4S"},{value:"s4pi",text:"S4PI"},{value:"project",text:"Project Name"}],async function(){Ys(u,nt.downloadLocales===Je.allLocales?r.StringTableLocale.all():[nt.downloadLocales],nt.downloadFileType,nt.downloadNamingConvention).then((({filename:e,data:t})=>{Gs.saveAs(t,e),a()})).catch((e=>{alert("Something went wrong and your file(s) could not be downloaded. Please report this."),console.error(e),a()}))},a,i,l,function(t){e.$$.not_equal(nt.downloadFileType,t)&&(nt.downloadFileType=t,n(2,nt),n(3,c))},function(t){e.$$.not_equal(nt.downloadLocales,t)&&(nt.downloadLocales=t,n(2,nt),n(3,c))},function(t){e.$$.not_equal(nt.downloadNamingConvention,t)&&(nt.downloadNamingConvention=t,n(2,nt),n(3,c))},function(e){f=e,n(4,f)},function(e){f=e,n(4,f)}]}class lo extends Ne{constructor(e){super(),Ae(this,e,io,ao,i,{title:0,detail:1,onComplete:9,project:10,projects:11})}}function co(e){let t,n;return t=new lo({props:{onComplete:e[0],title:"Download Projects",detail:"Download the "+e[2]+" you have selected.",projects:e[3]}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.onComplete=e[0]),4&n&&(r.detail="Download the "+e[2]+" you have selected."),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function uo(e){let t,n,r=e[1]&&co(e);return{c(){r&&r.c(),t=L()},m(e,s){r&&r.m(e,s),_(e,t,s),n=!0},p(e,[n]){e[1]?r?(r.p(e,n),2&n&&ge(r,1)):(r=co(e),r.c(),ge(r,1),r.m(t.parentNode,t)):r&&(pe(),be(r,1,1,(()=>{r=null})),me())},i(e){n||(ge(r),n=!0)},o(e){be(r),n=!1},d(e){r&&r.d(e),e&&S(t)}}}function fo(e,t,n){let r,{onComplete:s}=t,{selectionGroup:o}=t;const a=o.allSelectedItems;let i=!1;return q((async()=>{for(let e=0;e<a.length;++e)await a[e].loadStringTable();n(1,i=!0)})),e.$$set=e=>{"onComplete"in e&&n(0,s=e.onComplete),"selectionGroup"in e&&n(4,o=e.selectionGroup)},n(2,r=1===a.length?"1 project":`${a.length} projects`),[s,i,r,a,o]}class ho extends Ne{constructor(e){super(),Ae(this,e,fo,uo,i,{onComplete:0,selectionGroup:4})}}function po(e,t){return new RegExp(`^(0x|0X)?([0-9A-F]{${t}})$`,"i").test(e)}function mo(e){let t,n,r;return{c(){t=C("input"),A(t,"class","hover:cursor-pointer"),A(t,"type","checkbox")},m(s,o){_(s,t,o),t.checked=e[0],n||(r=j(t,"change",e[5]),n=!0)},p(e,n){1&n&&(t.checked=e[0])},d(e){e&&S(t),n=!1,r()}}}function go(e){let t,n,r;return{c(){t=C("input"),A(t,"class","hover:cursor-pointer"),A(t,"type","checkbox")},m(s,o){_(s,t,o),t.checked=e[1].checked,n||(r=j(t,"change",e[4]),n=!0)},p(e,n){2&n&&(t.checked=e[1].checked)},d(e){e&&S(t),n=!1,r()}}}function bo(t){let n,r,s,o;function a(e,t){return e[1]?go:mo}let i=a(t),l=i(t);return{c(){n=C("div"),r=C("label"),l.c(),s=T(),o=E(t[2]),A(r,"class","hover:cursor-pointer"),A(n,"class","flex whitespace-nowrap"),P(n,"w-full",t[3]),P(n,"items-center",t[3])},m(e,t){_(e,n,t),x(n,r),l.m(r,null),x(r,s),x(r,o)},p(e,[t]){i===(i=a(e))&&l?l.p(e,t):(l.d(1),l=i(e),l&&(l.c(),l.m(r,s))),4&t&&B(o,e[2]),8&t&&P(n,"w-full",e[3]),8&t&&P(n,"items-center",e[3])},i:e,o:e,d(e){e&&S(n),l.d()}}}function yo(e,t,n){let{label:r}=t,{fillAndCenter:s=!1}=t,{checked:o}=t,{checkable:a}=t;return e.$$set=e=>{"label"in e&&n(2,r=e.label),"fillAndCenter"in e&&n(3,s=e.fillAndCenter),"checked"in e&&n(0,o=e.checked),"checkable"in e&&n(1,a=e.checkable)},[o,a,r,s,function(){a.checked=this.checked,n(1,a)},function(){o=this.checked,n(0,o)}]}class $o extends Ne{constructor(e){super(),Ae(this,e,yo,bo,i,{label:2,fillAndCenter:3,checked:0,checkable:1})}}var vo=Us((function(e,t){function n(e){return i(e),a(e,8,!1)}function r(e){return i(e),a(e,8,!1)}function s(e){return function(e){if(e<0n||e>0xffffffffffffffffn)throw new Error(`Expected value to be a positive, 64-bit integer, but got ${e}.`)}(e),a(e,16,!1)}function o(e,t,o,a=":"){return`${n(e)}${a}${r(t)}${a}${s(o)}`}function a(e,t,n=!1){return`${n?"0x":""}${e.toString(16).padStart(t,"0").toUpperCase()}`}function i(e){if(Number.isNaN(e)||e<0||e>4294967295)throw new Error(`Expected value to be a positive, 32-bit integer, but got ${e}.`)}Object.defineProperty(t,"__esModule",{value:!0}),t.formatAsHexString=t.formatResourceKey=t.formatResourceTGI=t.formatResourceInstance=t.formatResourceGroup=t.formatResourceType=t.formatStringKey=void 0,t.formatStringKey=function(e){return i(e),a(e,8,!0)},t.formatResourceType=n,t.formatResourceGroup=r,t.formatResourceInstance=s,t.formatResourceTGI=o,t.formatResourceKey=function(e,t=":"){return o(e.type,e.group,e.instance,t)},t.formatAsHexString=a}));function xo(e,t,n){const r=e.slice();return r[37]=t[n],r[38]=t,r[39]=n,r}function wo(e){let t,n;return{c(){t=C("p"),n=E(e[7]),A(t,"class","text-subtle text-xs mb-2")},m(e,r){_(e,t,r),x(t,n)},p(e,t){128&t[0]&&B(n,e[7])},d(e){e&&S(t)}}}function ko(e){let t,n,r,s,o,a,i,l,c,u,d,f,h,p,m,g,b,y,$,v,w,k=Boolean(e[7]);function E(t){e[18](t)}function L(t){e[19](t)}let j={label:"project name",name:"project-name-input",placeholder:"Project name...",fillWidth:!0,focusOnMount:!0,validators:[{test:Lo,message:"Must be non-empty"},{test:jo,message:"Cannot exceed 30 characters"},{test:e[17],message:"Names must be unique"}]};function N(t){e[21](t)}function B(t){e[22](t)}void 0!==e[2]&&(j.value=e[2]),void 0!==e[10]&&(j.isValid=e[10]),n=new bn({props:j}),J.push((()=>Ee(n,"value",E))),J.push((()=>Ee(n,"isValid",L)));let R={label:"group",name:"project-group-input",placeholder:"Group",fillWidth:!0,monospace:!0,validators:[{test:e[20],message:"Must be 8-digit hex"}]};function D(t){e[26](t)}function P(t){e[27](t)}void 0!==e[3]&&(R.value=e[3]),void 0!==e[11]&&(R.isValid=e[11]),i=new bn({props:R}),J.push((()=>Ee(i,"value",N))),J.push((()=>Ee(i,"isValid",B)));let I={label:"instance",name:"project-instance-input",placeholder:"Instance",fillWidth:!0,monospace:!0,validators:[{test:e[23],message:"Must be 14-digit hex"},{test:e[24],message:"Must be non-zero"},{test:e[25],message:"Instances must be unique"}]};function z(t){e[28](t)}void 0!==e[4]&&(I.value=e[4]),void 0!==e[12]&&(I.isValid=e[12]),d=new bn({props:I}),J.push((()=>Ee(d,"value",D))),J.push((()=>Ee(d,"isValid",P)));let M={label:"primary locale",fillWidth:!0};void 0!==e[1]&&(M.selected=e[1]),m=new ir({props:M}),J.push((()=>Ee(m,"selected",z)));let O=k&&wo(e);return{c(){t=C("div"),Te(n.$$.fragment),o=T(),a=C("div"),Te(i.$$.fragment),u=T(),Te(d.$$.fragment),p=T(),Te(m.$$.fragment),b=T(),y=C("div"),O&&O.c(),$=T(),v=C("p"),v.textContent="The 2-digit locale code will automatically be prepended to the instance.",A(a,"class","flex gap-4 flex-wrap sm:flex-nowrap"),A(v,"class","text-subtle text-xs"),A(y,"class","mt-2"),A(t,"class","w-full flex flex-col gap-4")},m(e,r){_(e,t,r),Le(n,t,null),x(t,o),x(t,a),Le(i,a,null),x(a,u),Le(d,a,null),x(a,p),Le(m,a,null),x(t,b),x(t,y),O&&O.m(y,null),x(y,$),x(y,v),w=!0},p(e,t){const o={};8704&t[0]&&(o.validators=[{test:Lo,message:"Must be non-empty"},{test:jo,message:"Cannot exceed 30 characters"},{test:e[17],message:"Names must be unique"}]),!r&&4&t[0]&&(r=!0,o.value=e[2],se((()=>r=!1))),!s&&1024&t[0]&&(s=!0,o.isValid=e[10],se((()=>s=!1))),n.$set(o);const a={};!l&&8&t[0]&&(l=!0,a.value=e[3],se((()=>l=!1))),!c&&2048&t[0]&&(c=!0,a.isValid=e[11],se((()=>c=!1))),i.$set(a);const u={};8704&t[0]&&(u.validators=[{test:e[23],message:"Must be 14-digit hex"},{test:e[24],message:"Must be non-zero"},{test:e[25],message:"Instances must be unique"}]),!f&&16&t[0]&&(f=!0,u.value=e[4],se((()=>f=!1))),!h&&4096&t[0]&&(h=!0,u.isValid=e[12],se((()=>h=!1))),d.$set(u);const p={};!g&&2&t[0]&&(g=!0,p.selected=e[1],se((()=>g=!1))),m.$set(p),128&t[0]&&(k=Boolean(e[7])),k?O?O.p(e,t):(O=wo(e),O.c(),O.m(y,$)):O&&(O.d(1),O=null)},i(e){w||(ge(n.$$.fragment,e),ge(i.$$.fragment,e),ge(d.$$.fragment,e),ge(m.$$.fragment,e),w=!0)},o(e){be(n.$$.fragment,e),be(i.$$.fragment,e),be(d.$$.fragment,e),be(m.$$.fragment,e),w=!1},d(e){e&&S(t),je(n),je(i),je(d),je(m),O&&O.d()}}}function _o(e){let t,n;return{c(){t=C("p"),n=E(e[8]),A(t,"class","mb-6")},m(e,r){_(e,t,r),x(t,n)},p(e,t){256&t[0]&&B(n,e[8])},d(e){e&&S(t)}}}function So(e){let t,n,r;function s(t){e[32](t,e[37],e[38],e[39])}let o={label:e[37].displayName};return void 0!==e[37]&&(o.checkable=e[37]),t=new $o({props:o}),J.push((()=>Ee(t,"checkable",s))),{c(){Te(t.$$.fragment)},m(e,n){Le(t,e,n),r=!0},p(r,s){e=r;const o={};32&s[0]&&(o.label=e[37].displayName),!n&&32&s[0]&&(n=!0,o.checkable=e[37],se((()=>n=!1))),t.$set(o)},i(e){r||(ge(t.$$.fragment,e),r=!0)},o(e){be(t.$$.fragment,e),r=!1},d(e){je(t,e)}}}function Co(e,t){let n,r,s,o=t[37].locale!==t[1]&&So(t);return{key:e,first:null,c(){n=L(),o&&o.c(),r=L(),this.first=n},m(e,t){_(e,n,t),o&&o.m(e,t),_(e,r,t),s=!0},p(e,n){(t=e)[37].locale!==t[1]?o?(o.p(t,n),34&n[0]&&ge(o,1)):(o=So(t),o.c(),ge(o,1),o.m(r.parentNode,r)):o&&(pe(),be(o,1,1,(()=>{o=null})),me())},i(e){s||(ge(o),s=!0)},o(e){be(o),s=!1},d(e){e&&S(n),o&&o.d(e),e&&S(r)}}}function Eo(e){let t,n,r,s,a,i,l,c,u,d,f,h,p,m=Boolean(e[8]),g=[],b=new Map,y=m&&_o(e),$=e[5];const v=e=>e[39];for(let t=0;t<$.length;t+=1){let n=xo(e,$,t),r=v(n);b.set(r,g[t]=Co(r,n))}return{c(){t=C("div"),y&&y.c(),n=T(),r=C("div"),s=C("div"),a=C("button"),a.textContent="select all",i=T(),l=C("button"),l.textContent="deselect all",c=T(),u=C("div");for(let e=0;e<g.length;e+=1)g[e].c();A(a,"class","uppercase text-sm text-subtle hover:text-black dark:hover:text-white"),A(l,"class","uppercase text-sm text-subtle hover:text-black dark:hover:text-white"),A(s,"class","flex gap-4 mb-3"),A(u,"class","flex flex-wrap gap-3 text-sm"),A(t,"class","w-full")},m(o,d){_(o,t,d),y&&y.m(t,null),x(t,n),x(t,r),x(r,s),x(s,a),x(s,i),x(s,l),x(r,c),x(r,u);for(let e=0;e<g.length;e+=1)g[e].m(u,null);f=!0,h||(p=[j(a,"click",e[30]),j(l,"click",e[31])],h=!0)},p(r,s){e=r,256&s[0]&&(m=Boolean(e[8])),m?y?y.p(e,s):(y=_o(e),y.c(),y.m(t,n)):y&&(y.d(1),y=null),34&s[0]&&($=e[5],pe(),g=_e(g,s,v,1,e,$,b,u,ke,Co,null,xo),me())},i(e){if(!f){for(let e=0;e<$.length;e+=1)ge(g[e]);d||re((()=>{d=$e(t,ft,{duration:nt.reduceMotion?0:500}),d.start()})),f=!0}},o(e){for(let e=0;e<g.length;e+=1)be(g[e]);f=!1},d(e){e&&S(t),y&&y.d();for(let e=0;e<g.length;e+=1)g[e].d();h=!1,o(p)}}}function To(e){let t,n,r,s,o,a;function i(t){e[29](t)}let l={pageNumber:e[6],$$slots:{default:[ko]},$$scope:{ctx:e}};function c(t){e[33](t)}void 0!==e[0]&&(l.state=e[0]),t=new Pn({props:l}),J.push((()=>Ee(t,"state",i)));let u={pageNumber:e[6]+1,$$slots:{default:[Eo]},$$scope:{ctx:e}};return void 0!==e[0]&&(u.state=e[0]),s=new Pn({props:u}),J.push((()=>Ee(s,"state",c))),{c(){Te(t.$$.fragment),r=T(),Te(s.$$.fragment)},m(e,n){Le(t,e,n),_(e,r,n),Le(s,e,n),a=!0},p(e,r){const a={};64&r[0]&&(a.pageNumber=e[6]),16030&r[0]|512&r[1]&&(a.$$scope={dirty:r,ctx:e}),!n&&1&r[0]&&(n=!0,a.state=e[0],se((()=>n=!1))),t.$set(a);const i={};64&r[0]&&(i.pageNumber=e[6]+1),290&r[0]|512&r[1]&&(i.$$scope={dirty:r,ctx:e}),!o&&1&r[0]&&(o=!0,i.state=e[0],se((()=>o=!1))),s.$set(i)},i(e){a||(ge(t.$$.fragment,e),ge(s.$$.fragment,e),a=!0)},o(e){be(t.$$.fragment,e),be(s.$$.fragment,e),a=!1},d(e){je(t,e),e&&S(r),je(s,e)}}}const Lo=e=>e.trim().length>0,jo=e=>e.trim().length<=30;function Ao(e,t,n){const{enums:r}=window.S4TK;let s,{startingPageNumber:o=1}=t,{multipageState:a}=t,{firstPageValid:i}=t,{tgiChoicesDetail:l=null}=t,{localeChoicesDetail:c=null}=t,{uuid:u}=t,{projectName:d}=t,{groupHexString:f}=t,{instanceHexString:h}=t,{primaryLocale:p}=t,{localeChoices:m}=t,{checkedLocales:g=new Set}=t,b=!1,y=!1,$=!1;const v=[pt.subscribe((e=>{n(13,s=e)}))];function x(e){m.forEach((t=>{t.checked=e})),n(5,m)}function w(){n(5,m=r.StringTableLocale.all().map((e=>({checked:g.has(e)||e===p,displayName:sr(e),locale:e})))),n(16,g=new Set(m.filter((e=>e.checked)).map((e=>e.locale))))}K((()=>{v.forEach((e=>e()))}));return e.$$set=e=>{"startingPageNumber"in e&&n(6,o=e.startingPageNumber),"multipageState"in e&&n(0,a=e.multipageState),"firstPageValid"in e&&n(15,i=e.firstPageValid),"tgiChoicesDetail"in e&&n(7,l=e.tgiChoicesDetail),"localeChoicesDetail"in e&&n(8,c=e.localeChoicesDetail),"uuid"in e&&n(9,u=e.uuid),"projectName"in e&&n(2,d=e.projectName),"groupHexString"in e&&n(3,f=e.groupHexString),"instanceHexString"in e&&n(4,h=e.instanceHexString),"primaryLocale"in e&&n(1,p=e.primaryLocale),"localeChoices"in e&&n(5,m=e.localeChoices),"checkedLocales"in e&&n(16,g=e.checkedLocales)},e.$$.update=()=>{7168&e.$$.dirty[0]&&n(15,i=b&&y&&$),2&e.$$.dirty[0]&&w(),65&e.$$.dirty[0]&&a.currentPage>=o+1&&w()},[a,p,d,f,h,m,o,l,c,u,b,y,$,s,x,i,g,e=>!s.projects.some((t=>t.uuid!==u&&t.metaData.name===e)),function(e){d=e,n(2,d)},function(e){b=e,n(10,b)},e=>po(e,8),function(e){f=e,n(3,f)},function(e){y=e,n(11,y)},e=>po(e,14),e=>0n!==BigInt(e.startsWith("0x")?e:`0x${e}`),e=>!s.projects.some((t=>t.uuid!==u&&vo.formatAsHexString(t.metaData.instance,14,!1)===e.replace("0x","").toUpperCase())),function(e){h=e,n(4,h)},function(e){$=e,n(12,$)},function(e){p=e,n(1,p)},function(e){a=e,n(0,a)},()=>x(!0),()=>x(!1),function(e,t,r,s){r[s]=e,n(5,m)},function(e){a=e,n(0,a)}]}class No extends Ne{constructor(e){super(),Ae(this,e,Ao,To,i,{startingPageNumber:6,multipageState:0,firstPageValid:15,tgiChoicesDetail:7,localeChoicesDetail:8,uuid:9,projectName:2,groupHexString:3,instanceHexString:4,primaryLocale:1,localeChoices:5,checkedLocales:16},null,[-1,-1])}}function Bo(e){let t,n,r,s,o,a,i,l,c,u;function d(t){e[9](t)}function f(t){e[10](t)}function h(t){e[11](t)}function p(t){e[12](t)}function m(t){e[13](t)}function g(t){e[14](t)}function b(t){e[15](t)}let y={uuid:e[6],tgiChoicesDetail:"The instance is the hash of the UUID by default, but it can be changed\n      manually.",localeChoicesDetail:"Select any locales you want to track translations for. You can still download locales that are not included, but they will contain the same text as your primary locale."};return void 0!==e[5]&&(y.multipageState=e[5]),void 0!==e[5].nextButtonEnabled&&(y.firstPageValid=e[5].nextButtonEnabled),void 0!==e[0]&&(y.projectName=e[0]),void 0!==e[1]&&(y.groupHexString=e[1]),void 0!==e[2]&&(y.instanceHexString=e[2]),void 0!==e[3]&&(y.primaryLocale=e[3]),void 0!==e[4]&&(y.localeChoices=e[4]),n=new No({props:y}),J.push((()=>Ee(n,"multipageState",d))),J.push((()=>Ee(n,"firstPageValid",f))),J.push((()=>Ee(n,"projectName",h))),J.push((()=>Ee(n,"groupHexString",p))),J.push((()=>Ee(n,"instanceHexString",m))),J.push((()=>Ee(n,"primaryLocale",g))),J.push((()=>Ee(n,"localeChoices",b))),{c(){t=C("div"),Te(n.$$.fragment),A(t,"slot","content"),A(t,"class","w-full")},m(e,r){_(e,t,r),Le(n,t,null),u=!0},p(e,t){const u={};!r&&32&t&&(r=!0,u.multipageState=e[5],se((()=>r=!1))),!s&&32&t&&(s=!0,u.firstPageValid=e[5].nextButtonEnabled,se((()=>s=!1))),!o&&1&t&&(o=!0,u.projectName=e[0],se((()=>o=!1))),!a&&2&t&&(a=!0,u.groupHexString=e[1],se((()=>a=!1))),!i&&4&t&&(i=!0,u.instanceHexString=e[2],se((()=>i=!1))),!l&&8&t&&(l=!0,u.primaryLocale=e[3],se((()=>l=!1))),!c&&16&t&&(c=!0,u.localeChoices=e[4],se((()=>c=!1))),n.$set(u)},i(e){u||(ge(n.$$.fragment,e),u=!0)},o(e){be(n.$$.fragment,e),u=!1},d(e){e&&S(t),je(n)}}}function Ro(e){let t,n,r;function s(t){e[16](t)}let o={title:"New Project",subtitle:"UUID: "+e[6],numPages:2,minimumContentHeight:"220",centerVertically:!0,completeButton:"Create",onLastPageComplete:e[7],$$slots:{content:[Bo]},$$scope:{ctx:e}};return void 0!==e[5]&&(o.state=e[5]),t=new Nn({props:o}),J.push((()=>Ee(t,"state",s))),{c(){Te(t.$$.fragment)},m(e,n){Le(t,e,n),r=!0},p(e,[r]){const s={};4194367&r&&(s.$$scope={dirty:r,ctx:e}),!n&&32&r&&(n=!0,s.state=e[5],se((()=>n=!1))),t.$set(s)},i(e){r||(ge(t.$$.fragment,e),r=!0)},o(e){be(t.$$.fragment,e),r=!1},d(e){je(t,e)}}}function Do(e,t,n){const{enums:r}=window.S4TK,{fnv64:s}=window.S4TK.hashing,{formatAsHexString:o}=window.S4TK.formatting;let{onComplete:a}=t;const i=ds();let l,c,u="",d="80000000",f=o(r.StringTableLocale.getInstanceBase(s(i,!1)),14,!1),h=nt.defaultLocale,p={currentPage:1,nextButtonEnabled:!1};const m=[pt.subscribe((e=>{e&&(c=e)}))];return K((()=>{m.forEach((e=>e()))})),e.$$set=e=>{"onComplete"in e&&n(8,a=e.onComplete)},[u,d,f,h,l,p,i,function(){const e=new ns(h,new Set(l.filter((e=>e.checked)).map((e=>e.locale)))),t=new ys(i,{name:u,group:parseInt(d,16),instance:BigInt(f.startsWith("0x")?f:`0x${f}`),flags:0,numEntries:e.numEntries,numLocales:e.numLocales,primaryLocale:h},e);c.addProject(t),a()},a,function(e){p=e,n(5,p)},function(t){e.$$.not_equal(p.nextButtonEnabled,t)&&(p.nextButtonEnabled=t,n(5,p))},function(e){u=e,n(0,u)},function(e){d=e,n(1,d)},function(e){f=e,n(2,f)},function(e){h=e,n(3,h)},function(e){l=e,n(4,l)},function(e){p=e,n(5,p)}]}class Po extends Ne{constructor(e){super(),Ae(this,e,Do,Ro,i,{onComplete:8})}}function Io(e){const t="string"==typeof e?e:e.toString();return JSON.parse(t).map(((e,t)=>{let n,r;for(const t in e){const s=t.toLowerCase();if("key"===s){const r=e[t];"string"==typeof r?n=parseInt(e[t],16):"number"==typeof r&&(n=e[t])}else"value"!==s&&"string"!==s||(r=e[t])}if(void 0===n)throw new Error(`Entry at index ${t} does not have a key.`);if(n<0||n>4294967295)throw new Error(`Key of entry at index ${t} is out of bounds (${n}).`);if(void 0===r)throw new Error(`Entry at index ${t} does not have a string value.`);return{key:n,value:r}}))}const{enums:zo,models:Mo}=window.S4TK,{Buffer:Oo}=window.S4TK.Node;async function Fo(e,t){return new Promise((async(n,r)=>{const s=new Map;t.forEach((e=>{const t=s.get(e.locale)??[];s.has(e.locale)||s.set(e.locale,t),t.push(e)})),s.has(e)||s.set(e,[{locale:e,instanceBase:0n,stbl:[]}]);const o=new Set,a=new Set,i=[];s.forEach(((t,n)=>{const r=new Map;t.forEach((({stbl:t})=>{t.forEach((({key:t,value:s})=>{if(!r.get(t)?.has(s)){const e=r.get(t)??new Set;r.has(t)||r.set(t,e),e.add(s)}n===e?o.add(t):a.add(t)}))}));const s=[];r.forEach(((e,t)=>{e.forEach((e=>{s.push({key:t,value:e})}))})),i.push({locale:n,instanceBase:0n,stbl:s})}));const l=i.find((({locale:t})=>t===e));a.forEach((e=>{o.has(e)||l.stbl.push({key:e,value:""})}));const c=[],u=new Map;l.stbl.forEach((({key:t,value:n},r)=>{u.set(t,r),c.push({key:t,values:new Map([[e,n]])})})),i.forEach((({locale:t,stbl:n})=>{n.forEach((({key:n,value:r})=>{if(!r)return;const s=u.get(n),o=c[s];r!==o.values.get(e)&&o.values.set(t,r)}))}));n(new ns(e,new Set(s.keys()),c))}))}function Ho(e,t){const n=function(e){const t=e.split(".");return t[t.length-1]}(e);if("package"===n)return function(e){return Mo.Package.extractResources(e,{resourceFilter:e=>e===zo.BinaryResourceType.StringTable}).map((({key:e,value:t})=>({locale:zo.StringTableLocale.getLocale(e.instance),instanceBase:zo.StringTableLocale.getInstanceBase(e.instance),stbl:t.toJsonObject(!1,!1)})))}(t);{const r=function(e){try{const{g:t,i:n}=/(?<t>[a-fA-F\d]{8})[_!]?(?<g>[a-fA-F\d]{8})[_!]?(?<i>[a-fA-F\d]{16})/.exec(e).groups;return{type:zo.BinaryResourceType.StringTable,group:parseInt(t,16),instance:BigInt("0x"+n)}}catch(e){const t=zo.StringTableLocale.setHighByte(nt.defaultLocale,0n);return{type:zo.BinaryResourceType.StringTable,group:2147483648,instance:t}}}(e),s=zo.StringTableLocale.getInstanceBase(r.instance),o=zo.StringTableLocale.getLocale(r.instance);let a;return o in zo.StringTableLocale||(r.instance=zo.StringTableLocale.setHighByte(nt.defaultLocale,r.instance)),a="json"===n?Io(t):Mo.StringTableResource.from(t).toJsonObject(!1,!1),[{locale:o,instanceBase:s,stbl:a}]}}function Uo(t){let n,r,s,o,a=t[5]&&Wo(t);return{c(){n=C("div"),r=C("label"),s=E(t[2]),o=T(),a&&a.c(),A(r,"for","file-upload"),A(r,"class","text-subtle uppercase font-bold text-sm"),A(n,"class","flex items-center mb-2")},m(e,t){_(e,n,t),x(n,r),x(r,s),x(n,o),a&&a.m(n,null)},p(e,t){4&t&&B(s,e[2]),e[5]?a?(a.p(e,t),32&t&&ge(a,1)):(a=Wo(e),a.c(),ge(a,1),a.m(n,null)):a&&(a.d(1),a=null)},i(e){ge(a)},o:e,d(e){e&&S(n),a&&a.d()}}}function Wo(t){let n,r,s,o;return{c(){n=C("p"),r=E("• "),s=E(t[4]),A(n,"class","text-sm text-red-600 dark:text-red-400 my-0 ml-2")},m(e,t){_(e,n,t),x(n,r),x(n,s)},p(e,t){16&t&&B(s,e[4])},i(e){o||re((()=>{o=$e(n,ft,{}),o.start()}))},o:e,d(e){e&&S(n)}}}function Go(t){let n,r,s,o,a,i=Boolean(t[2]),l=i&&Uo(t);return{c(){n=C("div"),l&&l.c(),r=T(),s=C("input"),A(s,"name","file-upload"),A(s,"type","file"),A(s,"class","w-full border h-10 p-2 rounded hover:cursor-pointer svelte-hr4wkz"),A(s,"accept",t[1]),s.multiple=t[3],P(s,"border-gray-700",!t[5]),P(s,"dark:border-gray-300",!t[5]),P(s,"border-red-600",t[5]),P(s,"dark:border-red-400",t[5])},m(e,i){_(e,n,i),l&&l.m(n,null),x(n,r),x(n,s),o||(a=j(s,"change",t[6]),o=!0)},p(e,[t]){4&t&&(i=Boolean(e[2])),i?l?(l.p(e,t),4&t&&ge(l,1)):(l=Uo(e),l.c(),ge(l,1),l.m(n,r)):l&&(l.d(1),l=null),2&t&&A(s,"accept",e[1]),8&t&&(s.multiple=e[3]),32&t&&P(s,"border-gray-700",!e[5]),32&t&&P(s,"dark:border-gray-300",!e[5]),32&t&&P(s,"border-red-600",e[5]),32&t&&P(s,"dark:border-red-400",e[5])},i(e){ge(l)},o:e,d(e){e&&S(n),l&&l.d(),o=!1,a()}}}function qo(e,t,n){let r,{accept:s}=t,{files:o}=t,{label:a=""}=t,{multiple:i=!1}=t,{errorMessage:l=""}=t;return e.$$set=e=>{"accept"in e&&n(1,s=e.accept),"files"in e&&n(0,o=e.files),"label"in e&&n(2,a=e.label),"multiple"in e&&n(3,i=e.multiple),"errorMessage"in e&&n(4,l=e.errorMessage)},e.$$.update=()=>{16&e.$$.dirty&&n(5,r=Boolean(l))},[o,s,a,i,l,r,function(){o=this.files,n(0,o)}]}class Ko extends Ne{constructor(e){super(),Ae(this,e,qo,Go,i,{accept:1,files:0,label:2,multiple:3,errorMessage:4})}}function Vo(e,t,n){const r=e.slice();return r[12]=t[n],r[14]=n,r}function Zo(e){let t,n,r,s,o,a,i,l,c,u,d,f,h,p,m,g;function b(t){e[6](t)}let y={accept:".package,.stbl,.binary,.json",label:"upload files",multiple:!0,errorMessage:e[4]};return void 0!==e[3]&&(y.files=e[3]),s=new Ko({props:y}),J.push((()=>Ee(s,"files",b))),{c(){t=C("div"),n=C("p"),n.textContent="Upload the string table(s) you'd like to include in this project. They can\n      be binary, JSON, or in packages. Feel free to upload all of the packages\n      for your mod, unneeded files will be ignored.",r=T(),Te(s.$$.fragment),a=T(),i=C("div"),l=C("p"),l.textContent="If there are multiple tables for the same language, they will be merged.\n        The best way to ensure that multiple languages are handled properly is\n        by uploading them in packages.",c=T(),u=C("p"),d=E("Using JSON? Read about the expected structure "),f=C("button"),f.textContent="here",h=E("."),A(l,"class","text-xs text-subtle mb-2"),A(f,"class","text-secondary underline hover:no-underline"),A(u,"class","text-xs text-subtle"),A(t,"class","w-full flex flex-col gap-6")},m(o,b){_(o,t,b),x(t,n),x(t,r),Le(s,t,null),x(t,a),x(t,i),x(i,l),x(i,c),x(i,u),x(u,d),x(u,f),x(u,h),p=!0,m||(g=j(f,"click",e[7]),m=!0)},p(e,t){const n={};16&t&&(n.errorMessage=e[4]),!o&&8&t&&(o=!0,n.files=e[3],se((()=>o=!1))),s.$set(n)},i(e){p||(ge(s.$$.fragment,e),p=!0)},o(e){be(s.$$.fragment,e),p=!1},d(e){e&&S(t),je(s),m=!1,g()}}}function Jo(e){let t,n,r,s,o,a,i=e[1].errors.length+"",l=[],c=new Map,u=e[1].errors;const d=e=>e[14];for(let t=0;t<u.length;t+=1){let n=Vo(e,u,t),r=d(n);c.set(r,l[t]=Xo(r,n))}return{c(){t=C("p"),n=E(i),r=E(" file(s) either could not be read or did not contain\n        any string tables."),s=T(),o=C("div"),a=C("ul");for(let e=0;e<l.length;e+=1)l[e].c();A(t,"class","mb-1"),A(a,"class","list-disc pl-8 flex flex-col"),A(o,"class","max-h-24 overflow-x-hidden overflow-y-auto")},m(e,i){_(e,t,i),x(t,n),x(t,r),_(e,s,i),_(e,o,i),x(o,a);for(let e=0;e<l.length;e+=1)l[e].m(a,null)},p(e,t){2&t&&i!==(i=e[1].errors.length+"")&&B(n,i),2&t&&(u=e[1].errors,l=_e(l,t,d,1,e,u,c,a,we,Xo,null,Vo))},d(e){e&&S(t),e&&S(s),e&&S(o);for(let e=0;e<l.length;e+=1)l[e].d()}}}function Yo(t){let n;return{c(){n=C("p"),n.textContent="No uploaded files had errors."},m(e,t){_(e,n,t)},p:e,d(e){e&&S(n)}}}function Xo(e,t){let n,r,s,o,a,i,l=t[12].filename+"",c=t[12].message+"";return{key:e,first:null,c(){n=C("li"),r=C("span"),s=E(l),o=E("\n              = "),a=E(c),i=T(),A(r,"class","text-accent-primary-light dark:text-accent-primary-dark hacker-text-lime"),A(n,"class","pl-2"),this.first=n},m(e,t){_(e,n,t),x(n,r),x(r,s),x(n,o),x(n,a),x(n,i)},p(e,n){t=e,2&n&&l!==(l=t[12].filename+"")&&B(s,l),2&n&&c!==(c=t[12].message+"")&&B(a,c)},d(e){e&&S(n)}}}function Qo(t){let n,r,s,o,a,i,l,c,u,d=t[1].stbls.length+"",f=t[3].length-t[1].errors.length+"";function h(e,t){return 0===e[1].errors.length?Yo:Jo}let p=h(t),m=p(t);return{c(){n=C("div"),r=C("p"),s=E("Found "),o=E(d),a=E(" valid string table(s) in "),i=E(f),l=E(" file(s)."),c=T(),m.c(),A(r,"class","mb-3"),A(n,"class","w-full")},m(e,t){_(e,n,t),x(n,r),x(r,s),x(r,o),x(r,a),x(r,i),x(r,l),x(n,c),m.m(n,null)},p(e,r){t=e,2&r&&d!==(d=t[1].stbls.length+"")&&B(o,d),10&r&&f!==(f=t[3].length-t[1].errors.length+"")&&B(i,f),p===(p=h(t))&&m?m.p(t,r):(m.d(1),m=p(t),m&&(m.c(),m.m(n,null)))},i(e){u||re((()=>{u=$e(n,ft,{duration:nt.reduceMotion?0:500}),u.start()}))},o:e,d(e){e&&S(n),m.d()}}}function ea(e){let t,n;return t=new Kt({props:{onClose:e[10],args:{route:"/json"}}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.onClose=e[10]),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function ta(e){let t,n,r,s,o,a,i,l;function c(t){e[8](t)}let u={pageNumber:e[2],$$slots:{default:[Zo]},$$scope:{ctx:e}};function d(t){e[9](t)}void 0!==e[0]&&(u.state=e[0]),t=new Pn({props:u}),J.push((()=>Ee(t,"state",c)));let f={pageNumber:e[2]+1,$$slots:{default:[Qo]},$$scope:{ctx:e}};void 0!==e[0]&&(f.state=e[0]),s=new Pn({props:f}),J.push((()=>Ee(s,"state",d)));let h=e[5]&&ea(e);return{c(){Te(t.$$.fragment),r=T(),Te(s.$$.fragment),a=T(),h&&h.c(),i=L()},m(e,n){Le(t,e,n),_(e,r,n),Le(s,e,n),_(e,a,n),h&&h.m(e,n),_(e,i,n),l=!0},p(e,[r]){const a={};4&r&&(a.pageNumber=e[2]),32824&r&&(a.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,a.state=e[0],se((()=>n=!1))),t.$set(a);const l={};4&r&&(l.pageNumber=e[2]+1),32778&r&&(l.$$scope={dirty:r,ctx:e}),!o&&1&r&&(o=!0,l.state=e[0],se((()=>o=!1))),s.$set(l),e[5]?h?(h.p(e,r),32&r&&ge(h,1)):(h=ea(e),h.c(),ge(h,1),h.m(i.parentNode,i)):h&&(pe(),be(h,1,1,(()=>{h=null})),me())},i(e){l||(ge(t.$$.fragment,e),ge(s.$$.fragment,e),ge(h),l=!0)},o(e){be(t.$$.fragment,e),be(s.$$.fragment,e),be(h),l=!1},d(e){je(t,e),e&&S(r),je(s,e),e&&S(a),h&&h.d(e),e&&S(i)}}}function na(e,t,n){let r,s,{startingPageNumber:o=1}=t,{multipageState:a}=t,{parseResult:i}=t,l=!1;async function c(){n(4,r=void 0),s.length<1?n(4,r="No files to read"):async function(e){return new Promise((async t=>{const n=[],r=[];for(let t=0;t<e.length;t++){const s=e[t];try{const e=Oo.from(await s.arrayBuffer()),t=Ho(s.name,e);if(!t.length)throw new Error("No string tables found.");r.push(...t)}catch(e){console.error(`Error while reading "${s.name}"\n${e}`),n.push({filename:s.name,message:e})}}const s=new Set,o=new Set;r.forEach((({locale:e,instanceBase:t})=>{o.add(e),s.add(t)})),t({errors:n,stbls:r,instances:s,locales:o})}))}(s).then((e=>{n(1,i=e),e.stbls.length>=1?(e.errors.length>=1?n(0,a.currentPage++,a):n(0,a.currentPage=3,a),n(0,a.nextButtonEnabled=!0,a)):n(4,r="No valid STBLs found")})).catch((e=>{console.error(e),n(4,r="Something went wrong")}))}return e.$$set=e=>{"startingPageNumber"in e&&n(2,o=e.startingPageNumber),"multipageState"in e&&n(0,a=e.multipageState),"parseResult"in e&&n(1,i=e.parseResult)},e.$$.update=()=>{8&e.$$.dirty&&s&&c()},[a,i,o,s,r,l,function(e){s=e,n(3,s)},()=>n(5,l=!l),function(e){a=e,n(0,a)},function(e){a=e,n(0,a)},()=>n(5,l=!1)]}class ra extends Ne{constructor(e){super(),Ae(this,e,na,ta,i,{startingPageNumber:2,multipageState:0,parseResult:1})}}function sa(t){let n;return{c(){n=C("p"),n.textContent="There is 1 instance base in the uploaded STBL(s)."},m(e,t){_(e,n,t)},p:e,d(e){e&&S(n)}}}function oa(e){let t,n,r,s,o=e[9].length+"";return{c(){t=C("p"),n=E("There are "),r=E(o),s=E(" instance bases in the uploaded STBLs.\n            Which should this project use?")},m(e,o){_(e,t,o),x(t,n),x(t,r),x(t,s)},p(e,t){512&t[0]&&o!==(o=e[9].length+"")&&B(r,o)},d(e){e&&S(t)}}}function aa(e){let t,n,r,s,o,a,i,l,c,u,d;function f(e,t){return e[9].length>1?oa:sa}let h=f(e),p=h(e);function m(t){e[16](t)}let g={name:"instance-select",label:"existing instances",disabled:e[8],fillWidth:!0,options:e[9]};function b(t){e[17](t)}void 0!==e[7]&&(g.selected=e[7]),r=new er({props:g}),J.push((()=>Ee(r,"selected",m)));let y={label:"Alternatively, you can hash this project's UUID:"};return void 0!==e[8]&&(y.checked=e[8]),a=new Jt({props:y}),J.push((()=>Ee(a,"checked",b))),{c(){t=C("div"),p.c(),n=T(),Te(r.$$.fragment),o=T(),Te(a.$$.fragment),l=T(),c=C("p"),c.textContent="...or, you can set it manually on the next page.",A(c,"class","text-subtle text-xs"),A(t,"class","flex flex-col gap-6")},m(e,s){_(e,t,s),p.m(t,null),x(t,n),Le(r,t,null),x(t,o),Le(a,t,null),x(t,l),x(t,c),d=!0},p(o,l){h===(h=f(e=o))&&p?p.p(e,l):(p.d(1),p=h(e),p&&(p.c(),p.m(t,n)));const c={};256&l[0]&&(c.disabled=e[8]),512&l[0]&&(c.options=e[9]),!s&&128&l[0]&&(s=!0,c.selected=e[7],se((()=>s=!1))),r.$set(c);const u={};!i&&256&l[0]&&(i=!0,u.checked=e[8],se((()=>i=!1))),a.$set(u)},i(e){d||(ge(r.$$.fragment,e),ge(a.$$.fragment,e),u||re((()=>{u=$e(t,ft,{duration:nt.reduceMotion?0:500}),u.start()})),d=!0)},o(e){be(r.$$.fragment,e),be(a.$$.fragment,e),d=!1},d(e){e&&S(t),p.d(),je(r),je(a)}}}function ia(e){let t,n,r,s,o,a,i,l,c,u,d,f,h,p,m,g,b;function y(t){e[14](t)}function $(t){e[15](t)}let v={startingPageNumber:1};function w(t){e[18](t)}void 0!==e[6]&&(v.multipageState=e[6]),void 0!==e[0]&&(v.parseResult=e[0]),n=new ra({props:v}),J.push((()=>Ee(n,"multipageState",y))),J.push((()=>Ee(n,"parseResult",$)));let k={pageNumber:3,$$slots:{default:[aa]},$$scope:{ctx:e}};function E(t){e[19](t)}function L(t){e[20](t)}function j(t){e[21](t)}function N(t){e[22](t)}function B(t){e[23](t)}function R(t){e[24](t)}function D(t){e[25](t)}void 0!==e[6]&&(k.state=e[6]),a=new Pn({props:k}),J.push((()=>Ee(a,"state",w)));let P={uuid:e[10],startingPageNumber:4,checkedLocales:e[0]?.locales,tgiChoicesDetail:"The instance is the hash of the UUID by default, but it can be changed\n      manually.",localeChoicesDetail:"Select any locales you want to track translations for. You can still download locales that are not included, but they will contain the same text as your primary locale."};return void 0!==e[6]&&(P.multipageState=e[6]),void 0!==e[6].nextButtonEnabled&&(P.firstPageValid=e[6].nextButtonEnabled),void 0!==e[1]&&(P.projectName=e[1]),void 0!==e[2]&&(P.groupHexString=e[2]),void 0!==e[3]&&(P.instanceHexString=e[3]),void 0!==e[4]&&(P.primaryLocale=e[4]),void 0!==e[5]&&(P.localeChoices=e[5]),c=new No({props:P}),J.push((()=>Ee(c,"multipageState",E))),J.push((()=>Ee(c,"firstPageValid",L))),J.push((()=>Ee(c,"projectName",j))),J.push((()=>Ee(c,"groupHexString",N))),J.push((()=>Ee(c,"instanceHexString",B))),J.push((()=>Ee(c,"primaryLocale",R))),J.push((()=>Ee(c,"localeChoices",D))),{c(){t=C("div"),Te(n.$$.fragment),o=T(),Te(a.$$.fragment),l=T(),Te(c.$$.fragment),A(t,"slot","content"),A(t,"class","w-full")},m(e,r){_(e,t,r),Le(n,t,null),x(t,o),Le(a,t,null),x(t,l),Le(c,t,null),b=!0},p(e,t){const o={};!r&&64&t[0]&&(r=!0,o.multipageState=e[6],se((()=>r=!1))),!s&&1&t[0]&&(s=!0,o.parseResult=e[0],se((()=>s=!1))),n.$set(o);const l={};896&t[0]|4&t[1]&&(l.$$scope={dirty:t,ctx:e}),!i&&64&t[0]&&(i=!0,l.state=e[6],se((()=>i=!1))),a.$set(l);const b={};1&t[0]&&(b.checkedLocales=e[0]?.locales),!u&&64&t[0]&&(u=!0,b.multipageState=e[6],se((()=>u=!1))),!d&&64&t[0]&&(d=!0,b.firstPageValid=e[6].nextButtonEnabled,se((()=>d=!1))),!f&&2&t[0]&&(f=!0,b.projectName=e[1],se((()=>f=!1))),!h&&4&t[0]&&(h=!0,b.groupHexString=e[2],se((()=>h=!1))),!p&&8&t[0]&&(p=!0,b.instanceHexString=e[3],se((()=>p=!1))),!m&&16&t[0]&&(m=!0,b.primaryLocale=e[4],se((()=>m=!1))),!g&&32&t[0]&&(g=!0,b.localeChoices=e[5],se((()=>g=!1))),c.$set(b)},i(e){b||(ge(n.$$.fragment,e),ge(a.$$.fragment,e),ge(c.$$.fragment,e),b=!0)},o(e){be(n.$$.fragment,e),be(a.$$.fragment,e),be(c.$$.fragment,e),b=!1},d(e){e&&S(t),je(n),je(a),je(c)}}}function la(e){let t,n,r;function s(t){e[26](t)}let o={title:"Upload Project",subtitle:"UUID: "+e[10],numPages:5,minimumContentHeight:"230",centerVertically:!0,completeButton:"Create",canClickBack:!1,onLastPageComplete:e[11],onPageComplete:e[12],$$slots:{content:[ia]},$$scope:{ctx:e}};return void 0!==e[6]&&(o.state=e[6]),t=new Nn({props:o}),J.push((()=>Ee(t,"state",s))),{c(){Te(t.$$.fragment)},m(e,n){Le(t,e,n),r=!0},p(e,r){const s={};1023&r[0]|4&r[1]&&(s.$$scope={dirty:r,ctx:e}),!n&&64&r[0]&&(n=!0,s.state=e[6],se((()=>n=!1))),t.$set(s)},i(e){r||(ge(t.$$.fragment,e),r=!0)},o(e){be(t.$$.fragment,e),r=!1},d(e){je(t,e)}}}function ca(e,t,n){const{enums:r}=window.S4TK,{fnv64:s}=window.S4TK.hashing,{formatAsHexString:o}=window.S4TK.formatting;let{onComplete:a}=t;const i=ds();let l,c,u,d="",f="80000000",h=o(r.StringTableLocale.getInstanceBase(s(i,!1)),14,!1),p=nt.defaultLocale,m={currentPage:1,nextButtonEnabled:!1},g=null,b=0,y=!1;const $=[pt.subscribe((e=>{e&&(c=e)}))];return K((()=>{$.forEach((e=>e()))})),e.$$set=e=>{"onComplete"in e&&n(13,a=e.onComplete)},e.$$.update=()=>{1&e.$$.dirty[0]&&g&&function(){const e=[...g.instances];if(n(9,u=e.map(((e,t)=>({value:t,text:o(e,14,!1)})))),g.locales.has(nt.defaultLocale))n(4,p=nt.defaultLocale);else{const[e]=g.locales;n(4,p=e)}}()},[g,d,f,h,p,l,m,b,y,u,i,async function(){const e=await Fo(p,g.stbls),t=new ys(i,{name:d,group:parseInt(f,16),instance:BigInt(h.startsWith("0x")?h:`0x${h}`),flags:0,numEntries:e.numEntries,numLocales:e.numLocales,primaryLocale:p},e);c.addProject(t),a()},function(e){3===e&&(n(6,m.nextButtonEnabled=!1,m),y||n(3,h=o([...g.instances][b],14,!1)))},a,function(e){m=e,n(6,m)},function(e){g=e,n(0,g)},function(e){b=e,n(7,b)},function(e){y=e,n(8,y)},function(e){m=e,n(6,m)},function(e){m=e,n(6,m)},function(t){e.$$.not_equal(m.nextButtonEnabled,t)&&(m.nextButtonEnabled=t,n(6,m))},function(e){d=e,n(1,d)},function(e){f=e,n(2,f)},function(e){h=e,n(3,h)},function(e){p=e,n(4,p)},function(e){l=e,n(5,l)},function(e){m=e,n(6,m)}]}class ua extends Ne{constructor(e){super(),Ae(this,e,ca,la,i,{onComplete:13},null,[-1,-1])}}function da(e){let t,n;return t=new sn({props:{onClose:e[4],$$slots:{default:[fa]},$$scope:{ctx:e}}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};518&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function fa(e){let t,r,s;const o=[{onComplete:e[4]},e[2]];var a=e[1];function i(e){let t={};for(let e=0;e<o.length;e+=1)t=n(t,o[e]);return{props:t}}return a&&(t=new a(i())),{c(){t&&Te(t.$$.fragment),r=L()},m(e,n){t&&Le(t,e,n),_(e,r,n),s=!0},p(e,n){const s=20&n?Se(o,[16&n&&{onComplete:e[4]},4&n&&Ce(e[2])]):{};if(a!==(a=e[1])){if(t){pe();const e=t;be(e.$$.fragment,1,0,(()=>{je(e,1)})),me()}a?(t=new a(i()),Te(t.$$.fragment),ge(t.$$.fragment,1),Le(t,r.parentNode,r)):t=null}else a&&t.$set(s)},i(e){s||(t&&ge(t.$$.fragment,e),s=!0)},o(e){t&&be(t.$$.fragment,e),s=!1},d(e){e&&S(r),t&&je(t,e)}}}function ha(e){let t,n,r,s;t=new Ns({props:{buttonData:e[3]}});let o=e[0]&&da(e);return{c(){Te(t.$$.fragment),n=T(),o&&o.c(),r=L()},m(e,a){Le(t,e,a),_(e,n,a),o&&o.m(e,a),_(e,r,a),s=!0},p(e,[n]){const s={};8&n&&(s.buttonData=e[3]),t.$set(s),e[0]?o?(o.p(e,n),1&n&&ge(o,1)):(o=da(e),o.c(),ge(o,1),o.m(r.parentNode,r)):o&&(pe(),be(o,1,1,(()=>{o=null})),me())},i(e){s||(ge(t.$$.fragment,e),ge(o),s=!0)},o(e){be(t.$$.fragment,e),be(o),s=!1},d(e){je(t,e),e&&S(n),o&&o.d(e),e&&S(r)}}}function pa(e,t,n){let{selectionGroup:r}=t;const s=e=>()=>{c||e()};let o,a,i,l,c=!1;const u=[pt.subscribe((e=>{e&&n(6,l=e)}))];return K((()=>{u.forEach((e=>e()))})),e.$$set=e=>{"selectionGroup"in e&&n(5,r=e.selectionGroup)},e.$$.update=()=>{96&e.$$.dirty&&n(3,i=r?.selectMode?[{color:"Cyan",title:"Download",icon:"download",keybinding:"s",disabled:r.numSelected<1,onClick:s((()=>{nt.rickGif?window.open(Ye.rickRoll,"_blank"):(n(1,o=ho),n(2,a={selectionGroup:r}),n(0,c=!0))}))},{color:"Orange",title:"Toggle Pin",icon:"pin",keybinding:"p",disabled:r.numSelected<1,onClick:s((()=>{l.toggleProjectPins(r.allSelectedItems)}))},{color:"Red",title:"Delete",icon:"trash",keybinding:"d",disabled:r.numSelected<1,onClick:s((()=>{n(1,o=Fs),n(2,a={projects:r.allSelectedItems}),n(0,c=!0)}))}]:[{color:"Azure",title:"Save Workspace",icon:"desktop-download",keybinding:"s",onClick:s((()=>{nt.rickGif?window.open(Ye.rickRoll,"_blank"):l.toJson().then((e=>{const t=new Blob([JSON.stringify(e)]);Gs.saveAs(t,"StblStudioWorkspace.json")}))}))},{color:"Purple",title:"Upload Project",icon:"upload",keybinding:"u",onClick:s((()=>{n(1,o=ua),n(2,a={}),n(0,c=!0)}))},{color:"Green",title:"New Project",icon:"plus",keybinding:"n",onClick:s((()=>{n(1,o=Po),n(2,a={}),n(0,c=!0)}))}])},[c,o,a,i,function(){n(0,c=!1),n(1,o=void 0),n(2,a=void 0)},r,l]}class ma extends Ne{constructor(e){super(),Ae(this,e,pa,ha,i,{selectionGroup:5})}}function ga(e){let t,n,r;function s(t){e[12](t)}let o={numPages:2,minimumContentHeight:"180",centerVertically:!0,onLastPageComplete:e[5],completeButton:"Get Started",$$slots:{content:[xa],header:[ya]},$$scope:{ctx:e}};return void 0!==e[3]&&(o.state=e[3]),t=new Nn({props:o}),J.push((()=>Ee(t,"state",s))),{c(){Te(t.$$.fragment)},m(e,n){Le(t,e,n),r=!0},p(e,r){const s={};16392&r&&(s.$$scope={dirty:r,ctx:e}),!n&&8&r&&(n=!0,s.state=e[3],se((()=>n=!1))),t.$set(s)},i(e){r||(ge(t.$$.fragment,e),r=!0)},o(e){be(t.$$.fragment,e),r=!1},d(e){je(t,e)}}}function ba(e){let t,n,r,s,o,a,i,l,c,u,d,f=Boolean(e[1]);function h(t){e[8](t)}function p(t){e[9](t)}let m={accept:".json",label:"workspace json only"};void 0!==e[0]&&(m.files=e[0]),void 0!==e[1]&&(m.errorMessage=e[1]),a=new Ko({props:m}),J.push((()=>Ee(a,"files",h))),J.push((()=>Ee(a,"errorMessage",p)));let g=f&&wa();return{c(){t=C("div"),n=C("div"),n.innerHTML='<div class="max-w-min"><h2 class="font-bold whitespace-nowrap text-2xl mb-2 text-gradient drop-shadow">Welcome Back</h2></div> \n      <p class="mt-8">Upload your workspace JSON file to pick up where you left off.</p>',s=T(),o=C("div"),Te(a.$$.fragment),c=T(),g&&g.c(),A(o,"class","mt-8"),A(t,"class","w-full")},m(e,r){_(e,t,r),x(t,n),x(t,s),x(t,o),Le(a,o,null),x(o,c),g&&g.m(o,null),d=!0},p(t,n){e=t;const r={};!i&&1&n&&(i=!0,r.files=e[0],se((()=>i=!1))),!l&&2&n&&(l=!0,r.errorMessage=e[1],se((()=>l=!1))),a.$set(r),2&n&&(f=Boolean(e[1])),f?g||(g=wa(),g.c(),g.m(o,null)):g&&(g.d(1),g=null)},i(t){d||(r||re((()=>{r=$e(n,ht,{y:-15,duration:e[4]}),r.start()})),ge(a.$$.fragment,t),u||re((()=>{u=$e(o,ht,{y:20,duration:e[4]}),u.start()})),d=!0)},o(e){be(a.$$.fragment,e),d=!1},d(e){e&&S(t),je(a),g&&g.d()}}}function ya(t){let n;return{c(){n=C("div"),n.innerHTML='<p>Welcome to</p> \n      <h2 class="font-bold text-2xl mb-2 text-gradient drop-shadow">String Table Studio</h2> \n      <p class="text-sm text-subtle">Powered by <a class="text-secondary" href="https://sims4toolkit.com" target="_blank">Sims 4 Toolkit</a></p>',A(n,"slot","header")},m(e,t){_(e,n,t)},p:e,d(e){e&&S(n)}}}function $a(t){let n;return{c(){n=C("div"),n.innerHTML='<p>String Table Studio is a web app that makes it easy to create, edit,\n            and translate string tables for Sims 4 mods. View the <a class="text-secondary" href="https://github.com/sims4toolkit/stbl-studio-web/blob/main/README.md" target="_blank">feature list</a> to learn more about what it can do.</p> \n          <p class="mt-4">If you&#39;re transferring from another device or browser, upload your\n            workspace JSON file to pick up where you left off. Otherwise, click\n            &quot;Next&quot; to create a new workspace.</p>',A(n,"class","flex flex-col gap-4")},m(e,t){_(e,n,t)},p:e,d(e){e&&S(n)}}}function va(t){let n,r;return{c(){n=C("div"),n.innerHTML='<p>Before proceeding, please keep in mind:</p> \n          <ul class="list-disc pl-8 flex flex-col gap-2"><li class="pl-2">All data that you create or upload on this website is stored\n              locally on your computer, not on the internet. If you clear your\n              browser&#39;s storage, you will lose your data.</li> \n            <li class="pl-2">You can download your data at any time, and use it to backup,\n              restore, or move your entire workspace to another browser or\n              device.</li> \n            <li class="pl-2">Your data is your responsibility. I am not at fault for any\n              losses.</li></ul>',A(n,"class","flex flex-col gap-4")},m(e,t){_(e,n,t)},p:e,i(e){r||re((()=>{r=$e(n,ft,{}),r.start()}))},o:e,d(e){e&&S(n)}}}function xa(e){let t,n,r,s,o,a,i;function l(t){e[10](t)}let c={pageNumber:1,$$slots:{default:[$a]},$$scope:{ctx:e}};function u(t){e[11](t)}void 0!==e[3]&&(c.state=e[3]),n=new Pn({props:c}),J.push((()=>Ee(n,"state",l)));let d={pageNumber:2,$$slots:{default:[va]},$$scope:{ctx:e}};return void 0!==e[3]&&(d.state=e[3]),o=new Pn({props:d}),J.push((()=>Ee(o,"state",u))),{c(){t=C("div"),Te(n.$$.fragment),s=T(),Te(o.$$.fragment),A(t,"slot","content"),A(t,"class","flex flex-col gap-4")},m(e,r){_(e,t,r),Le(n,t,null),x(t,s),Le(o,t,null),i=!0},p(e,t){const s={};16384&t&&(s.$$scope={dirty:t,ctx:e}),!r&&8&t&&(r=!0,s.state=e[3],se((()=>r=!1))),n.$set(s);const i={};16384&t&&(i.$$scope={dirty:t,ctx:e}),!a&&8&t&&(a=!0,i.state=e[3],se((()=>a=!1))),o.$set(i)},i(e){i||(ge(n.$$.fragment,e),ge(o.$$.fragment,e),i=!0)},o(e){be(n.$$.fragment,e),be(o.$$.fragment,e),i=!1},d(e){e&&S(t),je(n),je(o)}}}function wa(e){let t;return{c(){t=C("p"),t.innerHTML='If you&#39;re sure you&#39;re uploading a workspace JSON, do not panic. It is\n          likely that one or more of your projects are corrupt, but the others\n          are safe. First, try reloading the page. If this does not work, <a class="text-secondary" href="https://frankkmods.com/#/about" target="_blank">contact me</a> for help.',A(t,"class","mt-4 text-xs text-subtle")},m(e,n){_(e,t,n)},d(e){e&&S(t)}}}function ka(e){let t;return{c(){t=E("Upload Workspace")},m(e,n){_(e,t,n)},d(e){e&&S(t)}}}function _a(e){let t;return{c(){t=E("Stop Uploading")},m(e,n){_(e,t,n)},d(e){e&&S(t)}}}function Sa(e){let t,n,r,s,o,a,i,l,u,d,f;const h=[ba,ga],p=[];function m(e,t){return e[2]?0:1}function g(e,t){return e[2]?_a:ka}t=m(e),n=p[t]=h[t](e);let b=g(e),y=b(e);return{c(){n.c(),r=T(),s=C("div"),o=C("button"),a=C("img"),l=T(),y.c(),c(a.src,i="./assets/"+(e[2]?"x":"upload")+".svg")||A(a,"src",i),A(a,"class","svg h-4 svelte-1x3dtbx"),A(a,"alt","Upload"),A(o,"class","flex gap-2 items-center fixed bottom-10 rounded py-2 px-4 text-sm border border-black dark:border-white hover:text-white hover:dark:text-black svelte-1x3dtbx"),A(s,"class","w-full flex justify-center")},m(n,i){p[t].m(n,i),_(n,r,i),_(n,s,i),x(s,o),x(o,a),x(o,l),y.m(o,null),u=!0,d||(f=j(o,"click",e[6]),d=!0)},p(e,[s]){let l=t;t=m(e),t===l?p[t].p(e,s):(pe(),be(p[l],1,1,(()=>{p[l]=null})),me(),n=p[t],n?n.p(e,s):(n=p[t]=h[t](e),n.c()),ge(n,1),n.m(r.parentNode,r)),(!u||4&s&&!c(a.src,i="./assets/"+(e[2]?"x":"upload")+".svg"))&&A(a,"src",i),b!==(b=g(e))&&(y.d(1),y=b(e),y&&(y.c(),y.m(o,null)))},i(e){u||(ge(n),u=!0)},o(e){be(n),u=!1},d(e){p[t].d(e),e&&S(r),e&&S(s),y.d(),d=!1,f()}}}function Ca(e,t,n){let{onOnboardingComplete:r}=t;const s=nt.reduceMotion?0:850;let o,a="",i=!1,l={currentPage:1,nextButtonEnabled:!0};return e.$$set=e=>{"onOnboardingComplete"in e&&n(7,r=e.onOnboardingComplete)},e.$$.update=()=>{1&e.$$.dirty&&o?.length&&async function(){try{const[e]=o,t=window.S4TK.Node.Buffer.from(await e.arrayBuffer()),n=JSON.parse(t.toString()),s=await $s.restoreFromJson(n);pt.set(s),r()}catch(e){console.error(e),n(1,a="Not a valid workspace")}}()},[o,a,i,l,s,async function(){pt.set(new $s),r()},function(e){n(2,i=!i),e.target.blur()},r,function(e){o=e,n(0,o)},function(e){a=e,n(1,a)},function(e){l=e,n(3,l)},function(e){l=e,n(3,l)},function(e){l=e,n(3,l)}]}class Ea extends Ne{constructor(e){super(),Ae(this,e,Ca,Sa,i,{onOnboardingComplete:7})}}function Ta(t){let n,r,s,a,i,l,c;return{c(){n=C("button"),n.textContent="select all",s=T(),a=C("button"),a.textContent="deselect all",A(n,"class","select-toggle svelte-1ac1uou"),A(a,"class","select-toggle svelte-1ac1uou")},m(e,r){_(e,n,r),_(e,s,r),_(e,a,r),l||(c=[j(n,"click",t[3]),j(a,"click",t[4])],l=!0)},p:e,i(e){r||re((()=>{r=$e(n,ft,{}),r.start()})),i||re((()=>{i=$e(a,ft,{}),i.start()}))},o:e,d(e){e&&S(n),e&&S(s),e&&S(a),l=!1,o(c)}}}function La(t){let n,r;return{c(){n=C("span"),n.textContent="select",A(n,"class","svelte-1ac1uou")},m(e,t){_(e,n,t)},i(e){r||re((()=>{r=$e(n,ft,{}),r.start()}))},o:e,d(e){e&&S(n)}}}function ja(t){let n,r;return{c(){n=C("span"),n.textContent="×",A(n,"class","text-lg svelte-1ac1uou")},m(e,t){_(e,n,t)},i(e){r||re((()=>{r=$e(n,ft,{}),r.start()}))},o:e,d(e){e&&S(n)}}}function Aa(t){let n,r,s,o,a,i=t[2]&&Ta(t);function l(e,t){return e[2]?ja:La}let c=l(t),u=c(t);return{c(){n=C("div"),i&&i.c(),r=T(),s=C("button"),u.c(),A(s,"class","select-toggle svelte-1ac1uou"),s.disabled=t[1],A(n,"class","flex justify-center gap-4 h-10 text-sm")},m(e,l){_(e,n,l),i&&i.m(n,null),x(n,r),x(n,s),u.m(s,null),o||(a=j(s,"click",t[5]),o=!0)},p(e,[t]){e[2]?i?(i.p(e,t),4&t&&ge(i,1)):(i=Ta(e),i.c(),ge(i,1),i.m(n,r)):i&&(i.d(1),i=null),c!==(c=l(e))&&(u.d(1),u=c(e),u&&(u.c(),ge(u,1),u.m(s,null))),2&t&&(s.disabled=e[1])},i(e){ge(i),ge(u)},o:e,d(e){e&&S(n),i&&i.d(),u.d(),o=!1,a()}}}function Na(e,t,n){let r,{selectionGroup:s}=t,{disabled:o=!1}=t;return e.$$set=e=>{"selectionGroup"in e&&n(0,s=e.selectionGroup),"disabled"in e&&n(1,o=e.disabled)},e.$$.update=()=>{1&e.$$.dirty&&n(2,r=s.selectMode)},[s,o,r,()=>s.selectAll(),()=>s.deselectAll(),()=>s.toggleSelectMode()]}class Ba extends Ne{constructor(e){super(),Ae(this,e,Na,Aa,i,{selectionGroup:0,disabled:1})}}function Ra(t){let n,r,s,o,a,i,l,c,u,d,f,h,p,m,g,b,y,$,v=rr(t[0].metaData.primaryLocale).code+"",w=t[0].metaData.numLocales+"",k=t[0].metaData.numEntries+"";return{c(){n=C("div"),r=C("div"),s=C("p"),s.textContent="SOURCE",o=T(),a=C("p"),i=E(v),l=T(),c=C("div"),u=C("p"),u.textContent="LOCALES",d=T(),f=C("p"),h=E(w),p=T(),m=C("div"),g=C("p"),g.textContent="STRINGS",b=T(),y=C("p"),$=E(k),A(s,"class","text-subtle font-bold text-xs"),A(a,"class","text-sm"),A(r,"class","flex flex-col flex-1 items-center justify-center py-1 px-4 gap-1 rounded border border-gray-300 dark:border-gray-600 hacker-border-gray"),A(u,"class","text-subtle font-bold text-xs"),A(f,"class","text-sm"),A(c,"class","flex flex-col flex-1 items-center justify-center py-1 px-4 gap-1 rounded border border-gray-300 dark:border-gray-600 hacker-border-gray"),A(g,"class","text-subtle font-bold text-xs"),A(y,"class","text-sm"),A(m,"class","flex flex-col flex-1 items-center justify-center py-1 px-4 gap-1 rounded border border-gray-300 dark:border-gray-600 hacker-border-gray"),A(n,"class","flex gap-2")},m(e,t){_(e,n,t),x(n,r),x(r,s),x(r,o),x(r,a),x(a,i),x(n,l),x(n,c),x(c,u),x(c,d),x(c,f),x(f,h),x(n,p),x(n,m),x(m,g),x(m,b),x(m,y),x(y,$)},p(e,[t]){1&t&&v!==(v=rr(e[0].metaData.primaryLocale).code+"")&&B(i,v),1&t&&w!==(w=e[0].metaData.numLocales+"")&&B(h,w),1&t&&k!==(k=e[0].metaData.numEntries+"")&&B($,k)},i:e,o:e,d(e){e&&S(n)}}}function Da(e,t,n){let{project:r}=t;return e.$$set=e=>{"project"in e&&n(0,r=e.project)},[r]}class Pa extends Ne{constructor(e){super(),Ae(this,e,Da,Ra,i,{project:0})}}function Ia(e){let t,n;return{c(){t=C("img"),c(t.src,n="./assets/pin.svg")||A(t,"src","./assets/pin.svg"),A(t,"alt","Pin"),A(t,"title","Pinned"),A(t,"class","svg-accent h-4 w-4 z-10 absolute top-2 right-2 -scale-x-100")},m(e,n){_(e,t,n)},d(e){e&&S(t)}}}function za(e){let t,n;return{c(){t=C("img"),c(t.src,n="./assets/warning-outline.svg")||A(t,"src","./assets/warning-outline.svg"),A(t,"alt","Corrupt"),A(t,"title","Corrupt"),A(t,"class","svg-warning h-4 w-4 z-10 absolute top-2 right-2 -scale-x-100")},m(e,n){_(e,t,n)},d(e){e&&S(t)}}}function Ma(e){let t;return{c(){t=C("div"),t.innerHTML='<div class="select-indicator rounded-full h-4 w-4 border border-solid border-gray-500 dark:border-gray-400 svelte-12876sn"></div>',A(t,"class","flex items-center pr-4")},m(e,n){_(e,t,n)},d(e){e&&S(t)}}}function Oa(e){let t,n,r,s,o,a,i,l,c,u,d,f,h,p,m,g,b=e[0].metaData.name+"",y=e[5](e[0].metaData.instance,14,!1)+"";function $(e,t){return e[2]?za:e[3]?Ia:void 0}let v=$(e),w=v&&v(e),k=e[1]&&Ma();return h=new Pa({props:{project:e[0]}}),{c(){t=C("button"),w&&w.c(),n=T(),r=C("div"),s=C("div"),k&&k.c(),o=T(),a=C("div"),i=C("h2"),l=E(b),c=T(),u=C("p"),d=E(y),f=T(),Te(h.$$.fragment),A(i,"class","font-bold text-lg mb-1 whitespace-nowrap overflow-hidden text-ellipsis"),A(u,"class","monospace text-subtle text-sm"),A(a,"class","overflow-hidden"),A(s,"class","flex mb-4"),A(r,"class","project-view text-left p-4 rounded-md drop-shadow-md dark:bg-gray-700 bg-gray-50 hacker-border-gray hacker-bg-black svelte-12876sn"),P(r,"selected",e[4]),A(t,"class","relative svelte-12876sn")},m(b,y){_(b,t,y),w&&w.m(t,null),x(t,n),x(t,r),x(r,s),k&&k.m(s,null),x(s,o),x(s,a),x(a,i),x(i,l),x(a,c),x(a,u),x(u,d),x(r,f),Le(h,r,null),p=!0,m||(g=j(t,"click",e[6]),m=!0)},p(e,[a]){v!==(v=$(e))&&(w&&w.d(1),w=v&&v(e),w&&(w.c(),w.m(t,n))),e[1]?k||(k=Ma(),k.c(),k.m(s,o)):k&&(k.d(1),k=null),(!p||1&a)&&b!==(b=e[0].metaData.name+"")&&B(l,b),(!p||1&a)&&y!==(y=e[5](e[0].metaData.instance,14,!1)+"")&&B(d,y);const i={};1&a&&(i.project=e[0]),h.$set(i),16&a&&P(r,"selected",e[4])},i(e){p||(ge(h.$$.fragment,e),p=!0)},o(e){be(h.$$.fragment,e),p=!1},d(e){e&&S(t),w&&w.d(),k&&k.d(),je(h),m=!1,g()}}}function Fa(e,t,n){let r,s,o,a;const{formatAsHexString:i}=window.S4TK.formatting;let{project:l}=t,{selectionGroup:c}=t;return e.$$set=e=>{"project"in e&&n(0,l=e.project),"selectionGroup"in e&&n(7,c=e.selectionGroup)},e.$$.update=()=>{128&e.$$.dirty&&n(1,r=c.selectMode),129&e.$$.dirty&&n(4,s=c.isSelected(l)),1&e.$$.dirty&&n(3,o=l.hasFlags(gs.Pinned)),1&e.$$.dirty&&n(2,a=l.hasFlags(gs.Corrupt))},[l,r,a,o,s,i,function(){r?c.toggleValue(l):Ue("/project/"+l.uuid)},c]}class Ha extends Ne{constructor(e){super(),Ae(this,e,Fa,Oa,i,{project:0,selectionGroup:7})}}function Ua(e,t,n){const r=e.slice();return r[5]=t[n],r[7]=n,r}function Wa(e,t){let n,r,s,o;function a(e){t[4](e)}let i={project:t[5]};return void 0!==t[0]&&(i.selectionGroup=t[0]),r=new Ha({props:i}),J.push((()=>Ee(r,"selectionGroup",a))),{key:e,first:null,c(){n=L(),Te(r.$$.fragment),this.first=n},m(e,t){_(e,n,t),Le(r,e,t),o=!0},p(e,n){t=e;const o={};2&n&&(o.project=t[5]),!s&&1&n&&(s=!0,o.selectionGroup=t[0],se((()=>s=!1))),r.$set(o)},i(e){o||(ge(r.$$.fragment,e),o=!0)},o(e){be(r.$$.fragment,e),o=!1},d(e){e&&S(n),je(r,e)}}}function Ga(e){let t,n,r,s,o,a,i,l,c,u=[],d=new Map;function f(t){e[3](t)}r=new Zr({props:{title:"My Workspace"}});let h={};void 0!==e[0]&&(h.selectionGroup=e[0]),o=new Ba({props:h}),J.push((()=>Ee(o,"selectionGroup",f)));let p=e[1];const m=e=>e[7];for(let t=0;t<p.length;t+=1){let n=Ua(e,p,t),r=m(n);d.set(r,u[t]=Wa(r,n))}return{c(){t=C("div"),n=C("div"),Te(r.$$.fragment),s=T(),Te(o.$$.fragment),i=T(),l=C("div");for(let e=0;e<u.length;e+=1)u[e].c();A(t,"class","flex justify-between mb-8 flex-col sm:flex-row gap-8"),A(l,"class","workspace-view svelte-1yoh7hb")},m(e,a){_(e,t,a),x(t,n),Le(r,n,null),x(t,s),Le(o,t,null),_(e,i,a),_(e,l,a);for(let e=0;e<u.length;e+=1)u[e].m(l,null);c=!0},p(e,[t]){const n={};!a&&1&t&&(a=!0,n.selectionGroup=e[0],se((()=>a=!1))),o.$set(n),3&t&&(p=e[1],pe(),u=_e(u,t,m,1,e,p,d,l,ke,Wa,null,Ua),me())},i(e){if(!c){ge(r.$$.fragment,e),ge(o.$$.fragment,e);for(let e=0;e<p.length;e+=1)ge(u[e]);c=!0}},o(e){be(r.$$.fragment,e),be(o.$$.fragment,e);for(let e=0;e<u.length;e+=1)be(u[e]);c=!1},d(e){e&&S(t),je(r),je(o),e&&S(i),e&&S(l);for(let e=0;e<u.length;e+=1)u[e].d()}}}function qa(e,t,n){let r,{workspace:s}=t,{selectionGroup:o}=t;return e.$$set=e=>{"workspace"in e&&n(2,s=e.workspace),"selectionGroup"in e&&n(0,o=e.selectionGroup)},e.$$.update=()=>{4&e.$$.dirty&&n(1,r=[...s.projects].sort(((e,t)=>{const n=e.hasFlags(gs.Pinned);if(n!==t.hasFlags(gs.Pinned))return n?-1:1;const r=e.metaData.name.toLowerCase(),s=t.metaData.name.toLowerCase();return r<s?-1:r>s?1:0})))},[o,r,s,function(e){o=e,n(0,o)},function(e){o=e,n(0,o)}]}class Ka extends Ne{constructor(e){super(),Ae(this,e,qa,Ga,i,{workspace:2,selectionGroup:0})}}function Va(e){let t,n,r,s,o;const a=[Ya,Ja],i=[];function l(e,t){return 1&t&&(n=null),null==n&&(n=!!Boolean(e[0])),n?0:1}return r=l(e,-1),s=i[r]=a[r](e),{c(){t=C("div"),s.c(),A(t,"class","w-full xl:max-w-screen-xl flex flex-col justify-center")},m(e,n){_(e,t,n),i[r].m(t,null),o=!0},p(e,n){let o=r;r=l(e,n),r===o?i[r].p(e,n):(pe(),be(i[o],1,1,(()=>{i[o]=null})),me(),s=i[r],s?s.p(e,n):(s=i[r]=a[r](e),s.c()),ge(s,1),s.m(t,null))},i(e){o||(ge(s),o=!0)},o(e){be(s),o=!1},d(e){e&&S(t),i[r].d()}}}function Za(e){let t,n,r,s,o;function a(t){e[6](t)}function i(t){e[7](t)}let l={};return void 0!==e[0]&&(l.workspace=e[0]),void 0!==e[3]&&(l.selectionGroup=e[3]),n=new Ka({props:l}),J.push((()=>Ee(n,"workspace",a))),J.push((()=>Ee(n,"selectionGroup",i))),{c(){t=C("div"),Te(n.$$.fragment),A(t,"class","w-full xl:max-w-screen-xl py-12")},m(e,r){_(e,t,r),Le(n,t,null),o=!0},p(e,t){const o={};!r&&1&t&&(r=!0,o.workspace=e[0],se((()=>r=!1))),!s&&8&t&&(s=!0,o.selectionGroup=e[3],se((()=>s=!1))),n.$set(o)},i(e){o||(ge(n.$$.fragment,e),o=!0)},o(e){be(n.$$.fragment,e),o=!1},d(e){e&&S(t),je(n)}}}function Ja(t){let n;return{c(){n=C("h1"),n.textContent="Loading workspace...",A(n,"class","text-2xl font-bold text-center drop-shadow text-gray-400 dark:text-gray-500")},m(e,t){_(e,n,t)},p:e,i:e,o:e,d(e){e&&S(n)}}}function Ya(t){let n,r,s,o,a,i,l,c,u,d,f,h;return r=new Zr({props:{title:"Your workspace is empty"}}),{c(){n=C("div"),Te(r.$$.fragment),s=T(),o=C("p"),o.textContent="Create a new project with the toolbar in the bottom-right corner.",a=T(),i=C("p"),l=E("Confused? Check out the "),c=C("button"),c.textContent="help menu",u=E(" for more information."),A(n,"class","mb-8"),A(o,"class","mb-4"),A(c,"class","underline hover:no-underline text-secondary")},m(e,p){_(e,n,p),Le(r,n,null),_(e,s,p),_(e,o,p),_(e,a,p),_(e,i,p),x(i,l),x(i,c),x(i,u),d=!0,f||(h=j(c,"click",t[5]),f=!0)},p:e,i(e){d||(ge(r.$$.fragment,e),d=!0)},o(e){be(r.$$.fragment,e),d=!1},d(e){e&&S(n),je(r),e&&S(s),e&&S(o),e&&S(a),e&&S(i),f=!1,h()}}}function Xa(e){let t,n,r;function s(t){e[8](t)}let o={};return void 0!==e[3]&&(o.selectionGroup=e[3]),t=new ma({props:o}),J.push((()=>Ee(t,"selectionGroup",s))),{c(){Te(t.$$.fragment)},m(e,n){Le(t,e,n),r=!0},p(e,r){const s={};!n&&8&r&&(n=!0,s.selectionGroup=e[3],se((()=>n=!1))),t.$set(s)},i(e){r||(ge(t.$$.fragment,e),r=!0)},o(e){be(t.$$.fragment,e),r=!1},d(e){je(t,e)}}}function Qa(e){let t,n;return t=new sn({props:{$$slots:{default:[ei]},$$scope:{ctx:e}}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};2048&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function ei(t){let n,r;return n=new Ea({props:{onOnboardingComplete:t[4]}}),{c(){Te(n.$$.fragment)},m(e,t){Le(n,e,t),r=!0},p:e,i(e){r||(ge(n.$$.fragment,e),r=!0)},o(e){be(n.$$.fragment,e),r=!1},d(e){je(n,e)}}}function ti(e){let t,n,r,s,o,a,i,l;const c=[Za,Va],u=[];function d(e,t){return e[1]?0:1}r=d(e),s=u[r]=c[r](e);let f=void 0!==e[3]&&Xa(e),h=e[2]&&Qa(e);return{c(){t=T(),n=C("section"),s.c(),o=T(),f&&f.c(),a=T(),h&&h.c(),i=L(),document.title="STBL Studio | Workspace",A(n,"class","pt-10 px-4 w-full flex justify-center"),P(n,"flex-1",!e[1])},m(e,s){_(e,t,s),_(e,n,s),u[r].m(n,null),_(e,o,s),f&&f.m(e,s),_(e,a,s),h&&h.m(e,s),_(e,i,s),l=!0},p(e,[t]){let o=r;r=d(e),r===o?u[r].p(e,t):(pe(),be(u[o],1,1,(()=>{u[o]=null})),me(),s=u[r],s?s.p(e,t):(s=u[r]=c[r](e),s.c()),ge(s,1),s.m(n,null)),2&t&&P(n,"flex-1",!e[1]),void 0!==e[3]?f?(f.p(e,t),8&t&&ge(f,1)):(f=Xa(e),f.c(),ge(f,1),f.m(a.parentNode,a)):f&&(pe(),be(f,1,1,(()=>{f=null})),me()),e[2]?h?(h.p(e,t),4&t&&ge(h,1)):(h=Qa(e),h.c(),ge(h,1),h.m(i.parentNode,i)):h&&(pe(),be(h,1,1,(()=>{h=null})),me())},i(e){l||(ge(s),ge(f),ge(h),l=!0)},o(e){be(s),be(f),be(h),l=!1},d(e){e&&S(t),e&&S(n),u[r].d(),e&&S(o),f&&f.d(e),e&&S(a),h&&h.d(e),e&&S(i)}}}function ni(e,t,n){let r,s,o=!1,a=!1;const i=[pt.subscribe((e=>{e&&(n(0,r=e),n(1,o=e.projects.length>0),n(3,s=new vs(e.projects,"uuid",(()=>{n(3,s)}))))}))];return K((()=>{i.forEach((e=>e()))})),null==r&&(nt.hasWorkspace?$s.fromStorage().then((e=>{pt.set(e)})).catch((e=>{console.error(e)})):a=!0),[r,o,a,s,function(){nt.hasWorkspace=!0,n(2,a=!1)},function(){ct.request("help")},function(e){r=e,n(0,r)},function(e){s=e,n(3,s)},function(e){s=e,n(3,s)}]}class ri extends Ne{constructor(e){super(),Ae(this,e,ni,ti,i,{})}}function si(e){let t,n,r,s,o,a,i,l,c,u,d;function f(t){e[10](t)}function h(t){e[11](t)}function p(t){e[12](t)}function m(t){e[13](t)}function g(t){e[14](t)}function b(t){e[15](t)}function y(t){e[16](t)}function $(t){e[17](t)}let v={uuid:e[0].uuid,localeChoicesDetail:"Add or remove locales from this project. Removing locales will permanently delete any and all translations associated with them."};return void 0!==e[7]&&(v.multipageState=e[7]),void 0!==e[7].nextButtonEnabled&&(v.firstPageValid=e[7].nextButtonEnabled),void 0!==e[1]&&(v.projectName=e[1]),void 0!==e[2]&&(v.groupHexString=e[2]),void 0!==e[3]&&(v.instanceHexString=e[3]),void 0!==e[4]&&(v.primaryLocale=e[4]),void 0!==e[5]&&(v.localeChoices=e[5]),void 0!==e[6]&&(v.checkedLocales=e[6]),n=new No({props:v}),J.push((()=>Ee(n,"multipageState",f))),J.push((()=>Ee(n,"firstPageValid",h))),J.push((()=>Ee(n,"projectName",p))),J.push((()=>Ee(n,"groupHexString",m))),J.push((()=>Ee(n,"instanceHexString",g))),J.push((()=>Ee(n,"primaryLocale",b))),J.push((()=>Ee(n,"localeChoices",y))),J.push((()=>Ee(n,"checkedLocales",$))),{c(){t=C("div"),Te(n.$$.fragment),A(t,"slot","content"),A(t,"class","w-full")},m(e,r){_(e,t,r),Le(n,t,null),d=!0},p(e,t){const d={};1&t&&(d.uuid=e[0].uuid),!r&&128&t&&(r=!0,d.multipageState=e[7],se((()=>r=!1))),!s&&128&t&&(s=!0,d.firstPageValid=e[7].nextButtonEnabled,se((()=>s=!1))),!o&&2&t&&(o=!0,d.projectName=e[1],se((()=>o=!1))),!a&&4&t&&(a=!0,d.groupHexString=e[2],se((()=>a=!1))),!i&&8&t&&(i=!0,d.instanceHexString=e[3],se((()=>i=!1))),!l&&16&t&&(l=!0,d.primaryLocale=e[4],se((()=>l=!1))),!c&&32&t&&(c=!0,d.localeChoices=e[5],se((()=>c=!1))),!u&&64&t&&(u=!0,d.checkedLocales=e[6],se((()=>u=!1))),n.$set(d)},i(e){d||(ge(n.$$.fragment,e),d=!0)},o(e){be(n.$$.fragment,e),d=!1},d(e){e&&S(t),je(n)}}}function oi(e){let t,n,r;function s(t){e[18](t)}let o={numPages:2,title:"Edit Project",subtitle:"UUID: "+e[0].uuid,minimumContentHeight:"220",centerVertically:!0,completeButton:"Save Edits",onLastPageComplete:e[8],$$slots:{content:[si]},$$scope:{ctx:e}};return void 0!==e[7]&&(o.state=e[7]),t=new Nn({props:o}),J.push((()=>Ee(t,"state",s))),{c(){Te(t.$$.fragment)},m(e,n){Le(t,e,n),r=!0},p(e,[r]){const s={};1&r&&(s.subtitle="UUID: "+e[0].uuid),2097407&r&&(s.$$scope={dirty:r,ctx:e}),!n&&128&r&&(n=!0,s.state=e[7],se((()=>n=!1))),t.$set(s)},i(e){r||(ge(t.$$.fragment,e),r=!0)},o(e){be(t.$$.fragment,e),r=!1},d(e){je(t,e)}}}function ai(e,t,n){const{formatAsHexString:r}=window.S4TK.formatting,{enums:s}=window.S4TK;let{project:o}=t,{onComplete:a}=t,i=o.metaData.name,l=r(o.metaData.group,8,!1),c=r(o.metaData.instance,14,!1),u=o.metaData.primaryLocale,d=s.StringTableLocale.all().map((e=>({checked:o.stbl.hasLocale(e),displayName:sr(e),locale:e}))),f=new Set(d.filter((e=>e.checked)).map((e=>e.locale))),h={currentPage:1,nextButtonEnabled:!0};return e.$$set=e=>{"project"in e&&n(0,o=e.project),"onComplete"in e&&n(9,a=e.onComplete)},[o,i,l,c,u,d,f,h,async function(){const e=d.filter((e=>e.checked)).map((e=>e.locale));n(0,o.stbl.primaryLocale=u,o),o.stbl.replaceLocales(e),n(0,o.metaData.numLocales=o.stbl.numLocales,o),n(0,o.metaData.numEntries=o.stbl.numEntries,o),await o.stbl.saveToStorage(o.uuid),n(0,o.metaData.name=i,o),n(0,o.metaData.group=parseInt(l,16),o),n(0,o.metaData.instance=BigInt(c.startsWith("0x")?c:`0x${c}`),o),n(0,o.metaData.primaryLocale=u,o),await o.saveToStorage(),n(0,o),a()},a,function(e){h=e,n(7,h)},function(t){e.$$.not_equal(h.nextButtonEnabled,t)&&(h.nextButtonEnabled=t,n(7,h))},function(e){i=e,n(1,i)},function(e){l=e,n(2,l)},function(e){c=e,n(3,c)},function(e){u=e,n(4,u)},function(e){d=e,n(5,d)},function(e){f=e,n(6,f)},function(e){h=e,n(7,h)}]}class ii extends Ne{constructor(e){super(),Ae(this,e,ai,oi,i,{project:0,onComplete:9})}}function li(e){let t,n;return t=new sn({props:{onClose:e[6],$$slots:{default:[ci]},$$scope:{ctx:e}}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.onClose=e[6]),129&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function ci(e){let t,n,r;function s(t){e[5](t)}let o={onComplete:e[1]};return void 0!==e[0]&&(o.project=e[0]),t=new ii({props:o}),J.push((()=>Ee(t,"project",s))),{c(){Te(t.$$.fragment)},m(e,n){Le(t,e,n),r=!0},p(e,r){const s={};!n&&1&r&&(n=!0,s.project=e[0],se((()=>n=!1))),t.$set(s)},i(e){r||(ge(t.$$.fragment,e),r=!0)},o(e){be(t.$$.fragment,e),r=!1},d(e){je(t,e)}}}function ui(e){let t,n,r,s,o,a,i,l,c,u,d,f,h,p,m,g,b,y=e[0].metaData.name+"",$=e[3](e[0].metaData.instance,14,!1)+"";f=new Pa({props:{project:e[0]}});let v=e[2]&&li(e);return{c(){t=C("button"),n=C("div"),r=C("div"),s=C("div"),o=C("h2"),a=E(y),i=T(),l=C("p"),c=E($),u=T(),d=C("div"),Te(f.$$.fragment),h=T(),v&&v.c(),p=L(),A(o,"class","font-bold text-xl text-gradient drop-shadow whitespace-nowrap overflow-hidden text-ellipsis"),A(l,"class","text-xs mt-1 text-subtle monospace"),A(s,"class","overflow-hidden text-left"),A(d,"class","flex-1 sm:max-w-sm"),A(r,"class","w-full xl:max-w-screen-xl py-6 flex justify-between flex-wrap lg:flex-nowrap gap-8"),A(n,"class","pt-10 px-4 w-full flex justify-center bg-gray-50 dark:bg-gray-700 bottom-shadow hacker-bg-black hacker-border-b-gray"),A(t,"title","Edit Project")},m(y,$){_(y,t,$),x(t,n),x(n,r),x(r,s),x(s,o),x(o,a),x(s,i),x(s,l),x(l,c),x(r,u),x(r,d),Le(f,d,null),_(y,h,$),v&&v.m(y,$),_(y,p,$),m=!0,g||(b=j(t,"click",e[4]),g=!0)},p(e,[t]){(!m||1&t)&&y!==(y=e[0].metaData.name+"")&&B(a,y),(!m||1&t)&&$!==($=e[3](e[0].metaData.instance,14,!1)+"")&&B(c,$);const n={};1&t&&(n.project=e[0]),f.$set(n),e[2]?v?(v.p(e,t),4&t&&ge(v,1)):(v=li(e),v.c(),ge(v,1),v.m(p.parentNode,p)):v&&(pe(),be(v,1,1,(()=>{v=null})),me())},i(e){m||(ge(f.$$.fragment,e),ge(v),m=!0)},o(e){be(f.$$.fragment,e),be(v),m=!1},d(e){e&&S(t),je(f),e&&S(h),v&&v.d(e),e&&S(p),g=!1,b()}}}function di(e,t,n){const{formatAsHexString:r}=window.S4TK.formatting;let{project:s}=t;let o=!1;return e.$$set=e=>{"project"in e&&n(0,s=e.project)},[s,()=>{n(2,o=!1)},o,r,()=>n(2,o=!0),function(e){s=e,n(0,s)},()=>n(2,o=!1)]}class fi extends Ne{constructor(e){super(),Ae(this,e,di,ui,i,{project:0,onMetaDataEdited:1})}get onMetaDataEdited(){return this.$$.ctx[1]}}function hi(t){let n,r,s,a,i,l,u,d,f,h,p,m,g,b,y,$,v,w,k,L,N,R,D,P=t[0]?"Copied!":"Copy Key",I=t[0]?"Copied!":"Copy Text",z=t[0]?"Copied!":"Copy XML";return{c(){n=C("div"),r=C("button"),s=C("img"),i=T(),l=C("div"),u=E(P),d=T(),f=C("button"),h=C("img"),m=T(),g=C("div"),b=E(I),y=T(),$=C("button"),v=C("img"),k=T(),L=C("div"),N=E(z),A(s,"class","svg h-4"),c(s.src,a="./assets/key-outline.svg")||A(s,"src","./assets/key-outline.svg"),A(s,"alt","Key"),A(l,"class","bg-gray-300 dark:bg-gray-900 hacker-border-gray svelte-ag57li"),A(r,"class","svelte-ag57li"),A(h,"class","svg h-4"),c(h.src,p="./assets/text-outline.svg")||A(h,"src","./assets/text-outline.svg"),A(h,"alt","Text"),A(g,"class","bg-gray-300 dark:bg-gray-900 hacker-border-gray svelte-ag57li"),A(f,"class","svelte-ag57li"),A(v,"class","svg h-4"),c(v.src,w="./assets/code-outline.svg")||A(v,"src","./assets/code-outline.svg"),A(v,"alt","Code"),A(L,"class","bg-gray-300 dark:bg-gray-900 hacker-border-gray svelte-ag57li"),A($,"class","svelte-ag57li"),A(n,"class","flex gap-3 min-w-fit")},m(e,o){_(e,n,o),x(n,r),x(r,s),x(r,i),x(r,l),x(l,u),x(n,d),x(n,f),x(f,h),x(f,m),x(f,g),x(g,b),x(n,y),x(n,$),x($,v),x($,k),x($,L),x(L,N),R||(D=[j(r,"click",t[2]),j(r,"mouseleave",pi),j(r,"blur",t[1]),j(f,"click",t[3]),j(f,"mouseleave",pi),j(f,"blur",t[1]),j($,"click",t[4]),j($,"mouseleave",pi),j($,"blur",t[1])],R=!0)},p(e,[t]){1&t&&P!==(P=e[0]?"Copied!":"Copy Key")&&B(u,P),1&t&&I!==(I=e[0]?"Copied!":"Copy Text")&&B(b,I),1&t&&z!==(z=e[0]?"Copied!":"Copy XML")&&B(N,z)},i:e,o:e,d(e){e&&S(n),R=!1,o(D)}}}function pi(e){e.target.blur()}function mi(e,t,n){let{key:r}=t,{string:s}=t,o=!1;function a(e){navigator.clipboard.writeText(e.replace(/\r?\n|\r/g,"\\n")),n(0,o=!0)}return e.$$set=e=>{"key"in e&&n(5,r=e.key),"string"in e&&n(6,s=e.string)},[o,function(){n(0,o=!1)},()=>a(r),()=>a(s),()=>a(`${r}\x3c!--${s}--\x3e`),r,s]}class gi extends Ne{constructor(e){super(),Ae(this,e,mi,hi,i,{key:5,string:6})}}function bi(e){let t;return{c(){t=C("div"),t.innerHTML='<div class="select-indicator rounded-full h-4 w-4 border border-solid border-gray-500 dark:border-gray-400 svelte-skhqzj"></div>',A(t,"class","flex items-center -order-1")},m(e,n){_(e,t,n)},d(e){e&&S(t)}}}function yi(e){let t,n,r;return n=new gi({props:{key:e[2],string:e[3]}}),{c(){t=C("div"),Te(n.$$.fragment),A(t,"class","-order-1 sm:order-1 min-w-fit")},m(e,s){_(e,t,s),Le(n,t,null),r=!0},p(e,t){const r={};4&t&&(r.key=e[2]),8&t&&(r.string=e[3]),n.$set(r)},i(e){r||(ge(n.$$.fragment,e),r=!0)},o(e){be(n.$$.fragment,e),r=!1},d(e){e&&S(t),je(n)}}}function $i(e){let t,n,r,s,a,i,l,c,u,d,f,h,p=e[0].selectMode&&bi(),m=!e[0].selectMode&&yi(e);return{c(){t=C("button"),p&&p.c(),n=T(),r=C("input"),a=T(),i=C("input"),c=T(),m&&m.c(),A(r,"class","bg-transparent text-red-600 dark:text-red-500 placeholder:text-gray-400 dark:placeholder:text-gray-500 monospace rounded p-1 -order-1 sm:order-1 text-sm w-24 svelte-skhqzj"),A(r,"placeholder","0x00000000"),A(r,"type","text"),A(r,"tabindex",s=e[0].selectMode?-1:0),P(r,"valid",e[5]),A(i,"class","bg-gray-75 dark:bg-gray-675 rounded w-full px-2 py-1 order-1 placeholder:text-gray-400 dark:placeholder:text-gray-500 svelte-skhqzj"),A(i,"placeholder","Empty string"),A(i,"type","text"),A(i,"tabindex",l=e[0].selectMode?-1:0),A(t,"class","w-full flex flex-wrap sm:flex-nowrap justify-between items-center px-4 py-2 sm:py-1 first:rounded-t last:rounded-b gap-2 sm:gap-4 bg-gray-50 dark:bg-gray-700 border border-gray-100 dark:border-gray-800 hacker-border-gray hacker-bg-black svelte-skhqzj"),A(t,"tabindex",u=e[0].selectMode?0:-1),P(t,"selected",e[0].isSelected(e[1])),P(t,"selectable",e[0].selectMode),P(t,"sm:pr-1",e[0].selectMode)},m(s,o){_(s,t,o),p&&p.m(t,null),x(t,n),x(t,r),e[10](r),R(r,e[2]),x(t,a),x(t,i),R(i,e[3]),x(t,c),m&&m.m(t,null),d=!0,f||(h=[j(r,"input",e[11]),j(r,"blur",e[7]),j(i,"input",e[12]),j(i,"blur",e[8]),j(t,"click",e[6])],f=!0)},p(e,[o]){e[0].selectMode?p||(p=bi(),p.c(),p.m(t,n)):p&&(p.d(1),p=null),(!d||1&o&&s!==(s=e[0].selectMode?-1:0))&&A(r,"tabindex",s),4&o&&r.value!==e[2]&&R(r,e[2]),32&o&&P(r,"valid",e[5]),(!d||1&o&&l!==(l=e[0].selectMode?-1:0))&&A(i,"tabindex",l),8&o&&i.value!==e[3]&&R(i,e[3]),e[0].selectMode?m&&(pe(),be(m,1,1,(()=>{m=null})),me()):m?(m.p(e,o),1&o&&ge(m,1)):(m=yi(e),m.c(),ge(m,1),m.m(t,null)),(!d||1&o&&u!==(u=e[0].selectMode?0:-1))&&A(t,"tabindex",u),3&o&&P(t,"selected",e[0].isSelected(e[1])),1&o&&P(t,"selectable",e[0].selectMode),1&o&&P(t,"sm:pr-1",e[0].selectMode)},i(e){d||(ge(m),d=!0)},o(e){be(m),d=!1},d(n){n&&S(t),p&&p.d(),e[10](null),m&&m.d(),f=!1,o(h)}}}function vi(e,t,n){let r;const{formatStringKey:s}=window.S4TK.formatting;let o,a,i,{project:l}=t,{entry:c}=t,{selectionGroup:u}=t;return e.$$set=e=>{"project"in e&&n(9,l=e.project),"entry"in e&&n(1,c=e.entry),"selectionGroup"in e&&n(0,u=e.selectionGroup)},e.$$.update=()=>{4&e.$$.dirty&&n(5,r=null==o||po(o,8)),512&e.$$.dirty&&(n(2,o=s(c.key)),n(3,a=l.stbl.getValue(c.id)))},[u,c,o,a,i,r,function(){u.selectMode&&(u.toggleValue(c),n(0,u))},function(){if(n(2,o=o.trim()),r){const e=parseInt(o,16);l.stbl.setKey(c.id,e),l.stbl.saveToStorage(l.uuid),n(9,l)}else i.focus()},function(){a!==l.stbl.getValue(c.id)&&(l.setValue(c.id,a),n(9,l))},l,function(e){J[e?"unshift":"push"]((()=>{i=e,n(4,i)}))},function(){o=this.value,n(2,o)},function(){a=this.value,n(3,a)}]}class xi extends Ne{constructor(e){super(),Ae(this,e,vi,$i,i,{project:9,entry:1,selectionGroup:0})}}function wi(e,t,n){const r=e.slice();return r[7]=t[n],r[8]=t,r[9]=n,r}function ki(t){let n;function r(e,t){return 0===e[0].stbl.numEntries?Ci:Si}let s=r(t),o=s(t);return{c(){n=C("div"),o.c(),A(n,"class","w-full text-center py-12 px-4 border-2 border-dashed border-gray-400 dark:border-gray-600 hacker-border-gray")},m(e,t){_(e,n,t),o.m(n,null)},p(e,t){s===(s=r(e))&&o?o.p(e,t):(o.d(1),o=s(e),o&&(o.c(),o.m(n,null)))},i:e,o:e,d(e){e&&S(n),o.d()}}}function _i(e){let t,n,r=[],s=new Map,o=e[2];const a=e=>e[7].id;for(let t=0;t<o.length;t+=1){let n=wi(e,o,t),i=a(n);s.set(i,r[t]=Ei(i,n))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=L()},m(e,s){for(let t=0;t<r.length;t+=1)r[t].m(e,s);_(e,t,s),n=!0},p(e,n){7&n&&(o=e[2],pe(),r=_e(r,n,a,1,e,o,s,t.parentNode,ke,Ei,t,wi),me())},i(e){if(!n){for(let e=0;e<o.length;e+=1)ge(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)be(r[e]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&S(t)}}}function Si(t){let n,r,s;return{c(){n=C("h2"),n.textContent="Nothing to See Here",r=T(),s=C("p"),s.textContent="No strings in this project match your search query.",A(n,"class","text-xl mb-4 text-subtle font-bold"),A(s,"class","text-subtle")},m(e,t){_(e,n,t),_(e,r,t),_(e,s,t)},p:e,d(e){e&&S(n),e&&S(r),e&&S(s)}}}function Ci(t){let n,r,s,o,a,i,l,c,u,d;return{c(){n=C("h2"),n.textContent="This Project is Empty",r=T(),s=C("p"),s.textContent="Add strings with the toolbar in the bottom-right corner.",o=T(),a=C("p"),i=E("Confused? Check out the "),l=C("button"),l.textContent="help menu",c=E("."),A(n,"class","text-xl mb-4 text-subtle font-bold"),A(s,"class","text-subtle mb-2"),A(l,"class","text-secondary underline hover:no-underline"),A(a,"class","text-subtle")},m(e,f){_(e,n,f),_(e,r,f),_(e,s,f),_(e,o,f),_(e,a,f),x(a,i),x(a,l),x(a,c),u||(d=j(l,"click",t[6]),u=!0)},p:e,d(e){e&&S(n),e&&S(r),e&&S(s),e&&S(o),e&&S(a),u=!1,d()}}}function Ei(e,t){let n,r,s,o,a,i;function l(e){t[3](e)}function c(e){t[4](e,t[7],t[8],t[9])}function u(e){t[5](e)}let d={};return void 0!==t[0]&&(d.project=t[0]),void 0!==t[7]&&(d.entry=t[7]),void 0!==t[1]&&(d.selectionGroup=t[1]),r=new xi({props:d}),J.push((()=>Ee(r,"project",l))),J.push((()=>Ee(r,"entry",c))),J.push((()=>Ee(r,"selectionGroup",u))),{key:e,first:null,c(){n=L(),Te(r.$$.fragment),this.first=n},m(e,t){_(e,n,t),Le(r,e,t),i=!0},p(e,n){t=e;const i={};!s&&1&n&&(s=!0,i.project=t[0],se((()=>s=!1))),!o&&4&n&&(o=!0,i.entry=t[7],se((()=>o=!1))),!a&&2&n&&(a=!0,i.selectionGroup=t[1],se((()=>a=!1))),r.$set(i)},i(e){i||(ge(r.$$.fragment,e),i=!0)},o(e){be(r.$$.fragment,e),i=!1},d(e){e&&S(n),je(r,e)}}}function Ti(e){let t,n,r,s;const o=[_i,ki],a=[];function i(e,t){return e[2].length>0?0:1}return t=i(e),n=a[t]=o[t](e),{c(){n.c(),r=L()},m(e,n){a[t].m(e,n),_(e,r,n),s=!0},p(e,[s]){let l=t;t=i(e),t===l?a[t].p(e,s):(pe(),be(a[l],1,1,(()=>{a[l]=null})),me(),n=a[t],n?n.p(e,s):(n=a[t]=o[t](e),n.c()),ge(n,1),n.m(r.parentNode,r))},i(e){s||(ge(n),s=!0)},o(e){be(n),s=!1},d(e){a[t].d(e),e&&S(r)}}}function Li(e,t,n){let{project:r}=t,{selectionGroup:s}=t,{sliceToRender:o}=t;return e.$$set=e=>{"project"in e&&n(0,r=e.project),"selectionGroup"in e&&n(1,s=e.selectionGroup),"sliceToRender"in e&&n(2,o=e.sliceToRender)},[r,s,o,function(e){r=e,n(0,r)},function(e,t,r,s){r[s]=e,n(2,o)},function(e){s=e,n(1,s)},()=>ct.request("help")]}class ji extends Ne{constructor(e){super(),Ae(this,e,Li,Ti,i,{project:0,selectionGroup:1,sliceToRender:2})}}function Ai(t){let n,r,s;return{c(){n=C("textarea"),A(n,"placeholder",t[1]),A(n,"rows","1"),A(n,"class","w-full whitespace-pre-wrap break-words rounded p-2 resize-none overflow-x-hidden overflow-y-hidden bg-gray-75 dark:bg-gray-675 placeholder-gray-500 dark:placeholder-gray-500"),A(n,"tabindex",t[4]),P(n,"w-full",t[2])},m(e,o){_(e,n,o),t[9](n),R(n,t[0]),r||(s=[j(n,"input",t[10]),j(n,"input",Ni),j(n,"keydown",t[6]),j(n,"blur",t[11])],r=!0)},p(e,[t]){2&t&&A(n,"placeholder",e[1]),16&t&&A(n,"tabindex",e[4]),1&t&&R(n,e[0]),4&t&&P(n,"w-full",e[2])},i:e,o:e,d(e){e&&S(n),t[9](null),r=!1,o(s)}}}function Ni(){this.style.height="auto",this.style.height=this.scrollHeight+"px"}function Bi(e,t,n){let r,{value:s=""}=t,{placeholder:o=""}=t,{fillWidth:a=!1}=t,{focusOnMount:i=!1}=t,{onEnter:l=null}=t,{onBlur:c=null}=t,{tabindex:u=0}=t;q((()=>{r.setAttribute("style","height:"+r.scrollHeight+"px;"),Ni.call(r),i&&r.focus()}));return e.$$set=e=>{"value"in e&&n(0,s=e.value),"placeholder"in e&&n(1,o=e.placeholder),"fillWidth"in e&&n(2,a=e.fillWidth),"focusOnMount"in e&&n(7,i=e.focusOnMount),"onEnter"in e&&n(8,l=e.onEnter),"onBlur"in e&&n(3,c=e.onBlur),"tabindex"in e&&n(4,u=e.tabindex)},[s,o,a,c,u,r,function(e){"Enter"===e.key&&!e.shiftKey&&l&&(e.preventDefault(),l(r.value))},i,l,function(e){J[e?"unshift":"push"]((()=>{r=e,n(5,r)}))},function(){s=this.value,n(0,s)},()=>c?.()]}class Ri extends Ne{constructor(e){super(),Ae(this,e,Bi,Ai,i,{value:0,placeholder:1,fillWidth:2,focusOnMount:7,onEnter:8,onBlur:3,tabindex:4})}}function Di(e){let t;return{c(){t=C("div"),t.innerHTML='<div class="select-indicator rounded-full h-4 w-4 border border-solid border-gray-500 dark:border-gray-400 svelte-tesd1w"></div>',A(t,"class","flex items-center")},m(e,n){_(e,t,n)},d(e){e&&S(t)}}}function Pi(e){let t,n;return t=new gi({props:{key:e[2],string:e[3]}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.key=e[2]),8&n&&(r.string=e[3]),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function Ii(e){let t,n,r,s,a,i,l,c,u,d,f,h,p,m,g=e[0].selectMode&&Di(),b=!e[0].selectMode&&Pi(e);function y(t){e[12](t)}let $={placeholder:"Empty string",fillWidth:!0,tabindex:e[0].selectMode?-1:0,onBlur:e[8]};return void 0!==e[3]&&($.value=e[3]),u=new Ri({props:$}),J.push((()=>Ee(u,"value",y))),{c(){t=C("button"),n=C("div"),r=C("div"),g&&g.c(),s=T(),a=C("input"),l=T(),b&&b.c(),c=T(),Te(u.$$.fragment),A(a,"class","bg-transparent text-red-600 dark:text-red-500 placeholder:text-gray-400 dark:placeholder:text-gray-500 monospace rounded p-1 text-sm w-24 svelte-tesd1w"),A(a,"placeholder","0x00000000"),A(a,"type","text"),A(a,"tabindex",i=e[0].selectMode?-1:0),P(a,"valid",e[5]),A(r,"class","w-full flex justify-between mb-2"),A(n,"class","w-full svelte-tesd1w"),A(t,"class","flex flex-col justify-start px-3 py-2 bg-gray-50 dark:bg-gray-700 rounded hacker-border-gray border border-gray-50 dark:border-gray-700 hacker-bg-black svelte-tesd1w"),A(t,"tabindex",f=e[0].selectMode?0:-1),P(t,"selected",e[0].isSelected(e[1])),P(t,"selectable",e[0].selectMode)},m(o,i){_(o,t,i),x(t,n),x(n,r),g&&g.m(r,null),x(r,s),x(r,a),e[10](a),R(a,e[2]),x(r,l),b&&b.m(r,null),x(n,c),Le(u,n,null),h=!0,p||(m=[j(a,"input",e[11]),j(a,"blur",e[7]),j(t,"click",e[6])],p=!0)},p(e,[n]){e[0].selectMode?g||(g=Di(),g.c(),g.m(r,s)):g&&(g.d(1),g=null),(!h||1&n&&i!==(i=e[0].selectMode?-1:0))&&A(a,"tabindex",i),4&n&&a.value!==e[2]&&R(a,e[2]),32&n&&P(a,"valid",e[5]),e[0].selectMode?b&&(pe(),be(b,1,1,(()=>{b=null})),me()):b?(b.p(e,n),1&n&&ge(b,1)):(b=Pi(e),b.c(),ge(b,1),b.m(r,null));const o={};1&n&&(o.tabindex=e[0].selectMode?-1:0),!d&&8&n&&(d=!0,o.value=e[3],se((()=>d=!1))),u.$set(o),(!h||1&n&&f!==(f=e[0].selectMode?0:-1))&&A(t,"tabindex",f),3&n&&P(t,"selected",e[0].isSelected(e[1])),1&n&&P(t,"selectable",e[0].selectMode)},i(e){h||(ge(b),ge(u.$$.fragment,e),h=!0)},o(e){be(b),be(u.$$.fragment,e),h=!1},d(n){n&&S(t),g&&g.d(),e[10](null),b&&b.d(),je(u),p=!1,o(m)}}}function zi(e,t,n){let r;const{formatStringKey:s}=window.S4TK.formatting;let o,a,i,{project:l}=t,{entry:c}=t,{selectionGroup:u}=t;return e.$$set=e=>{"project"in e&&n(9,l=e.project),"entry"in e&&n(1,c=e.entry),"selectionGroup"in e&&n(0,u=e.selectionGroup)},e.$$.update=()=>{4&e.$$.dirty&&n(5,r=null==o||po(o,8)),512&e.$$.dirty&&function(){n(2,o=s(c.key));const e=l.stbl.getValue(c.id);n(3,a=e?.replace(/\\n/g,"\n"))}()},[u,c,o,a,i,r,function(){u.selectMode&&(u.toggleValue(c),n(0,u))},function(){if(n(2,o=o.trim()),r){const e=parseInt(o,16);l.stbl.setKey(c.id,e),l.stbl.saveToStorage(l.uuid),n(9,l)}else i.focus()},function(){a!==l.stbl.getValue(c.id)&&(l.setValue(c.id,a),n(9,l))},l,function(e){J[e?"unshift":"push"]((()=>{i=e,n(4,i)}))},function(){o=this.value,n(2,o)},function(e){a=e,n(3,a)}]}class Mi extends Ne{constructor(e){super(),Ae(this,e,zi,Ii,i,{project:9,entry:1,selectionGroup:0})}}function Oi(e,t,n){const r=e.slice();return r[7]=t[n],r[8]=t,r[9]=n,r}function Fi(t){let n;function r(e,t){return 0===e[0].stbl.numEntries?Wi:Ui}let s=r(t),o=s(t);return{c(){n=C("div"),o.c(),A(n,"class","w-full text-center py-12 px-4 border-2 border-dashed border-gray-400 dark:border-gray-600 hacker-border-gray svelte-6b8yp3")},m(e,t){_(e,n,t),o.m(n,null)},p(e,t){s===(s=r(e))&&o?o.p(e,t):(o.d(1),o=s(e),o&&(o.c(),o.m(n,null)))},i:e,o:e,d(e){e&&S(n),o.d()}}}function Hi(e){let t,n,r=[],s=new Map,o=e[2];const a=e=>e[7].id;for(let t=0;t<o.length;t+=1){let n=Oi(e,o,t),i=a(n);s.set(i,r[t]=Gi(i,n))}return{c(){t=C("div");for(let e=0;e<r.length;e+=1)r[e].c();A(t,"class","grid gap-4 drop-shadow-md svelte-6b8yp3")},m(e,s){_(e,t,s);for(let e=0;e<r.length;e+=1)r[e].m(t,null);n=!0},p(e,n){7&n&&(o=e[2],pe(),r=_e(r,n,a,1,e,o,s,t,ke,Gi,null,Oi),me())},i(e){if(!n){for(let e=0;e<o.length;e+=1)ge(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)be(r[e]);n=!1},d(e){e&&S(t);for(let e=0;e<r.length;e+=1)r[e].d()}}}function Ui(t){let n,r,s;return{c(){n=C("h2"),n.textContent="Nothing to See Here",r=T(),s=C("p"),s.textContent="No strings in this project match your search query.",A(n,"class","text-xl mb-4 text-subtle font-bold"),A(s,"class","text-subtle")},m(e,t){_(e,n,t),_(e,r,t),_(e,s,t)},p:e,d(e){e&&S(n),e&&S(r),e&&S(s)}}}function Wi(t){let n,r,s,o,a,i,l,c,u,d;return{c(){n=C("h2"),n.textContent="This Project is Empty",r=T(),s=C("p"),s.textContent="Add strings with the toolbar in the bottom-right corner.",o=T(),a=C("p"),i=E("Confused? Check out the "),l=C("button"),l.textContent="help menu",c=E("."),A(n,"class","text-xl mb-4 text-subtle font-bold"),A(s,"class","text-subtle mb-2"),A(l,"class","text-secondary underline hover:no-underline"),A(a,"class","text-subtle")},m(e,f){_(e,n,f),_(e,r,f),_(e,s,f),_(e,o,f),_(e,a,f),x(a,i),x(a,l),x(a,c),u||(d=j(l,"click",t[6]),u=!0)},p:e,d(e){e&&S(n),e&&S(r),e&&S(s),e&&S(o),e&&S(a),u=!1,d()}}}function Gi(e,t){let n,r,s,o,a,i;function l(e){t[3](e)}function c(e){t[4](e,t[7],t[8],t[9])}function u(e){t[5](e)}let d={};return void 0!==t[0]&&(d.project=t[0]),void 0!==t[7]&&(d.entry=t[7]),void 0!==t[1]&&(d.selectionGroup=t[1]),r=new Mi({props:d}),J.push((()=>Ee(r,"project",l))),J.push((()=>Ee(r,"entry",c))),J.push((()=>Ee(r,"selectionGroup",u))),{key:e,first:null,c(){n=L(),Te(r.$$.fragment),this.first=n},m(e,t){_(e,n,t),Le(r,e,t),i=!0},p(e,n){t=e;const i={};!s&&1&n&&(s=!0,i.project=t[0],se((()=>s=!1))),!o&&4&n&&(o=!0,i.entry=t[7],se((()=>o=!1))),!a&&2&n&&(a=!0,i.selectionGroup=t[1],se((()=>a=!1))),r.$set(i)},i(e){i||(ge(r.$$.fragment,e),i=!0)},o(e){be(r.$$.fragment,e),i=!1},d(e){e&&S(n),je(r,e)}}}function qi(e){let t,n,r,s;const o=[Hi,Fi],a=[];function i(e,t){return e[2].length>0?0:1}return t=i(e),n=a[t]=o[t](e),{c(){n.c(),r=L()},m(e,n){a[t].m(e,n),_(e,r,n),s=!0},p(e,[s]){let l=t;t=i(e),t===l?a[t].p(e,s):(pe(),be(a[l],1,1,(()=>{a[l]=null})),me(),n=a[t],n?n.p(e,s):(n=a[t]=o[t](e),n.c()),ge(n,1),n.m(r.parentNode,r))},i(e){s||(ge(n),s=!0)},o(e){be(n),s=!1},d(e){a[t].d(e),e&&S(r)}}}function Ki(e,t,n){let{project:r}=t,{selectionGroup:s}=t,{sliceToRender:o}=t;return e.$$set=e=>{"project"in e&&n(0,r=e.project),"selectionGroup"in e&&n(1,s=e.selectionGroup),"sliceToRender"in e&&n(2,o=e.sliceToRender)},[r,s,o,function(e){r=e,n(0,r)},function(e,t,r,s){r[s]=e,n(2,o)},function(e){s=e,n(1,s)},()=>ct.request("help")]}class Vi extends Ne{constructor(e){super(),Ae(this,e,Ki,qi,i,{project:0,selectionGroup:1,sliceToRender:2})}}function Zi(t){let n,r,s,a,i,l,c,u,d,f,h,p;return{c(){n=C("div"),r=C("div"),s=C("p"),s.innerHTML='<span class="font-bold text-red-600 dark:text-red-400">WARNING:</span>\n      Do not edit in JSON mode unless you know what you are doing. (1) You will not\n      be asked to confirm if you want to delete strings, and there is no way to recover\n      them if you do. (2) Changing an entry&#39;s key will delete ALL of its translations.\n      (3) This mode does not autosave; you must click the &quot;Save&quot; button manually.',a=T(),i=C("p"),l=E("Confused about the syntax? Read about it "),c=C("button"),c.textContent="here",u=E("."),d=T(),f=C("textarea"),A(s,"class","text-xs text-subtle"),A(c,"class","text-secondary underline hover:no-underline"),A(i,"class","text-xs text-subtle"),A(r,"class","w-full flex flex-col gap-2"),A(f,"class","w-full resize-none h-80 p-2 rounded monospace text-sm border bg-gray-50 border-gray-400 dark:bg-gray-700 dark:border-gray-900 hacker-border-gray placeholder:text-gray-400 dark:placeholder:text-gray-500"),A(f,"placeholder","Enter JSON content"),A(n,"class","w-full flex flex-col gap-4")},m(e,o){_(e,n,o),x(n,r),x(r,s),x(r,a),x(r,i),x(i,l),x(i,c),x(i,u),x(n,d),x(n,f),R(f,t[0]),h||(p=[j(c,"click",t[3]),j(f,"input",t[4])],h=!0)},p(e,[t]){1&t&&R(f,e[0])},i:e,o:e,d(e){e&&S(n),h=!1,o(p)}}}function Ji(e,t,n){let{project:r}=t;let s=JSON.stringify(r.stbl.getJson(void 0,!0),null,2);return e.$$set=e=>{"project"in e&&n(1,r=e.project)},[s,r,()=>{try{const e=Io(s);return r.replaceEntries(e),n(1,r),!0}catch(e){return console.error(e),alert("Your JSON appears to be malformed and could not be saved. Check the console for error details."),!1}},()=>{ct.request("help","open",{route:"/json"})},function(){s=this.value,n(0,s)}]}class Yi extends Ne{constructor(e){super(),Ae(this,e,Ji,Zi,i,{project:1,saveJson:2})}get saveJson(){return this.$$.ctx[2]}}function Xi(e){let t,n,r,s,o,a,i,l,c,u,d;function f(t){e[8](t)}let h={placeholder:"Same as source language",fillWidth:!0,onBlur:e[4]};return void 0!==e[1]&&(h.value=e[1]),c=new Ri({props:h}),J.push((()=>Ee(c,"value",f))),{c(){t=C("div"),n=C("div"),r=C("p"),s=E(e[2]),o=T(),a=C("p"),a.textContent=`${e[3]?e[3]:"Empty string"}`,i=T(),l=C("div"),Te(c.$$.fragment),A(r,"class","pt-2 text-primary monospace"),r.hidden=e[0],A(a,"class","py-2 flex-1 w-full whitespace-pre-wrap"),P(a,"text-gray-400",!Boolean(e[3])),P(a,"dark:text-gray-500",!Boolean(e[3])),A(l,"class","flex-1 w-full flex items-center mb-2 sm:mb-0"),A(n,"class","flex flex-col sm:flex-row justify-between items-start gap-4"),A(t,"class","w-full flex-0 flex flex-col gap-2 py-2 px-4 first:rounded-t last:rounded-b bg-gray-50 dark:bg-gray-700 hacker-bg-black border border-gray-100 dark:border-gray-800 hacker-border-gray")},m(e,u){_(e,t,u),x(t,n),x(n,r),x(r,s),x(n,o),x(n,a),x(n,i),x(n,l),Le(c,l,null),d=!0},p(e,[t]){(!d||1&t)&&(r.hidden=e[0]),8&t&&P(a,"text-gray-400",!Boolean(e[3])),8&t&&P(a,"dark:text-gray-500",!Boolean(e[3]));const n={};!u&&2&t&&(u=!0,n.value=e[1],se((()=>u=!1))),c.$set(n)},i(e){d||(ge(c.$$.fragment,e),d=!0)},o(e){be(c.$$.fragment,e),d=!1},d(e){e&&S(t),je(c)}}}function Qi(e,t,n){const{formatStringKey:r}=window.S4TK.formatting;let{project:s}=t,{locale:o}=t,{entry:a}=t,{hideKey:i}=t;const l=r(a.key),c=s.stbl.getValue(a.id)?.replace(/\\n/g,"\n")??"";let u;return e.$$set=e=>{"project"in e&&n(5,s=e.project),"locale"in e&&n(6,o=e.locale),"entry"in e&&n(7,a=e.entry),"hideKey"in e&&n(0,i=e.hideKey)},e.$$.update=()=>{96&e.$$.dirty&&n(1,u=s.stbl.getValue(a.id,o)?.replace(/\\n/g,"\n")??"")},[i,u,l,c,function(){u!==s.stbl.getValue(a.id,o)&&(s.setValue(a.id,u,o),n(5,s))},s,o,a,function(e){u=e,n(1,u)}]}class el extends Ne{constructor(e){super(),Ae(this,e,Qi,Xi,i,{project:5,locale:6,entry:7,hideKey:0})}}function tl(e,t,n){const r=e.slice();return r[11]=t[n],r[12]=t,r[13]=n,r}function nl(t){let n;function r(e,t){return 0===e[0].stbl.numEntries?al:0===e[2].length?ol:sl}let s=r(t),o=s(t);return{c(){n=C("div"),o.c(),A(n,"class","w-full text-center py-12 px-4 border-2 border-dashed border-gray-400 dark:border-gray-600 hacker-border-gray")},m(e,t){_(e,n,t),o.m(n,null)},p(e,t){s===(s=r(e))&&o?o.p(e,t):(o.d(1),o=s(e),o&&(o.c(),o.m(n,null)))},i:e,o:e,d(e){e&&S(n),o.d()}}}function rl(e){let t,n,r=[],s=new Map,o=e[2];const a=e=>e[11].id;for(let t=0;t<o.length;t+=1){let n=tl(e,o,t),i=a(n);s.set(i,r[t]=il(i,n))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=L()},m(e,s){for(let t=0;t<r.length;t+=1)r[t].m(e,s);_(e,t,s),n=!0},p(e,n){15&n&&(o=e[2],pe(),r=_e(r,n,a,1,e,o,s,t.parentNode,ke,il,t,tl),me())},i(e){if(!n){for(let e=0;e<o.length;e+=1)ge(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)be(r[e]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&S(t)}}}function sl(t){let n,r,s;return{c(){n=C("h2"),n.textContent="No Languages to Translate",r=T(),s=C("p"),s.textContent="You can only translate to languages that are included in your project.\n        Click the banner at the top of the page to add locales.",A(n,"class","text-xl mb-4 text-subtle font-bold"),A(s,"class","text-subtle")},m(e,t){_(e,n,t),_(e,r,t),_(e,s,t)},p:e,d(e){e&&S(n),e&&S(r),e&&S(s)}}}function ol(t){let n,r,s;return{c(){n=C("h2"),n.textContent="Nothing to See Here",r=T(),s=C("p"),s.textContent="No strings in this project match your search query.",A(n,"class","text-xl mb-4 text-subtle font-bold"),A(s,"class","text-subtle")},m(e,t){_(e,n,t),_(e,r,t),_(e,s,t)},p:e,d(e){e&&S(n),e&&S(r),e&&S(s)}}}function al(t){let n,r,s,o,a,i,l,c,u,d;return{c(){n=C("h2"),n.textContent="This Project is Empty",r=T(),s=C("p"),s.textContent="Add strings with the toolbar in the bottom-right corner.",o=T(),a=C("p"),i=E("Confused? Check out the "),l=C("button"),l.textContent="help menu",c=E("."),A(n,"class","text-xl mb-4 text-subtle font-bold"),A(s,"class","text-subtle mb-2"),A(l,"class","text-secondary underline hover:no-underline"),A(a,"class","text-subtle")},m(e,f){_(e,n,f),_(e,r,f),_(e,s,f),_(e,o,f),_(e,a,f),x(a,i),x(a,l),x(a,c),u||(d=j(l,"click",t[9]),u=!0)},p:e,d(e){e&&S(n),e&&S(r),e&&S(s),e&&S(o),e&&S(a),u=!1,d()}}}function il(e,t){let n,r,s,o,a,i,l;function c(e){t[5](e)}function u(e){t[6](e)}function d(e){t[7](e,t[11],t[12],t[13])}function f(e){t[8](e)}let h={};return void 0!==t[0]&&(h.project=t[0]),void 0!==t[1]&&(h.locale=t[1]),void 0!==t[11]&&(h.entry=t[11]),void 0!==t[3]&&(h.hideKey=t[3]),r=new el({props:h}),J.push((()=>Ee(r,"project",c))),J.push((()=>Ee(r,"locale",u))),J.push((()=>Ee(r,"entry",d))),J.push((()=>Ee(r,"hideKey",f))),{key:e,first:null,c(){n=L(),Te(r.$$.fragment),this.first=n},m(e,t){_(e,n,t),Le(r,e,t),l=!0},p(e,n){t=e;const l={};!s&&1&n&&(s=!0,l.project=t[0],se((()=>s=!1))),!o&&2&n&&(o=!0,l.locale=t[1],se((()=>o=!1))),!a&&4&n&&(a=!0,l.entry=t[11],se((()=>a=!1))),!i&&8&n&&(i=!0,l.hideKey=t[3],se((()=>i=!1))),r.$set(l)},i(e){l||(ge(r.$$.fragment,e),l=!0)},o(e){be(r.$$.fragment,e),l=!1},d(e){e&&S(n),je(r,e)}}}function ll(e){let t,n,r,s;const o=[rl,nl],a=[];function i(e,t){return e[4]&&e[2].length>0?0:1}return t=i(e),n=a[t]=o[t](e),{c(){n.c(),r=L()},m(e,n){a[t].m(e,n),_(e,r,n),s=!0},p(e,[s]){let l=t;t=i(e),t===l?a[t].p(e,s):(pe(),be(a[l],1,1,(()=>{a[l]=null})),me(),n=a[t],n?n.p(e,s):(n=a[t]=o[t](e),n.c()),ge(n,1),n.m(r.parentNode,r))},i(e){s||(ge(n),s=!0)},o(e){be(n),s=!1},d(e){a[t].d(e),e&&S(r)}}}function cl(e,t,n){let r,{project:s}=t,{locale:o}=t,{sliceToRender:a}=t,i=nt.translateHideKeys;const l=[rt.subscribe("translateHideKeys",(e=>{n(3,i=e)}))];K((()=>{l.forEach((e=>e()))}));return e.$$set=e=>{"project"in e&&n(0,s=e.project),"locale"in e&&n(1,o=e.locale),"sliceToRender"in e&&n(2,a=e.sliceToRender)},e.$$.update=()=>{1&e.$$.dirty&&n(4,r=s.stbl.numLocales>1&&s.stbl.numEntries>0)},[s,o,a,i,r,function(e){s=e,n(0,s)},function(e){o=e,n(1,o)},function(e,t,r,s){r[s]=e,n(2,a)},function(e){i=e,n(3,i)},()=>ct.request("help")]}class ul extends Ne{constructor(e){super(),Ae(this,e,cl,ll,i,{project:0,locale:1,sliceToRender:2})}}function dl(e){let t,n,r,s;return{c(){t=C("button"),n=E(e[1]),A(t,"class","svelte-spz8kl")},m(o,a){_(o,t,a),x(t,n),r||(s=j(t,"click",e[15]),r=!0)},p(e,t){2&t&&B(n,e[1])},d(e){e&&S(t),r=!1,s()}}}function fl(e){let t;return{c(){t=C("p"),t.textContent="•••",A(t,"class","dots my-0")},m(e,n){_(e,t,n)},d(e){e&&S(t)}}}function hl(e){let t,n,r,s;return{c(){t=C("button"),n=E(e[3]),A(t,"class","svelte-spz8kl")},m(o,a){_(o,t,a),x(t,n),r||(s=j(t,"click",e[16]),r=!0)},p(e,t){8&t&&B(n,e[3])},d(e){e&&S(t),r=!1,s()}}}function pl(e){let t,n,r,s;return{c(){t=C("button"),n=E(e[5]),A(t,"class","svelte-spz8kl")},m(o,a){_(o,t,a),x(t,n),r||(s=j(t,"click",e[19]),r=!0)},p(e,t){32&t&&B(n,e[5])},d(e){e&&S(t),r=!1,s()}}}function ml(e){let t;return{c(){t=C("p"),t.textContent="•••",A(t,"class","dots my-0")},m(e,n){_(e,t,n)},d(e){e&&S(t)}}}function gl(e){let t,n,r,s;return{c(){t=C("button"),n=E(e[7]),A(t,"class","svelte-spz8kl")},m(o,a){_(o,t,a),x(t,n),r||(s=j(t,"click",e[20]),r=!0)},p(e,t){128&t&&B(n,e[7])},d(e){e&&S(t),r=!1,s()}}}function bl(t){let n,r,s,a,i,l,c,u,d,f,h,p=t[1]&&dl(t),m=t[2]&&fl(),g=t[3]&&hl(t),b=t[5]&&pl(t),y=t[6]&&ml(),$=t[7]&&gl(t);return{c(){n=C("div"),p&&p.c(),r=T(),m&&m.c(),s=T(),g&&g.c(),a=T(),i=C("input"),c=T(),b&&b.c(),u=T(),y&&y.c(),d=T(),$&&$.c(),A(i,"class","placeholder:text-gray-400 dark:placeholder:text-gray-500 svelte-spz8kl"),A(i,"type","number"),A(i,"placeholder","#"),i.hidden=l=t[8]<=1,A(n,"class","fixed left-6 bottom-6 z-10 flex items-center gap-2")},m(e,o){_(e,n,o),p&&p.m(n,null),x(n,r),m&&m.m(n,null),x(n,s),g&&g.m(n,null),x(n,a),x(n,i),t[17](i),R(i,t[4]),x(n,c),b&&b.m(n,null),x(n,u),y&&y.m(n,null),x(n,d),$&&$.m(n,null),f||(h=[j(i,"input",t[18]),j(i,"change",t[10])],f=!0)},p(e,[t]){e[1]?p?p.p(e,t):(p=dl(e),p.c(),p.m(n,r)):p&&(p.d(1),p=null),e[2]?m||(m=fl(),m.c(),m.m(n,s)):m&&(m.d(1),m=null),e[3]?g?g.p(e,t):(g=hl(e),g.c(),g.m(n,a)):g&&(g.d(1),g=null),256&t&&l!==(l=e[8]<=1)&&(i.hidden=l),16&t&&N(i.value)!==e[4]&&R(i,e[4]),e[5]?b?b.p(e,t):(b=pl(e),b.c(),b.m(n,u)):b&&(b.d(1),b=null),e[6]?y||(y=ml(),y.c(),y.m(n,d)):y&&(y.d(1),y=null),e[7]?$?$.p(e,t):($=gl(e),$.c(),$.m(n,null)):$&&($.d(1),$=null)},i:e,o:e,d(e){e&&S(n),p&&p.d(),m&&m.d(),g&&g.d(),t[17](null),b&&b.d(),y&&y.d(),$&&$.d(),f=!1,o(h)}}}function yl(e,t,n){let r,s,o,a,i,l,c,{items:u}=t,{onSliceUpdate:d}=t,f=1,h=!1,p=f,m=!1;function g(){n(14,c=nt.showAllStrings?Number.MAX_SAFE_INTEGER:nt.entriesPerPage)}g();const b=[rt.subscribe("showAllStrings",g),rt.subscribe("entriesPerPage",g),Qt("ArrowRight",(()=>{f<r&&(n(13,f++,f),n(4,p=f))}),{ctrlOrMeta:!0,preventDefault:!0}),Qt("ArrowLeft",(()=>{f>1&&(n(13,f--,f),n(4,p=f))}),{ctrlOrMeta:!0,preventDefault:!0}),Qt("p",(()=>{s.focus()}),{ctrlOrMeta:!0,preventDefault:!0})];function y(e){n(4,p=e),n(13,f=e)}K((()=>{b.forEach((e=>e()))}));return e.$$set=e=>{"items"in e&&n(11,u=e.items),"onSliceUpdate"in e&&n(12,d=e.onSliceUpdate)},e.$$.update=()=>{18432&e.$$.dirty&&n(8,r=Math.ceil(u.length/c)),26624&e.$$.dirty&&async function(){if(0===u.length)return n(1,o=null),n(3,a=null),n(5,i=null),n(7,l=null),n(2,h=!1),n(6,m=!1),void d(u);f>r&&(n(4,p=r),n(13,f=r)),n(1,o=f>1?1:null),n(3,a=f>2?f-1:null),n(2,h=!(!o||!a)&&o<a-1),n(5,i=f<r-1?f+1:null),n(7,l=f<r?r:null),n(6,m=!(!i||!l)&&l>i+1);const e=(f-1)*c,t=Math.min(e+c,u.length+1),s=u.slice(e,t);d(s)}()},[s,o,h,a,p,i,m,l,r,y,function(){!p||p<1?n(4,p=1):p>r&&n(4,p=r),n(13,f=p)},u,d,f,c,()=>y(o),()=>y(a),function(e){J[e?"unshift":"push"]((()=>{s=e,n(0,s)}))},function(){p=N(this.value),n(4,p)},()=>y(i),()=>y(l)]}class $l extends Ne{constructor(e){super(),Ae(this,e,yl,bl,i,{items:11,onSliceUpdate:12})}}var vl,xl;function wl(e){return Object.values(e).filter((e=>"number"==typeof e)).map((t=>({value:t,text:e[t].replace(/([A-Z])/g," $1").trim()})))}!function(e){e[e.Chronological=0]="Chronological",e[e.Alphanumeric=1]="Alphanumeric",e[e.ReverseAlphanumeric=2]="ReverseAlphanumeric"}(vl||(vl={})),function(e){e[e.Contains=0]="Contains",e[e.ExactMatch=1]="ExactMatch",e[e.BeginsWith=2]="BeginsWith",e[e.EndsWith=3]="EndsWith",e[e.Regex=4]="Regex",e[e.KeyEquals=5]="KeyEquals"}(xl||(xl={}));const kl=wl(vl),_l=wl(xl);function Sl(e,t,n,r){return Cl(e,function(e,t,n){let r=t;return n.forEach((t=>{r=r.filter((n=>function(e,t,n){try{if(n.type===xl.KeyEquals){return e===parseInt(n.text,16)}if(n.type===xl.Regex){return new RegExp(n.text).test(t)}{const e=t.toLowerCase(),r=n.text.toLowerCase();switch(n.type){case xl.Contains:return e.includes(r);case xl.ExactMatch:return e===r;case xl.BeginsWith:return e.startsWith(r);case xl.EndsWith:return e.endsWith(r);default:return!0}}}catch(e){return!1}}(n.key,n.values.get(e),t)))})),r}(e,t,r),n)}function Cl(e,t,n){switch(n){case vl.Alphanumeric:return[...t].sort(((t,n)=>{const r=t.values.get(e).toLowerCase(),s=n.values.get(e).toLowerCase();return r<s?-1:r>s?1:0}));case vl.ReverseAlphanumeric:return Cl(e,t,vl.Alphanumeric).reverse();default:return t}}function El(e,t,n){const r=e.slice();return r[13]=t[n],r[14]=t,r[15]=n,r}function Tl(e){let t;return{c(){t=C("p"),t.innerHTML='<span class="font-bold text-red-600 dark:text-red-400">WARNING:</span>\n          Larger projects might lag or freeze.',A(t,"class","text-xs text-red-600 dark:text-red-400")},m(e,n){_(e,t,n)},d(e){e&&S(t)}}}function Ll(e,t){let n,r,s,o,a,i,l,c,u,d,f;function h(e){t[10](e,t[13])}let p={name:"filter-select-"+t[15],options:_l};function m(e){t[11](e,t[13])}void 0!==t[13].type&&(p.selected=t[13].type),r=new er({props:p}),J.push((()=>Ee(r,"selected",h)));let g={name:"filter-input-"+t[15],placeholder:"Text...",fillWidth:!0};function b(){return t[12](t[15])}return void 0!==t[13].text&&(g.value=t[13].text),a=new bn({props:g}),J.push((()=>Ee(a,"value",m))),{key:e,first:null,c(){n=C("div"),Te(r.$$.fragment),o=T(),Te(a.$$.fragment),l=T(),c=C("button"),c.textContent="×",A(c,"class","font-bold"),A(n,"class","flex items-center gap-2 mb-2"),this.first=n},m(e,t){_(e,n,t),Le(r,n,null),x(n,o),Le(a,n,null),x(n,l),x(n,c),u=!0,d||(f=j(c,"click",b),d=!0)},p(e,n){t=e;const o={};1&n&&(o.name="filter-select-"+t[15]),!s&&1&n&&(s=!0,o.selected=t[13].type,se((()=>s=!1))),r.$set(o);const l={};1&n&&(l.name="filter-input-"+t[15]),!i&&1&n&&(i=!0,l.value=t[13].text,se((()=>i=!1))),a.$set(l)},i(e){u||(ge(r.$$.fragment,e),ge(a.$$.fragment,e),u=!0)},o(e){be(r.$$.fragment,e),be(a.$$.fragment,e),u=!1},d(e){e&&S(n),je(r),je(a),d=!1,f()}}}function jl(e){let t,n,r,s,a,i,l,c,u,d,f,h,p,m,g,b,y,$,v,w,k,E,L,B,D,P,I,z=[],M=new Map;function O(t){e[8](t)}let F={label:"Show All"};void 0!==e[2].showAllStrings&&(F.checked=e[2].showAllStrings),f=new Jt({props:F}),J.push((()=>Ee(f,"checked",O)));let H=e[2].showAllStrings&&Tl();function U(t){e[9](t)}let W={label:"sort order",name:"entries-sort-order-select",fillWidth:!0,options:kl};void 0!==e[2].sortOrder&&(W.selected=e[2].sortOrder),b=new er({props:W}),J.push((()=>Ee(b,"selected",U)));let G=e[0];const q=e=>e[15];for(let t=0;t<G.length;t+=1){let n=El(e,G,t),r=q(n);M.set(r,z[t]=Ll(r,n))}return{c(){t=C("div"),n=C("div"),r=C("div"),s=C("label"),s.textContent="entries per page",a=T(),i=C("div"),l=C("div"),c=C("input"),d=T(),Te(f.$$.fragment),p=T(),H&&H.c(),m=T(),g=C("div"),Te(b.$$.fragment),$=T(),v=C("div"),w=C("p"),w.textContent="Filter / Search",k=T();for(let e=0;e<z.length;e+=1)z[e].c();E=T(),L=C("div"),B=C("button"),B.innerHTML='<img src="./assets/plus.svg" class="svg hover:svg-invert h-4" alt="+"/>Add Filter',A(s,"for","entries-per-page-input"),A(s,"class","uppercase text-xs font-bold text-subtle"),c.disabled=u=e[2].showAllStrings,A(c,"class","w-full block h-10 px-2 mt-2 rounded text-sm placeholder-gray-500 dark:placeholder-gray-500 bg-transparent border border-gray-600 dark:border-gray-400"),A(c,"name","entries-per-page-input"),A(c,"min","1"),A(c,"max","100"),A(c,"type","number"),A(c,"placeholder","#"),A(l,"class","w-full"),A(i,"class","flex gap-6 justify-between items-center"),A(n,"class","flex flex-col gap-3"),A(w,"class","uppercase text-subtle text-xs font-bold mb-2"),A(B,"class","flex justify-center items-center gap-2 py-2 px-4 text-sm rounded default-button"),A(L,"class","w-full flex justify-center"),A(t,"class","flex flex-col gap-4")},m(o,u){_(o,t,u),x(t,n),x(n,r),x(r,s),x(r,a),x(r,i),x(i,l),x(l,c),R(c,e[3]),x(i,d),Le(f,i,null),x(n,p),H&&H.m(n,null),x(t,m),x(t,g),Le(b,g,null),x(t,$),x(t,v),x(v,w),x(v,k);for(let e=0;e<z.length;e+=1)z[e].m(v,null);x(v,E),x(v,L),x(L,B),D=!0,P||(I=[j(c,"input",e[7]),j(c,"blur",e[4]),j(B,"click",e[5])],P=!0)},p(e,t){(!D||4&t&&u!==(u=e[2].showAllStrings))&&(c.disabled=u),8&t&&N(c.value)!==e[3]&&R(c,e[3]);const r={};!h&&4&t&&(h=!0,r.checked=e[2].showAllStrings,se((()=>h=!1))),f.$set(r),e[2].showAllStrings?H||(H=Tl(),H.c(),H.m(n,null)):H&&(H.d(1),H=null);const s={};!y&&4&t&&(y=!0,s.selected=e[2].sortOrder,se((()=>y=!1))),b.$set(s),65&t&&(G=e[0],pe(),z=_e(z,t,q,1,e,G,M,v,ke,Ll,E,El),me())},i(e){if(!D){ge(f.$$.fragment,e),ge(b.$$.fragment,e);for(let e=0;e<G.length;e+=1)ge(z[e]);D=!0}},o(e){be(f.$$.fragment,e),be(b.$$.fragment,e);for(let e=0;e<z.length;e+=1)be(z[e]);D=!1},d(e){e&&S(t),je(f),H&&H.d(),je(b);for(let e=0;e<z.length;e+=1)z[e].d();P=!1,o(I)}}}function Al(e){let t,n;return t=new yt({props:{title:"Display Options",onClose:e[1],$$slots:{default:[jl]},$$scope:{ctx:e}}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.onClose=e[1]),65549&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function Nl(e,t,n){let{onClose:r}=t,{filters:s=[]}=t,o=nt.entriesPerPage;function a(e){s.splice(e,1),n(0,s)}return e.$$set=e=>{"onClose"in e&&n(1,r=e.onClose),"filters"in e&&n(0,s=e.filters)},[s,r,nt,o,function(){o<1?n(3,o=1):o>100&&n(3,o=100),n(2,nt.entriesPerPage=o,nt)},function(){s.push({type:0,text:""}),n(0,s)},a,function(){o=N(this.value),n(3,o)},function(t){e.$$.not_equal(nt.showAllStrings,t)&&(nt.showAllStrings=t,n(2,nt))},function(t){e.$$.not_equal(nt.sortOrder,t)&&(nt.sortOrder=t,n(2,nt))},function(t,r){e.$$.not_equal(r.type,t)&&(r.type=t,n(0,s))},function(t,r){e.$$.not_equal(r.text,t)&&(r.text=t,n(0,s))},e=>a(e)]}class Bl extends Ne{constructor(e){super(),Ae(this,e,Nl,Al,i,{onClose:1,filters:0})}}function Rl(e,t,n){const r=e.slice();return r[4]=t[n],r[6]=n,r}function Dl(t){let n;return{c(){n=C("div"),n.innerHTML='<p>There are no warnings for this project.</p> \n        <p class="text-xs text-subtle mt-4">Congrats, you fixed &#39;em.</p>',A(n,"class","text-center my-auto")},m(e,t){_(e,n,t)},p:e,d(e){e&&S(n)}}}function Pl(e){let t,n,r,s=[],o=new Map;function a(e,t){return 1===e[0].length?zl:Il}let i=a(e),l=i(e),c=e[0];const u=e=>e[6];for(let t=0;t<c.length;t+=1){let n=Rl(e,c,t),r=u(n);o.set(r,s[t]=Ml(r,n))}return{c(){t=C("div"),l.c(),n=T(),r=C("ul");for(let e=0;e<s.length;e+=1)s[e].c();A(r,"class","list-disc pl-4 mt-2")},m(e,o){_(e,t,o),l.m(t,null),x(t,n),x(t,r);for(let e=0;e<s.length;e+=1)s[e].m(r,null)},p(e,d){i===(i=a(e))&&l?l.p(e,d):(l.d(1),l=i(e),l&&(l.c(),l.m(t,n))),5&d&&(c=e[0],s=_e(s,d,u,1,e,c,o,r,we,Ml,null,Rl))},d(e){e&&S(t),l.d();for(let e=0;e<s.length;e+=1)s[e].d()}}}function Il(e){let t,n,r,s=e[0].length+"";return{c(){t=C("p"),n=E(s),r=E(" warnings were found:")},m(e,s){_(e,t,s),x(t,n),x(t,r)},p(e,t){1&t&&s!==(s=e[0].length+"")&&B(n,s)},d(e){e&&S(t)}}}function zl(t){let n;return{c(){n=C("p"),n.textContent="1 warning was found:"},m(e,t){_(e,n,t)},p:e,d(e){e&&S(n)}}}function Ml(e,t){let n,r,s,o,a,i,l,c,u,d,f,h,p,m=t[4].message+"",g=t[4].idList.length+"",b=1===t[4].idList.length?"entry":"entries",y=t[4].keyList.map(t[3]).join(", ")+"";return{key:e,first:null,c(){n=C("li"),r=C("p"),s=E(m),o=T(),a=C("p"),i=E("Found in "),l=E(g),c=T(),u=E(b),d=E(": ["),f=E(y),h=E("]"),p=T(),A(r,"class","font-bold text-sm mb-1"),A(a,"class","text-xs text-subtle"),A(n,"class","px-2 mb-2"),this.first=n},m(e,t){_(e,n,t),x(n,r),x(r,s),x(n,o),x(n,a),x(a,i),x(a,l),x(a,c),x(a,u),x(a,d),x(a,f),x(a,h),x(n,p)},p(e,n){t=e,1&n&&m!==(m=t[4].message+"")&&B(s,m),1&n&&g!==(g=t[4].idList.length+"")&&B(l,g),1&n&&b!==(b=1===t[4].idList.length?"entry":"entries")&&B(u,b),1&n&&y!==(y=t[4].keyList.map(t[3]).join(", ")+"")&&B(f,y)},d(e){e&&S(n)}}}function Ol(e){let t;function n(e,t){return e[0].length>0?Pl:Dl}let r=n(e),s=r(e);return{c(){t=C("div"),s.c(),A(t,"class","flex-1 flex flex-col gap-4")},m(e,n){_(e,t,n),s.m(t,null)},p(e,o){r===(r=n(e))&&s?s.p(e,o):(s.d(1),s=r(e),s&&(s.c(),s.m(t,null)))},d(e){e&&S(t),s.d()}}}function Fl(e){let t,n;return t=new yt({props:{title:"Warnings",onClose:e[1],$$slots:{default:[Ol]},$$scope:{ctx:e}}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.onClose=e[1]),129&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function Hl(e,t,n){const{formatStringKey:r}=window.S4TK.formatting;let{warnings:s}=t,{onClose:o}=t;return e.$$set=e=>{"warnings"in e&&n(0,s=e.warnings),"onClose"in e&&n(1,o=e.onClose)},[s,o,r,e=>r(e)]}class Ul extends Ne{constructor(e){super(),Ae(this,e,Hl,Fl,i,{warnings:0,onClose:1})}}function Wl(e,t,n){const r=e.slice();return r[41]=t[n],r[43]=n,r}function Gl(e,t){let n,r,s,o,a,i;function l(){return t[18](t[43])}return{key:e,first:null,c(){n=C("button"),r=C("img"),o=T(),A(r,"class","svg h-4 svelte-1wyxk7p"),c(r.src,s="./assets/"+t[41].icon+".svg")||A(r,"src",s),A(r,"alt",t[41].name),A(n,"class","flex items-center justify-center p-2 rounded-full border border-gray-400 dark:border-gray-500 hacker-border-gray hover:bg-gray-300 hover:dark:bg-gray-700 hover:hacker-bg-gray svelte-1wyxk7p"),A(n,"title",t[41].name),P(n,"active",t[43]===t[4]),this.first=n},m(e,t){_(e,n,t),x(n,r),x(n,o),a||(i=j(n,"click",l),a=!0)},p(e,r){t=e,65552&r[0]&&P(n,"active",t[43]===t[4])},d(e){e&&S(n),a=!1,i()}}}function ql(e){let t,n,r,s,o;function a(t){e[22](t)}function i(t){e[23](t)}let l={label:"translating to",alignRight:!0};return void 0!==e[6]&&(l.selected=e[6]),void 0!==e[7]&&(l.localesToChoose=e[7]),n=new ir({props:l}),J.push((()=>Ee(n,"selected",a))),J.push((()=>Ee(n,"localesToChoose",i))),{c(){t=C("div"),Te(n.$$.fragment),A(t,"class","mt-4 sm:mt-0")},m(e,r){_(e,t,r),Le(n,t,null),o=!0},p(e,t){const o={};!r&&64&t[0]&&(r=!0,o.selected=e[6],se((()=>r=!1))),!s&&128&t[0]&&(s=!0,o.localesToChoose=e[7],se((()=>s=!1))),n.$set(o)},i(e){o||(ge(n.$$.fragment,e),o=!0)},o(e){be(n.$$.fragment,e),o=!1},d(e){e&&S(t),je(n)}}}function Kl(t){let n,r,s,o,a,i,l=t[11]?"Saved!":"Save";return{c(){n=C("button"),r=C("img"),o=E(l),A(r,"class","h-4"),c(r.src,s="./assets/save-outline.svg")||A(r,"src","./assets/save-outline.svg"),A(r,"alt","Save"),n.disabled=t[11],A(n,"class","flex mt-4 sm:mt-0 justify-center items-center text-sm gap-2 rounded py-1 w-24 default-button border border-black dark:border-white hacker-border-gray"),P(n,"cursor-not-allowed",t[11])},m(e,s){_(e,n,s),x(n,r),x(n,o),a||(i=j(n,"click",t[17]),a=!0)},p(e,t){2048&t[0]&&l!==(l=e[11]?"Saved!":"Save")&&B(o,l),2048&t[0]&&(n.disabled=e[11]),2048&t[0]&&P(n,"cursor-not-allowed",e[11])},i:e,o:e,d(e){e&&S(n),a=!1,i()}}}function Vl(e){let t,n,r,s,o,a,i,l,c,u=e[13].length>0&&Zl(e);function d(t){e[21](t)}let f={disabled:0===e[8].length};return void 0!==e[1]&&(f.selectionGroup=e[1]),o=new Ba({props:f}),J.push((()=>Ee(o,"selectionGroup",d))),{c(){t=C("div"),u&&u.c(),n=T(),r=C("button"),r.textContent="DISPLAY",s=T(),Te(o.$$.fragment),A(r,"class","text-sm hover:text-subtle"),A(t,"class","flex justify-center gap-4")},m(a,d){_(a,t,d),u&&u.m(t,null),x(t,n),x(t,r),x(t,s),Le(o,t,null),i=!0,l||(c=j(r,"click",e[20]),l=!0)},p(e,r){e[13].length>0?u?u.p(e,r):(u=Zl(e),u.c(),u.m(t,n)):u&&(u.d(1),u=null);const s={};256&r[0]&&(s.disabled=0===e[8].length),!a&&2&r[0]&&(a=!0,s.selectionGroup=e[1],se((()=>a=!1))),o.$set(s)},i(e){i||(ge(o.$$.fragment,e),i=!0)},o(e){be(o.$$.fragment,e),i=!1},d(e){e&&S(t),u&&u.d(),je(o),l=!1,c()}}}function Zl(e){let t,n,r,s,o,a,i=e[13].length+"";return{c(){t=C("button"),n=E("WARNINGS ("),r=E(i),s=E(")"),A(t,"class","text-sm text-red-600 hover:text-red-500 dark:text-red-400 dark:hover:text-red-300")},m(i,l){_(i,t,l),x(t,n),x(t,r),x(t,s),o||(a=j(t,"click",e[19]),o=!0)},p(e,t){8192&t[0]&&i!==(i=e[13].length+"")&&B(r,i)},d(e){e&&S(t),o=!1,a()}}}function Jl(e){let t,n,r,s,o;function a(t){e[24](t)}let i={label:"Hide String Keys"};return void 0!==e[2].translateHideKeys&&(i.checked=e[2].translateHideKeys),r=new Jt({props:i}),J.push((()=>Ee(r,"checked",a))),{c(){t=C("div"),n=C("div"),Te(r.$$.fragment),A(n,"class","max-w-min whitespace-nowrap"),A(t,"class","mt-4 flex flex-wrap sm:flex-nowrap gap-4 sm:gap-8")},m(e,s){_(e,t,s),x(t,n),Le(r,n,null),o=!0},p(e,t){const n={};!s&&4&t[0]&&(s=!0,n.checked=e[2].translateHideKeys,se((()=>s=!1))),r.$set(n)},i(e){o||(ge(r.$$.fragment,e),o=!0)},o(e){be(r.$$.fragment,e),o=!1},d(e){e&&S(t),je(r)}}}function Yl(e){let t,n,r,s,o,a,i,l,c,u,d=e[8].length+"",f=e[0].stbl.numEntries+"";return{c(){t=C("div"),n=C("p"),r=E("Showing "),s=E(d),o=E(" of "),a=E(f),i=E(" entries.\n        "),l=C("button"),l.textContent="Clear Filters",A(l,"class","text-secondary underline hover:no-underline"),A(n,"class","text-xs text-subtle"),A(t,"class","mt-4")},m(d,f){_(d,t,f),x(t,n),x(n,r),x(n,s),x(n,o),x(n,a),x(n,i),x(n,l),c||(u=j(l,"click",e[25]),c=!0)},p(e,t){256&t[0]&&d!==(d=e[8].length+"")&&B(s,d),1&t[0]&&f!==(f=e[0].stbl.numEntries+"")&&B(a,f)},d(e){e&&S(t),c=!1,u()}}}function Xl(e){let t,n,r,s,o,a;function i(t){e[31](t)}function l(t){e[32](t)}function c(t){e[33](t)}var u=e[5].component;function d(e){let t={};return void 0!==e[0]&&(t.project=e[0]),void 0!==e[1]&&(t.selectionGroup=e[1]),void 0!==e[9]&&(t.sliceToRender=e[9]),{props:t}}return u&&(t=new u(d(e)),J.push((()=>Ee(t,"project",i))),J.push((()=>Ee(t,"selectionGroup",l))),J.push((()=>Ee(t,"sliceToRender",c)))),{c(){t&&Te(t.$$.fragment),o=L()},m(e,n){t&&Le(t,e,n),_(e,o,n),a=!0},p(e,a){const f={};if(!n&&1&a[0]&&(n=!0,f.project=e[0],se((()=>n=!1))),!r&&2&a[0]&&(r=!0,f.selectionGroup=e[1],se((()=>r=!1))),!s&&512&a[0]&&(s=!0,f.sliceToRender=e[9],se((()=>s=!1))),u!==(u=e[5].component)){if(t){pe();const e=t;be(e.$$.fragment,1,0,(()=>{je(e,1)})),me()}u?(t=new u(d(e)),J.push((()=>Ee(t,"project",i))),J.push((()=>Ee(t,"selectionGroup",l))),J.push((()=>Ee(t,"sliceToRender",c))),Te(t.$$.fragment),ge(t.$$.fragment,1),Le(t,o.parentNode,o)):t=null}else u&&t.$set(f)},i(e){a||(t&&ge(t.$$.fragment,e),a=!0)},o(e){t&&be(t.$$.fragment,e),a=!1},d(e){e&&S(o),t&&je(t,e)}}}function Ql(e){let t,n,r,s,o,a;function i(t){e[28](t)}function l(t){e[29](t)}function c(t){e[30](t)}var u=e[5].component;function d(e){let t={};return void 0!==e[0]&&(t.project=e[0]),void 0!==e[6]&&(t.locale=e[6]),void 0!==e[9]&&(t.sliceToRender=e[9]),{props:t}}return u&&(t=new u(d(e)),J.push((()=>Ee(t,"project",i))),J.push((()=>Ee(t,"locale",l))),J.push((()=>Ee(t,"sliceToRender",c)))),{c(){t&&Te(t.$$.fragment),o=L()},m(e,n){t&&Le(t,e,n),_(e,o,n),a=!0},p(e,a){const f={};if(!n&&1&a[0]&&(n=!0,f.project=e[0],se((()=>n=!1))),!r&&64&a[0]&&(r=!0,f.locale=e[6],se((()=>r=!1))),!s&&512&a[0]&&(s=!0,f.sliceToRender=e[9],se((()=>s=!1))),u!==(u=e[5].component)){if(t){pe();const e=t;be(e.$$.fragment,1,0,(()=>{je(e,1)})),me()}u?(t=new u(d(e)),J.push((()=>Ee(t,"project",i))),J.push((()=>Ee(t,"locale",l))),J.push((()=>Ee(t,"sliceToRender",c))),Te(t.$$.fragment),ge(t.$$.fragment,1),Le(t,o.parentNode,o)):t=null}else u&&t.$set(f)},i(e){a||(t&&ge(t.$$.fragment,e),a=!0)},o(e){t&&be(t.$$.fragment,e),a=!1},d(e){e&&S(o),t&&je(t,e)}}}function ec(e){let t,n,r,s,o;function a(t){e[26](t)}function i(t){e[27](t)}var l=e[5].component;function c(e){let t={};return void 0!==e[0]&&(t.project=e[0]),void 0!==e[10]&&(t.saveJson=e[10]),{props:t}}return l&&(t=new l(c(e)),J.push((()=>Ee(t,"project",a))),J.push((()=>Ee(t,"saveJson",i)))),{c(){t&&Te(t.$$.fragment),s=L()},m(e,n){t&&Le(t,e,n),_(e,s,n),o=!0},p(e,o){const u={};if(!n&&1&o[0]&&(n=!0,u.project=e[0],se((()=>n=!1))),!r&&1024&o[0]&&(r=!0,u.saveJson=e[10],se((()=>r=!1))),l!==(l=e[5].component)){if(t){pe();const e=t;be(e.$$.fragment,1,0,(()=>{je(e,1)})),me()}l?(t=new l(c(e)),J.push((()=>Ee(t,"project",a))),J.push((()=>Ee(t,"saveJson",i))),Te(t.$$.fragment),ge(t.$$.fragment,1),Le(t,s.parentNode,s)):t=null}else l&&t.$set(u)},i(e){o||(t&&ge(t.$$.fragment,e),o=!0)},o(e){t&&be(t.$$.fragment,e),o=!1},d(e){e&&S(s),t&&je(t,e)}}}function tc(e){let t,n,r;function s(t){e[37](t)}let o={onClose:e[36]};return void 0!==e[3]&&(o.filters=e[3]),t=new Bl({props:o}),J.push((()=>Ee(t,"filters",s))),{c(){Te(t.$$.fragment)},m(e,n){Le(t,e,n),r=!0},p(e,r){const s={};16384&r[0]&&(s.onClose=e[36]),!n&&8&r[0]&&(n=!0,s.filters=e[3],se((()=>n=!1))),t.$set(s)},i(e){r||(ge(t.$$.fragment,e),r=!0)},o(e){be(t.$$.fragment,e),r=!1},d(e){je(t,e)}}}function nc(e){let t,n,r;function s(t){e[39](t)}let o={onClose:e[38]};return void 0!==e[13]&&(o.warnings=e[13]),t=new Ul({props:o}),J.push((()=>Ee(t,"warnings",s))),{c(){Te(t.$$.fragment)},m(e,n){Le(t,e,n),r=!0},p(e,r){const s={};4096&r[0]&&(s.onClose=e[38]),!n&&8192&r[0]&&(n=!0,s.warnings=e[13],se((()=>n=!1))),t.$set(s)},i(e){r||(ge(t.$$.fragment,e),r=!0)},o(e){be(t.$$.fragment,e),r=!1},d(e){je(t,e)}}}function rc(e){let t,n,r,s,o,a,i,l,c,u,d,f,h,p,m,g,b,y,$,v,w,k,j,N,R,D,P=e[5].name+"",I=[],z=new Map,M=e[16];const O=e=>e[43];for(let t=0;t<M.length;t+=1){let n=Wl(e,M,t),r=O(n);z.set(r,I[t]=Gl(r,n))}const F=[Vl,Kl,ql],H=[];function U(e,t){return"selectable"===e[5].utilities?0:"json"===e[5].utilities?1:"translate"===e[5].utilities&&e[0].metaData.numLocales>1?2:-1}~(d=U(e))&&(f=H[d]=F[d](e));let W="translate"===e[5].utilities&&e[0].metaData.numLocales>1&&Jl(e),G=e[3].length>0&&Yl(e);const q=[ec,Ql,Xl],K=[];function V(e,t){return"json"===e[5].utilities?0:"translate"===e[5].utilities?1:2}function Z(t){e[35](t)}b=V(e),y=K[b]=q[b](e);let Y={onSliceUpdate:e[34]};void 0!==e[8]&&(Y.items=e[8]),w=new $l({props:Y}),J.push((()=>Ee(w,"items",Z)));let X=e[14]&&tc(e),Q=e[12]&&nc(e);return{c(){t=C("div"),n=C("div"),r=C("div"),s=C("p"),o=E(P),a=E(" VIEW"),i=T(),l=C("div");for(let e=0;e<I.length;e+=1)I[e].c();c=T(),u=C("div"),f&&f.c(),h=T(),W&&W.c(),p=T(),G&&G.c(),m=T(),g=C("div"),y.c(),$=T(),v=C("div"),Te(w.$$.fragment),j=T(),X&&X.c(),N=T(),Q&&Q.c(),R=L(),A(s,"class","text-subtle text-sm uppercase font-bold"),A(l,"class","flex gap-2"),A(r,"class","flex flex-col gap-2"),A(u,"class","mt-4 sm:mt-4"),A(n,"class","w-full flex justify-between sm:items-center flex-wrap sm:flex-nowrap flex-col sm:flex-row"),A(g,"class","w-full mt-8"),v.hidden=e[15]},m(e,f){_(e,t,f),x(t,n),x(n,r),x(r,s),x(s,o),x(s,a),x(r,i),x(r,l);for(let e=0;e<I.length;e+=1)I[e].m(l,null);x(n,c),x(n,u),~d&&H[d].m(u,null),x(t,h),W&&W.m(t,null),x(t,p),G&&G.m(t,null),x(t,m),x(t,g),K[b].m(g,null),_(e,$,f),_(e,v,f),Le(w,v,null),_(e,j,f),X&&X.m(e,f),_(e,N,f),Q&&Q.m(e,f),_(e,R,f),D=!0},p(e,n){(!D||32&n[0])&&P!==(P=e[5].name+"")&&B(o,P),65552&n[0]&&(M=e[16],I=_e(I,n,O,1,e,M,z,l,we,Gl,null,Wl));let r=d;d=U(e),d===r?~d&&H[d].p(e,n):(f&&(pe(),be(H[r],1,1,(()=>{H[r]=null})),me()),~d?(f=H[d],f?f.p(e,n):(f=H[d]=F[d](e),f.c()),ge(f,1),f.m(u,null)):f=null),"translate"===e[5].utilities&&e[0].metaData.numLocales>1?W?(W.p(e,n),33&n[0]&&ge(W,1)):(W=Jl(e),W.c(),ge(W,1),W.m(t,p)):W&&(pe(),be(W,1,1,(()=>{W=null})),me()),e[3].length>0?G?G.p(e,n):(G=Yl(e),G.c(),G.m(t,m)):G&&(G.d(1),G=null);let s=b;b=V(e),b===s?K[b].p(e,n):(pe(),be(K[s],1,1,(()=>{K[s]=null})),me(),y=K[b],y?y.p(e,n):(y=K[b]=q[b](e),y.c()),ge(y,1),y.m(g,null));const a={};512&n[0]&&(a.onSliceUpdate=e[34]),!k&&256&n[0]&&(k=!0,a.items=e[8],se((()=>k=!1))),w.$set(a),(!D||32768&n[0])&&(v.hidden=e[15]),e[14]?X?(X.p(e,n),16384&n[0]&&ge(X,1)):(X=tc(e),X.c(),ge(X,1),X.m(N.parentNode,N)):X&&(pe(),be(X,1,1,(()=>{X=null})),me()),e[12]?Q?(Q.p(e,n),4096&n[0]&&ge(Q,1)):(Q=nc(e),Q.c(),ge(Q,1),Q.m(R.parentNode,R)):Q&&(pe(),be(Q,1,1,(()=>{Q=null})),me())},i(e){D||(ge(f),ge(W),ge(y),ge(w.$$.fragment,e),ge(X),ge(Q),D=!0)},o(e){be(f),be(W),be(y),be(w.$$.fragment,e),be(X),be(Q),D=!1},d(e){e&&S(t);for(let e=0;e<I.length;e+=1)I[e].d();~d&&H[d].d(),W&&W.d(),G&&G.d(),K[b].d(),e&&S($),e&&S(v),je(w),e&&S(j),X&&X.d(e),e&&S(N),Q&&Q.d(e),e&&S(R)}}}function sc(e,t,n){let r,s,o,{project:a}=t,{selectionGroup:i}=t,l=a.stbl.entries,c=[],u=[],d=!1,f=!1,h=[];const p=[rt.subscribe("sortOrder",(()=>{n(0,a)}))];K((()=>{p.forEach((e=>e()))}));const m=[{name:"List",icon:"list-outline",component:ji,utilities:"selectable",pagination:!0},{name:"Grid",icon:"grid-outline",component:Vi,utilities:"selectable",pagination:!0},{name:"JSON",icon:"curly-braces",component:Yi,utilities:"json",pagination:!1},{name:"Translate",icon:"language-outline",component:ul,utilities:"translate",pagination:!0}];let g=Math.min(nt.projectView,m.length-1),b=m[g],y=0,$=!1;return e.$$set=e=>{"project"in e&&n(0,a=e.project),"selectionGroup"in e&&n(1,i=e.selectionGroup)},e.$$.update=()=>{1&e.$$.dirty[0]&&n(13,h=a.stbl.getIssues()),48&e.$$.dirty[0]&&(n(5,b=m[g]),n(2,nt.projectView=g,nt),"json"!==b.utilities&&n(10,o=void 0)),13&e.$$.dirty[0]&&n(8,l=Sl(a.stbl.primaryLocale,a.stbl.entries,nt.sortOrder,u)),33&e.$$.dirty[0]&&n(15,r=!(b.pagination&&("translate"!==b.utilities||a.stbl.numLocales>1&&a.stbl.numEntries>0))),1&e.$$.dirty[0]&&n(7,s=a.stbl.otherLocales),192&e.$$.dirty[0]&&s&&!s.includes(y)&&n(6,y=s[0]??0),34&e.$$.dirty[0]&&"selectable"!==b.utilities&&i.toggleSelectMode(!1)},[a,i,nt,u,g,b,y,s,l,c,o,d,f,h,$,r,m,function(){o()&&(n(11,d=!0),setTimeout((()=>{n(11,d=!1)}),1e3))},e=>n(4,g=e),()=>n(12,f=!f),()=>n(14,$=!$),function(e){i=e,n(1,i)},function(e){y=e,n(6,y),n(7,s),n(0,a)},function(e){s=e,n(7,s),n(0,a)},function(t){e.$$.not_equal(nt.translateHideKeys,t)&&(nt.translateHideKeys=t,n(2,nt),n(4,g),n(5,b))},()=>n(3,u=[]),function(e){a=e,n(0,a)},function(e){o=e,n(10,o),n(4,g),n(5,b)},function(e){a=e,n(0,a)},function(e){y=e,n(6,y),n(7,s),n(0,a)},function(e){c=e,n(9,c)},function(e){a=e,n(0,a)},function(e){i=e,n(1,i)},function(e){c=e,n(9,c)},e=>{n(9,c=e)},function(e){l=e,n(8,l),n(0,a),n(3,u),n(2,nt),n(4,g),n(5,b)},()=>n(14,$=!1),function(e){u=e,n(3,u)},()=>n(12,f=!1),function(e){h=e,n(13,h),n(0,a)}]}class oc extends Ne{constructor(e){super(),Ae(this,e,sc,rc,i,{project:0,selectionGroup:1},null,[-1,-1])}}function ac(e){let t,n,r,s;const o=e[3].default,a=u(o,e,e[2],null);return{c(){t=C("div"),a&&a.c(),A(t,"class","fixed top-0 right-0 bottom-0 left-0 z-40 bg-gray-400 bg-opacity-60 dark:bg-gray-900 dark:bg-opacity-60 hacker-bg-black-trans")},m(n,r){_(n,t,r),a&&a.m(t,null),e[4](t),s=!0},p(t,[n]){e=t,a&&a.p&&(!s||4&n)&&h(a,o,e,e[2],s?f(o,e[2],n,null):p(e[2]),null)},i(e){s||(ge(a,e),re((()=>{r&&r.end(1),n=$e(t,ft,{duration:nt.reduceMotion?0:350}),n.start()})),s=!0)},o(e){be(a,e),n&&n.invalidate(),r=ve(t,ft,{duration:nt.reduceMotion?0:200}),s=!1},d(n){n&&S(t),a&&a.d(n),e[4](null),n&&r&&r.end()}}}const ic="overlay-active";function lc(e,t,n){let r,s,o,{$$slots:a={},$$scope:i}=t,{onClose:l}=t;const c=[Qt("Escape",l)];function u(){const e=r.querySelectorAll("a, button, input, textarea, select");s=e[0],o=e[e.length-1]}function d(){document.contains(s)||u(),s?.focus()}function f(e){r.contains(e.relatedTarget)||(o===e.target?d():s===e.target&&(document.contains(o)||u(),o?.focus()))}function h(e){r.contains(e.target)||d()}return q((()=>{document.body.classList.add(ic),u(),window.addEventListener("focusin",h),window.addEventListener("focusout",f)})),K((()=>{document.body.classList.remove(ic),window.removeEventListener("focusin",h),window.removeEventListener("focusout",f),c.forEach((e=>e()))})),e.$$set=e=>{"onClose"in e&&n(1,l=e.onClose),"$$scope"in e&&n(2,i=e.$$scope)},[r,l,i,a,function(e){J[e?"unshift":"push"]((()=>{r=e,n(0,r)}))}]}class cc extends Ne{constructor(e){super(),Ae(this,e,lc,ac,i,{onClose:1})}}function uc(e){let t,n;return t=new _r({props:{onClose:e[11]}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.onClose=e[11]),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function dc(e){let t,n,r,s,i,l,c,u,d,f,h,p,m,g,b,y,$,v,w,k,E,N,B,R,D,P,I,z,M,O;function F(t){e[8](t)}let H={label:"Token Assistant"};function U(t){e[9](t)}void 0!==e[4]&&(H.checked=e[4]),u=new Jt({props:H}),J.push((()=>Ee(u,"checked",F)));let W={label:"Prompt Until Cancel"};function G(t){e[10](t)}void 0!==e[3]&&(W.checked=e[3]),p=new Jt({props:W}),J.push((()=>Ee(p,"checked",U)));let q={placeholder:"New string",fillWidth:!0,focusOnMount:!0,onEnter:e[6]};void 0!==e[2]&&(q.value=e[2]),b=new Ri({props:q}),J.push((()=>Ee(b,"value",G)));let K=e[4]&&uc(e);return{c(){t=C("div"),n=C("div"),r=C("div"),s=C("p"),s.textContent="new string",i=T(),l=C("div"),c=C("div"),Te(u.$$.fragment),f=T(),h=C("div"),Te(p.$$.fragment),g=T(),Te(b.$$.fragment),$=T(),v=C("div"),w=C("p"),w.innerHTML='Press <mark class="keystroke bg-gray-200 dark:bg-gray-700 hacker-bg-gray svelte-1kj9sxa">esc</mark>\n        to cancel,\n        <mark class="keystroke bg-gray-200 dark:bg-gray-700 hacker-bg-gray svelte-1kj9sxa">enter</mark>\n        to save, and\n        <mark class="keystroke bg-gray-200 dark:bg-gray-700 hacker-bg-gray svelte-1kj9sxa">shift</mark>\n        +\n        <mark class="keystroke bg-gray-200 dark:bg-gray-700 hacker-bg-gray svelte-1kj9sxa">enter</mark> for newlines.',k=T(),E=C("div"),N=C("button"),N.textContent="Cancel",B=T(),R=C("button"),R.textContent="Save",P=T(),K&&K.c(),I=L(),A(s,"class","text-subtle text-sm uppercase font-bold"),A(c,"class","max-w-min whitespace-nowrap"),A(h,"class","max-w-min whitespace-nowrap"),A(l,"class","flex gap-6"),A(r,"class","w-full flex justify-between"),A(w,"class","text-subtle text-xs"),A(N,"class","text-sm border-gray-400 dark:border-gray-600 hover:bg-gray-400 dark:hover:bg-gray-600 focus:bg-gray-400 dark:focus:bg-gray-600 hover:text-white dark:hover:text-white focus:text-white focus:hover:text-white hacker-border-gray hover:hacker-bg-gray hover:hacker-text-lime svelte-1kj9sxa"),A(R,"class","save text-sm svelte-1kj9sxa"),A(E,"class","flex gap-2"),A(v,"class","w-full flex flex-wrap gap-2 justify-between items-center"),A(n,"class","flex flex-col gap-4 w-full rounded p-4 max-w-6xl mx-4 bg-gray-100 dark:bg-gray-800 hacker-bg-black"),A(t,"class","fixed left-0 right-0 bottom-0 pb-20 flex justify-center drop-shadow")},m(o,d){_(o,t,d),x(t,n),x(n,r),x(r,s),x(r,i),x(r,l),x(l,c),Le(u,c,null),x(l,f),x(l,h),Le(p,h,null),x(n,g),Le(b,n,null),x(n,$),x(n,v),x(v,w),x(v,k),x(v,E),x(E,N),x(E,B),x(E,R),_(o,P,d),K&&K.m(o,d),_(o,I,d),z=!0,M||(O=[j(N,"click",(function(){a(e[0])&&e[0].apply(this,arguments)})),j(R,"click",e[5])],M=!0)},p(t,[n]){e=t;const r={};!d&&16&n&&(d=!0,r.checked=e[4],se((()=>d=!1))),u.$set(r);const s={};!m&&8&n&&(m=!0,s.checked=e[3],se((()=>m=!1))),p.$set(s);const o={};!y&&4&n&&(y=!0,o.value=e[2],se((()=>y=!1))),b.$set(o),e[4]?K?(K.p(e,n),16&n&&ge(K,1)):(K=uc(e),K.c(),ge(K,1),K.m(I.parentNode,I)):K&&(pe(),be(K,1,1,(()=>{K=null})),me())},i(t){z||(ge(u.$$.fragment,t),ge(p.$$.fragment,t),ge(b.$$.fragment,t),D||re((()=>{D=$e(n,ht,{y:20,duration:e[1].reduceMotion?0:350}),D.start()})),ge(K),z=!0)},o(e){be(u.$$.fragment,e),be(p.$$.fragment,e),be(b.$$.fragment,e),be(K),z=!1},d(e){e&&S(t),je(u),je(p),je(b),e&&S(P),K&&K.d(e),e&&S(I),M=!1,o(O)}}}function fc(e,t,n){let{project:r}=t,{onComplete:s}=t,o="",a=!1,i=!1;const l=nt.mainframeHacked,c=nt.rickGif;function u(){o.trim().length>0&&(r.addString(o),n(7,r)),a?n(2,o=""):s()}K((()=>{n(1,nt.mainframeHacked=l,nt),at.set(nt.rickGif),it.set(!1)}));return e.$$set=e=>{"project"in e&&n(7,r=e.project),"onComplete"in e&&n(0,s=e.onComplete)},e.$$.update=()=>{6&e.$$.dirty&&(nt.disableEasterEggs||function(e){/(^|\s)+(hack|mainframe|matrix|i'?m\s+in)\s*$/i.test(e)?n(1,nt.mainframeHacked=!0,nt):(nt.mainframeHacked&&!l&&n(1,nt.mainframeHacked=!1,nt),/(^|\s)+(give\s*\S*\s*up|let\s*\S*\s*down)\s*$/i.test(e)?at.set(!0):(c||at.set(!1),/(^|\s)+(gay|lgbt|lesbian|trans|bisexual)\s*$/i.test(e)?it.set(!0):it.set(!1)))}(o))},[s,nt,o,a,i,u,function(e){n(2,o=e),u()},r,function(e){i=e,n(4,i)},function(e){a=e,n(3,a)},function(e){o=e,n(2,o)},()=>n(4,i=!1)]}class hc extends Ne{constructor(e){super(),Ae(this,e,fc,dc,i,{project:7,onComplete:0})}}function pc(e,t,n){const r=e.slice();return r[12]=t[n],r[14]=n,r}function mc(e,t){let n,r,s,o,a,i,l,c=t[12].key+"",u=t[12].string+"";return{key:e,first:null,c(){n=C("li"),r=C("p"),s=C("span"),o=E(c),a=E("\n                  = "),i=E(u),l=T(),A(s,"class","text-accent-primary-light dark:text-accent-primary-dark hacker-text-lime monospace"),A(r,"class","whitespace-nowrap text-ellipsis overflow-x-hidden"),A(n,"class","px-2 max-w-max"),this.first=n},m(e,t){_(e,n,t),x(n,r),x(r,s),x(s,o),x(r,a),x(r,i),x(n,l)},p(e,n){t=e},d(e){e&&S(n)}}}function gc(e){let t,n,r,s,o,a,i,l,c,u,d,f,h,p=[],m=new Map,g=e[2];const b=e=>e[14];for(let t=0;t<g.length;t+=1){let n=pc(e,g,t),r=b(n);m.set(r,p[t]=mc(r,n))}function y(t){e[7](t)}function $(t){e[8](t)}let v={label:'type "delete" to confirm',name:"deletion-confirmation-input",placeholder:"Delete",focusOnMount:!0,fillWidth:!0,validators:[{test:$c,message:'Value must be "Delete"'}]};return void 0!==e[0]&&(v.value=e[0]),void 0!==e[1].nextButtonEnabled&&(v.isValid=e[1].nextButtonEnabled),l=new bn({props:v}),J.push((()=>Ee(l,"value",y))),J.push((()=>Ee(l,"isValid",$))),{c(){t=C("div"),n=C("p"),n.textContent="Are you sure you want to permanently delete the following strings?",r=T(),s=C("div"),o=C("ul");for(let e=0;e<p.length;e+=1)p[e].c();a=T(),i=C("div"),Te(l.$$.fragment),d=T(),f=C("p"),f.textContent="Deleted strings cannot be recovered. Once they're gone, they're gone.",A(n,"class","mb-4"),A(o,"class","list-disc pl-8 flex flex-col"),A(s,"class","max-h-24 overflow-x-hidden overflow-y-auto"),A(i,"class","my-6"),A(f,"class","text-subtle text-xs")},m(e,c){_(e,t,c),x(t,n),x(t,r),x(t,s),x(s,o);for(let e=0;e<p.length;e+=1)p[e].m(o,null);x(t,a),x(t,i),Le(l,i,null),x(t,d),x(t,f),h=!0},p(e,t){4&t&&(g=e[2],p=_e(p,t,b,1,e,g,m,o,we,mc,null,pc));const n={};!c&&1&t&&(c=!0,n.value=e[0],se((()=>c=!1))),!u&&2&t&&(u=!0,n.isValid=e[1].nextButtonEnabled,se((()=>u=!1))),l.$set(n)},i(e){h||(ge(l.$$.fragment,e),h=!0)},o(e){be(l.$$.fragment,e),h=!1},d(e){e&&S(t);for(let e=0;e<p.length;e+=1)p[e].d();je(l)}}}function bc(e){let t,n,r,s;function o(t){e[9](t)}let a={pageNumber:1,$$slots:{default:[gc]},$$scope:{ctx:e}};return void 0!==e[1]&&(a.state=e[1]),n=new Pn({props:a}),J.push((()=>Ee(n,"state",o))),{c(){t=C("div"),Te(n.$$.fragment),A(t,"slot","content"),A(t,"class","w-full")},m(e,r){_(e,t,r),Le(n,t,null),s=!0},p(e,t){const s={};32771&t&&(s.$$scope={dirty:t,ctx:e}),!r&&2&t&&(r=!0,s.state=e[1],se((()=>r=!1))),n.$set(s)},i(e){s||(ge(n.$$.fragment,e),s=!0)},o(e){be(n.$$.fragment,e),s=!1},d(e){e&&S(t),je(n)}}}function yc(e){let t,n,r;function s(t){e[10](t)}let o={title:"Delete Strings",numPages:1,centerVertically:!0,completeButton:"Delete",onLastPageComplete:e[3],$$slots:{content:[bc]},$$scope:{ctx:e}};return void 0!==e[1]&&(o.state=e[1]),t=new Nn({props:o}),J.push((()=>Ee(t,"state",s))),{c(){Te(t.$$.fragment)},m(e,n){Le(t,e,n),r=!0},p(e,[r]){const s={};32771&r&&(s.$$scope={dirty:r,ctx:e}),!n&&2&r&&(n=!0,s.state=e[1],se((()=>n=!1))),t.$set(s)},i(e){r||(ge(t.$$.fragment,e),r=!0)},o(e){be(t.$$.fragment,e),r=!1},d(e){je(t,e)}}}const $c=e=>"delete"===e.toLowerCase().trim();function vc(e,t,n){const{formatStringKey:r}=window.S4TK.formatting;let{onComplete:s}=t,{project:o}=t,{selectionGroup:a}=t;const i=a.allSelectedItems.map((e=>({key:r(e.key),string:o.stbl.getValue(e.id)})));let l="",c={currentPage:1,nextButtonEnabled:!1};return e.$$set=e=>{"onComplete"in e&&n(5,s=e.onComplete),"project"in e&&n(4,o=e.project),"selectionGroup"in e&&n(6,a=e.selectionGroup)},[l,c,i,function(){o.deleteStrings(a.allSelectedKeys),n(4,o),s()},o,s,a,function(e){l=e,n(0,l)},function(t){e.$$.not_equal(c.nextButtonEnabled,t)&&(c.nextButtonEnabled=t,n(1,c))},function(e){c=e,n(1,c)},function(e){c=e,n(1,c)}]}class xc extends Ne{constructor(e){super(),Ae(this,e,vc,yc,i,{onComplete:5,project:4,selectionGroup:6})}}function wc(e,t,n){const r=e.slice();return r[10]=t[n],r[12]=n,r}function kc(e,t){let n,r,s,o,a,i,l,c,u,d,f,h=t[10].oldKeyString+"",p=t[10].newKeyString+"",m=t[10].string+"";return{key:e,first:null,c(){n=C("li"),r=C("p"),s=C("span"),o=E(h),a=E("\n                  →\n                  "),i=C("span"),l=E(p),c=E("\n                  ("),u=E(m),d=E(")"),f=T(),A(s,"class","text-accent-primary-light dark:text-accent-primary-dark hacker-text-lime monospace"),A(i,"class","text-accent-primary-light dark:text-accent-primary-dark hacker-text-lime monospace"),A(r,"class","whitespace-nowrap text-ellipsis overflow-x-hidden"),A(n,"class","px-2 max-w-max"),this.first=n},m(e,t){_(e,n,t),x(n,r),x(r,s),x(s,o),x(r,a),x(r,i),x(i,l),x(r,c),x(r,u),x(r,d),x(n,f)},p(e,n){t=e},d(e){e&&S(n)}}}function _c(e){let t,n,r,s,o,a,i,l=[],c=new Map,u=e[1];const d=e=>e[12];for(let t=0;t<u.length;t+=1){let n=wc(e,u,t),r=d(n);c.set(r,l[t]=kc(r,n))}return{c(){t=C("div"),n=C("p"),n.textContent="Are you sure you want to rehash the following strings?",r=T(),s=C("div"),o=C("ul");for(let e=0;e<l.length;e+=1)l[e].c();a=T(),i=C("p"),i.textContent="This action cannot be undone. You'll have to update keys in tuning.",A(o,"class","list-disc pl-8 flex flex-col"),A(s,"class","my-4 max-h-24 overflow-x-hidden overflow-y-auto"),A(i,"class","text-subtle text-xs")},m(e,c){_(e,t,c),x(t,n),x(t,r),x(t,s),x(s,o);for(let e=0;e<l.length;e+=1)l[e].m(o,null);x(t,a),x(t,i)},p(e,t){2&t&&(u=e[1],l=_e(l,t,d,1,e,u,c,o,we,kc,null,wc))},d(e){e&&S(t);for(let e=0;e<l.length;e+=1)l[e].d()}}}function Sc(e){let t,n,r,s;function o(t){e[6](t)}let a={pageNumber:1,$$slots:{default:[_c]},$$scope:{ctx:e}};return void 0!==e[0]&&(a.state=e[0]),n=new Pn({props:a}),J.push((()=>Ee(n,"state",o))),{c(){t=C("div"),Te(n.$$.fragment),A(t,"slot","content"),A(t,"class","w-full")},m(e,r){_(e,t,r),Le(n,t,null),s=!0},p(e,t){const s={};8192&t&&(s.$$scope={dirty:t,ctx:e}),!r&&1&t&&(r=!0,s.state=e[0],se((()=>r=!1))),n.$set(s)},i(e){s||(ge(n.$$.fragment,e),s=!0)},o(e){be(n.$$.fragment,e),s=!1},d(e){e&&S(t),je(n)}}}function Cc(e){let t,n,r;function s(t){e[7](t)}let o={title:"Rehash Keys",numPages:1,centerVertically:!0,completeButton:"Rehash",onLastPageComplete:e[2],$$slots:{content:[Sc]},$$scope:{ctx:e}};return void 0!==e[0]&&(o.state=e[0]),t=new Nn({props:o}),J.push((()=>Ee(t,"state",s))),{c(){Te(t.$$.fragment)},m(e,n){Le(t,e,n),r=!0},p(e,[r]){const s={};8193&r&&(s.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,s.state=e[0],se((()=>n=!1))),t.$set(s)},i(e){r||(ge(t.$$.fragment,e),r=!0)},o(e){be(t.$$.fragment,e),r=!1},d(e){je(t,e)}}}function Ec(e,t,n){const{fnv32:r}=window.S4TK.hashing,{formatStringKey:s}=window.S4TK.formatting;let{onComplete:o}=t,{project:a}=t,{selectionGroup:i}=t;const l=i.allSelectedItems.map((e=>{const t=r(`${a.uuid}:${ds()}`);return{id:e.id,oldKeyString:s(e.key),newKey:t,newKeyString:s(t),string:a.stbl.getValue(e.id)}}));let c={currentPage:1,nextButtonEnabled:!0};return e.$$set=e=>{"onComplete"in e&&n(4,o=e.onComplete),"project"in e&&n(3,a=e.project),"selectionGroup"in e&&n(5,i=e.selectionGroup)},[c,l,function(){a.updateKeys(l),n(3,a),o()},a,o,i,function(e){c=e,n(0,c)},function(e){c=e,n(0,c)}]}class Tc extends Ne{constructor(e){super(),Ae(this,e,Ec,Cc,i,{onComplete:4,project:3,selectionGroup:5})}}function Lc(e,t,n){const r=e.slice();return r[19]=t[n],r[21]=n,r}function jc(t){let n,r,s;return{c(){n=C("p"),n.textContent="Resolving string tables...",r=T(),s=C("p"),s.textContent="This shouldn't take long. If you're stuck on this page, something\n            likely went wrong. Please reload and try again.",A(s,"class","text-xs text-subtle")},m(e,t){_(e,n,t),_(e,r,t),_(e,s,t)},p:e,i:e,o:e,d(e){e&&S(n),e&&S(r),e&&S(s)}}}function Ac(e){let t,n,r,s,o,a,i,l,c,u,d,f,h,p,m,g,b=e[4].numEntries+"",y=e[4].numLocales+"",$=[],v=new Map;function w(t){e[13](t)}let k={alignRight:!0,localesToChoose:e[4].allLocales};void 0!==e[1]&&(k.selected=e[1]),u=new ir({props:k}),J.push((()=>Ee(u,"selected",w)));let L=e[4].entries;const j=e=>e[21];for(let t=0;t<L.length;t+=1){let n=Lc(e,L,t),r=j(n);v.set(r,$[t]=Nc(r,n))}let N=e[3]>0&&Bc(e);return{c(){t=C("div"),n=C("div"),r=C("p"),s=E("Importing "),o=E(b),a=E(" string(s) in "),i=E(y),l=E("\n                locale(s)."),c=T(),Te(u.$$.fragment),f=T(),h=C("div"),p=C("ul");for(let e=0;e<$.length;e+=1)$[e].c();m=T(),N&&N.c(),A(n,"class","flex flex-col items-start sm:flex-row sm:justify-between sm:items-center gap-4"),A(p,"class","list-disc pl-8 flex flex-col"),A(h,"class","my-6 max-h-24 overflow-x-hidden overflow-y-auto")},m(e,d){_(e,t,d),x(t,n),x(n,r),x(r,s),x(r,o),x(r,a),x(r,i),x(r,l),x(n,c),Le(u,n,null),x(t,f),x(t,h),x(h,p);for(let e=0;e<$.length;e+=1)$[e].m(p,null);x(t,m),N&&N.m(t,null),g=!0},p(e,n){(!g||16&n)&&b!==(b=e[4].numEntries+"")&&B(o,b),(!g||16&n)&&y!==(y=e[4].numLocales+"")&&B(i,y);const r={};16&n&&(r.localesToChoose=e[4].allLocales),!d&&2&n&&(d=!0,r.selected=e[1],se((()=>d=!1))),u.$set(r),82&n&&(L=e[4].entries,$=_e($,n,j,1,e,L,v,p,we,Nc,null,Lc)),e[3]>0?N?(N.p(e,n),8&n&&ge(N,1)):(N=Bc(e),N.c(),ge(N,1),N.m(t,null)):N&&(pe(),be(N,1,1,(()=>{N=null})),me())},i(e){g||(ge(u.$$.fragment,e),ge(N),g=!0)},o(e){be(u.$$.fragment,e),be(N),g=!1},d(e){e&&S(t),je(u);for(let e=0;e<$.length;e+=1)$[e].d();N&&N.d()}}}function Nc(e,t){let n,r,s,o,a,i,l,c=t[6](t[19].key)+"",u=d()+"";function d(){return t[14](t[19])}return{key:e,first:null,c(){n=C("li"),r=C("p"),s=C("span"),o=E(c),a=E("\n                      = "),i=new z(!1),l=T(),A(s,"class","text-accent-primary-light dark:text-accent-primary-dark hacker-text-lime monospace"),i.a=null,A(r,"class","whitespace-nowrap text-ellipsis overflow-x-hidden"),A(n,"class","px-2 max-w-max"),this.first=n},m(e,t){_(e,n,t),x(n,r),x(r,s),x(s,o),x(r,a),i.m(u,r),x(n,l)},p(e,n){t=e,16&n&&c!==(c=t[6](t[19].key)+"")&&B(o,c),18&n&&u!==(u=d()+"")&&i.p(u)},d(e){e&&S(n)}}}function Bc(e){let t,n,r,s,o,a,i,l,c,u;function d(t){e[15](t)}let f={label:"Overwrite keys"};return void 0!==e[2]&&(f.checked=e[2]),l=new Jt({props:f}),J.push((()=>Ee(l,"checked",d))),{c(){t=C("p"),n=C("span"),n.textContent="WARNING:",r=T(),s=E(e[3]),o=E(" entries have keys that are already in use. You\n                can either add them as-is, or overwrite the existing ones."),a=T(),i=C("div"),Te(l.$$.fragment),A(n,"class","text-red-600 dark:text-red-400 font-bold"),A(t,"class","text-subtle text-xs mb-4"),A(i,"class","whitespace-nowrap max-w-min")},m(e,c){_(e,t,c),x(t,n),x(t,r),x(t,s),x(t,o),_(e,a,c),_(e,i,c),Le(l,i,null),u=!0},p(e,t){(!u||8&t)&&B(s,e[3]);const n={};!c&&4&t&&(c=!0,n.checked=e[2],se((()=>c=!1))),l.$set(n)},i(e){u||(ge(l.$$.fragment,e),u=!0)},o(e){be(l.$$.fragment,e),u=!1},d(e){e&&S(t),e&&S(a),e&&S(i),je(l)}}}function Rc(e){let t,n,r,s,o,a;const i=[Ac,jc],l=[];function c(e,t){return 16&t&&(n=null),null==n&&(n=!!Boolean(e[4])),n?0:1}return r=c(e,-1),s=l[r]=i[r](e),{c(){t=C("div"),s.c(),A(t,"class","flex flex-col gap-6")},m(e,n){_(e,t,n),l[r].m(t,null),a=!0},p(n,o){let a=r;r=c(e=n,o),r===a?l[r].p(e,o):(pe(),be(l[a],1,1,(()=>{l[a]=null})),me(),s=l[r],s?s.p(e,o):(s=l[r]=i[r](e),s.c()),ge(s,1),s.m(t,null))},i(e){a||(ge(s),o||re((()=>{o=$e(t,ft,{duration:nt.reduceMotion?0:500}),o.start()})),a=!0)},o(e){be(s),a=!1},d(e){e&&S(t),l[r].d()}}}function Dc(e){let t,n,r,s,o,a,i,l;function c(t){e[11](t)}function u(t){e[12](t)}let d={startingPageNumber:1};function f(t){e[16](t)}void 0!==e[0]&&(d.multipageState=e[0]),void 0!==e[5]&&(d.parseResult=e[5]),n=new ra({props:d}),J.push((()=>Ee(n,"multipageState",c))),J.push((()=>Ee(n,"parseResult",u)));let h={pageNumber:3,$$slots:{default:[Rc]},$$scope:{ctx:e}};return void 0!==e[0]&&(h.state=e[0]),a=new Pn({props:h}),J.push((()=>Ee(a,"state",f))),{c(){t=C("div"),Te(n.$$.fragment),o=T(),Te(a.$$.fragment),A(t,"slot","content"),A(t,"class","w-full")},m(e,r){_(e,t,r),Le(n,t,null),x(t,o),Le(a,t,null),l=!0},p(e,t){const o={};!r&&1&t&&(r=!0,o.multipageState=e[0],se((()=>r=!1))),!s&&32&t&&(s=!0,o.parseResult=e[5],se((()=>s=!1))),n.$set(o);const l={};4194334&t&&(l.$$scope={dirty:t,ctx:e}),!i&&1&t&&(i=!0,l.state=e[0],se((()=>i=!1))),a.$set(l)},i(e){l||(ge(n.$$.fragment,e),ge(a.$$.fragment,e),l=!0)},o(e){be(n.$$.fragment,e),be(a.$$.fragment,e),l=!1},d(e){e&&S(t),je(n),je(a)}}}function Pc(e){let t,n,r;function s(t){e[17](t)}let o={title:"Import Strings",numPages:3,minimumContentHeight:"230",centerVertically:!0,completeButton:"Import",canClickBack:!1,onLastPageComplete:e[7],$$slots:{content:[Dc]},$$scope:{ctx:e}};return void 0!==e[0]&&(o.state=e[0]),t=new Nn({props:o}),J.push((()=>Ee(t,"state",s))),{c(){Te(t.$$.fragment)},m(e,n){Le(t,e,n),r=!0},p(e,[r]){const s={};4194367&r&&(s.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,s.state=e[0],se((()=>n=!1))),t.$set(s)},i(e){r||(ge(t.$$.fragment,e),r=!0)},o(e){be(t.$$.fragment,e),r=!1},d(e){je(t,e)}}}function Ic(e,t,n){const{formatStringKey:r}=window.S4TK.formatting;let s,{project:o}=t,{onComplete:a}=t,i=o.stbl.primaryLocale,l=!1,c=0,u=!1,d=null,f={currentPage:1,nextButtonEnabled:!1};return e.$$set=e=>{"project"in e&&n(8,o=e.project),"onComplete"in e&&n(9,a=e.onComplete)},e.$$.update=()=>{1025&e.$$.dirty&&(3!==f.currentPage||u||(n(10,u=!0),async function(){try{const e=await Fo(o.stbl.primaryLocale,d.stbls),t=o.stbl.keyMap;e.keyMap.forEach(((e,r)=>{t.has(r)&&n(3,++c)})),e.entries.forEach((e=>{if(t.has(e.key)){const n=t.get(e.key),r=o.stbl.getEntry(n);e.values.forEach(((t,n)=>{const s=r.values.get(n);s&&!t&&e.values.set(n,s)}))}})),n(4,s=e)}catch(e){console.error(e),alert("An exception was thrown while resolving your string tables. Check the console for the call stack, and please let me know about this issue ASAP."),a()}}()))},[f,i,l,c,s,d,r,function(){o.importEntries(s,l),n(8,o),a()},o,a,u,function(e){f=e,n(0,f)},function(e){d=e,n(5,d)},function(e){i=e,n(1,i)},e=>{const t=e.values.get(i);return t||'<span class="text-subtle">Empty string.</span>'},function(e){l=e,n(2,l)},function(e){f=e,n(0,f)},function(e){f=e,n(0,f)}]}class zc extends Ne{constructor(e){super(),Ae(this,e,Ic,Pc,i,{project:8,onComplete:9})}}function Mc(e){let t,n;return t=new cc({props:{onClose:e[6],$$slots:{default:[Fc]},$$scope:{ctx:e}}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};4121&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function Oc(e){let t,n;return t=new sn({props:{onClose:e[6],$$slots:{default:[Hc]},$$scope:{ctx:e}}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};4121&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function Fc(e){let t,r,s,o;const a=[{onComplete:e[6]},e[4]];function i(t){e[9](t)}var l=e[3];function c(e){let t={};for(let e=0;e<a.length;e+=1)t=n(t,a[e]);return void 0!==e[0]&&(t.project=e[0]),{props:t}}return l&&(t=new l(c(e)),J.push((()=>Ee(t,"project",i)))),{c(){t&&Te(t.$$.fragment),s=L()},m(e,n){t&&Le(t,e,n),_(e,s,n),o=!0},p(e,n){const o=80&n?Se(a,[64&n&&{onComplete:e[6]},16&n&&Ce(e[4])]):{};if(!r&&1&n&&(r=!0,o.project=e[0],se((()=>r=!1))),l!==(l=e[3])){if(t){pe();const e=t;be(e.$$.fragment,1,0,(()=>{je(e,1)})),me()}l?(t=new l(c(e)),J.push((()=>Ee(t,"project",i))),Te(t.$$.fragment),ge(t.$$.fragment,1),Le(t,s.parentNode,s)):t=null}else l&&t.$set(o)},i(e){o||(t&&ge(t.$$.fragment,e),o=!0)},o(e){t&&be(t.$$.fragment,e),o=!1},d(e){e&&S(s),t&&je(t,e)}}}function Hc(e){let t,r,s,o;const a=[{onComplete:e[6]},e[4]];function i(t){e[8](t)}var l=e[3];function c(e){let t={};for(let e=0;e<a.length;e+=1)t=n(t,a[e]);return void 0!==e[0]&&(t.project=e[0]),{props:t}}return l&&(t=new l(c(e)),J.push((()=>Ee(t,"project",i)))),{c(){t&&Te(t.$$.fragment),s=L()},m(e,n){t&&Le(t,e,n),_(e,s,n),o=!0},p(e,n){const o=80&n?Se(a,[64&n&&{onComplete:e[6]},16&n&&Ce(e[4])]):{};if(!r&&1&n&&(r=!0,o.project=e[0],se((()=>r=!1))),l!==(l=e[3])){if(t){pe();const e=t;be(e.$$.fragment,1,0,(()=>{je(e,1)})),me()}l?(t=new l(c(e)),J.push((()=>Ee(t,"project",i))),Te(t.$$.fragment),ge(t.$$.fragment,1),Le(t,s.parentNode,s)):t=null}else l&&t.$set(o)},i(e){o||(t&&ge(t.$$.fragment,e),o=!0)},o(e){t&&be(t.$$.fragment,e),o=!1},d(e){e&&S(s),t&&je(t,e)}}}function Uc(e){let t,n,r,s,o,a;t=new Ns({props:{buttonData:e[5]}});const i=[Oc,Mc],l=[];function c(e,t){return e[1]?0:e[2]?1:-1}return~(r=c(e))&&(s=l[r]=i[r](e)),{c(){Te(t.$$.fragment),n=T(),s&&s.c(),o=L()},m(e,s){Le(t,e,s),_(e,n,s),~r&&l[r].m(e,s),_(e,o,s),a=!0},p(e,[n]){const a={};32&n&&(a.buttonData=e[5]),t.$set(a);let u=r;r=c(e),r===u?~r&&l[r].p(e,n):(s&&(pe(),be(l[u],1,1,(()=>{l[u]=null})),me()),~r?(s=l[r],s?s.p(e,n):(s=l[r]=i[r](e),s.c()),ge(s,1),s.m(o.parentNode,o)):s=null)},i(e){a||(ge(t.$$.fragment,e),ge(s),a=!0)},o(e){be(t.$$.fragment,e),be(s),a=!1},d(e){je(t,e),e&&S(n),~r&&l[r].d(e),e&&S(o)}}}function Wc(e,t,n){let r,{selectionGroup:s}=t,{project:o}=t;const a=e=>()=>{r||e()};let i,l,c,u=!1,d=!1;return e.$$set=e=>{"selectionGroup"in e&&n(7,s=e.selectionGroup),"project"in e&&n(0,o=e.project)},e.$$.update=()=>{128&e.$$.dirty&&n(5,c=s?.selectMode?[{color:"Orange",title:"Rehash",icon:"refresh",keybinding:"h",disabled:s.numSelected<1,onClick:a((()=>{n(4,l={selectionGroup:s}),n(3,i=Tc),n(1,u=!0)}))},{color:"Red",title:"Delete",icon:"trash",keybinding:"d",disabled:s.numSelected<1,onClick:a((()=>{n(4,l={selectionGroup:s}),n(3,i=xc),n(1,u=!0)}))}]:[{color:"Cyan",title:"Download",icon:"download",keybinding:"s",onClick:a((()=>{nt.rickGif?window.open(Ye.rickRoll,"_blank"):(n(4,l={title:"Download Project"}),n(3,i=lo),n(1,u=!0))}))},{color:"Purple",title:"Import Strings",icon:"upload",keybinding:"u",onClick:a((()=>{n(4,l={}),n(3,i=zc),n(1,u=!0)}))},{color:"Green",title:"New String",icon:"plus",keybinding:"n",onClick:a((()=>{n(4,l={}),n(3,i=hc),n(2,d=!0)}))}]),6&e.$$.dirty&&(r=u||d)},[o,u,d,i,l,c,function(){n(1,u=!1),n(2,d=!1),n(3,i=void 0),n(4,l=void 0)},s,function(e){o=e,n(0,o)},function(e){o=e,n(0,o)}]}class Gc extends Ne{constructor(e){super(),Ae(this,e,Wc,Uc,i,{selectionGroup:7,project:0})}}function qc(t){let n;return{c(){n=C("div"),n.innerHTML='<h1 class="text-2xl font-bold text-center drop-shadow text-gray-400 dark:text-gray-500">Loading project...</h1>',A(n,"class","w-full flex justify-center")},m(e,t){_(e,n,t)},p:e,i:e,o:e,d(e){e&&S(n)}}}function Kc(t){let n,r,s,a,i,l,c,u,d,f,h,p,m,g,b,y,$,v,w,k,L,N,B,R,D,P,I,z;return a=new Zr({props:{title:"Well, this sucks"}}),{c(){n=C("div"),r=C("div"),s=C("div"),Te(a.$$.fragment),i=T(),l=C("p"),l.innerHTML='It appears that this project has been corrupted. Please <a class="text-secondary" href="https://frankkmods.com/#/about" target="_blank">report this problem to me ASAP</a>.',c=T(),u=C("p"),u.textContent="I may be able to recover your project and prevent this issue from\n          occurring again. To help me help you, please send me:",d=T(),f=C("ul"),h=C("li"),p=E("The error message ("),m=C("button"),m.textContent="click to copy",g=E(")"),b=T(),y=C("li"),$=E("Your workspace JSON ("),v=C("button"),v.textContent="click to download",w=E(")"),k=T(),L=C("li"),L.textContent="What you did before you saw this error",N=T(),B=C("p"),B.textContent="Note that your workspace JSON is most likely in an invalid state. If\n          so, it will remain broken until you delete this project.",R=T(),D=C("p"),D.textContent="Please don't hate me",A(s,"class","mb-4"),A(l,"class","mb-4"),A(u,"class","mb-2"),A(m,"class","text-secondary underline hover:no-underline"),A(v,"class","text-secondary underline hover:no-underline"),A(f,"class","list-disc pl-6"),A(B,"class","mt-4"),A(D,"class","mt-8 text-subtle text-xs"),A(r,"class","w-full xl:max-w-screen-xl px-4 flex flex-col justify-center"),A(n,"class","pt-10 flex-1 w-full flex justify-center")},m(e,o){_(e,n,o),x(n,r),x(r,s),Le(a,s,null),x(r,i),x(r,l),x(r,c),x(r,u),x(r,d),x(r,f),x(f,h),x(h,p),x(h,m),x(h,g),x(f,b),x(f,y),x(y,$),x(y,v),x(y,w),x(f,k),x(f,L),x(r,N),x(r,B),x(r,R),x(r,D),P=!0,I||(z=[j(m,"click",t[4]),j(v,"click",t[5])],I=!0)},p:e,i(e){P||(ge(a.$$.fragment,e),P=!0)},o(e){be(a.$$.fragment,e),P=!1},d(e){e&&S(n),je(a),I=!1,o(z)}}}function Vc(e){let t,n,r,s,o,a,i,l,c,u,d,f,h;function p(t){e[7](t)}let m={};function g(t){e[8](t)}function b(t){e[9](t)}void 0!==e[0]&&(m.project=e[0]),t=new fi({props:m}),J.push((()=>Ee(t,"project",p)));let y={};function $(t){e[10](t)}function v(t){e[11](t)}void 0!==e[0]&&(y.project=e[0]),void 0!==e[3]&&(y.selectionGroup=e[3]),a=new oc({props:y}),J.push((()=>Ee(a,"project",g))),J.push((()=>Ee(a,"selectionGroup",b)));let w={};return void 0!==e[3]&&(w.selectionGroup=e[3]),void 0!==e[0]&&(w.project=e[0]),u=new Gc({props:w}),J.push((()=>Ee(u,"selectionGroup",$))),J.push((()=>Ee(u,"project",v))),{c(){Te(t.$$.fragment),r=T(),s=C("div"),o=C("div"),Te(a.$$.fragment),c=T(),Te(u.$$.fragment),A(o,"class","w-full xl:max-w-screen-xl"),A(s,"class","w-full flex justify-center px-4 py-8")},m(e,n){Le(t,e,n),_(e,r,n),_(e,s,n),x(s,o),Le(a,o,null),_(e,c,n),Le(u,e,n),h=!0},p(e,r){const s={};!n&&1&r&&(n=!0,s.project=e[0],se((()=>n=!1))),t.$set(s);const o={};!i&&1&r&&(i=!0,o.project=e[0],se((()=>i=!1))),!l&&8&r&&(l=!0,o.selectionGroup=e[3],se((()=>l=!1))),a.$set(o);const c={};!d&&8&r&&(d=!0,c.selectionGroup=e[3],se((()=>d=!1))),!f&&1&r&&(f=!0,c.project=e[0],se((()=>f=!1))),u.$set(c)},i(e){h||(ge(t.$$.fragment,e),ge(a.$$.fragment,e),ge(u.$$.fragment,e),h=!0)},o(e){be(t.$$.fragment,e),be(a.$$.fragment,e),be(u.$$.fragment,e),h=!1},d(e){je(t,e),e&&S(r),e&&S(s),je(a),e&&S(c),je(u,e)}}}function Zc(e){let t,n,r,s,o,a,i;document.title=t="STBL Studio | "+(e[0]?.metaData.name??"Loading...");const l=[Vc,Kc,qc],c=[];function u(e,t){return 4&t&&(s=null),e[1]?0:(null==s&&(s=!!Boolean(e[2])),s?1:2)}return o=u(e,-1),a=c[o]=l[o](e),{c(){n=T(),r=C("section"),a.c(),A(r,"class","w-full flex flex-col justify-center overflow-x-hidden"),P(r,"flex-1",!e[1])},m(e,t){_(e,n,t),_(e,r,t),c[o].m(r,null),i=!0},p(e,[n]){(!i||1&n)&&t!==(t="STBL Studio | "+(e[0]?.metaData.name??"Loading..."))&&(document.title=t);let s=o;o=u(e,n),o===s?c[o].p(e,n):(pe(),be(c[s],1,1,(()=>{c[s]=null})),me(),a=c[o],a?a.p(e,n):(a=c[o]=l[o](e),a.c()),ge(a,1),a.m(r,null)),2&n&&P(r,"flex-1",!e[1])},i(e){i||(ge(a),i=!0)},o(e){be(a),i=!1},d(e){e&&S(n),e&&S(r),c[o].d()}}}function Jc(e,t,n){let r,s,o,a,{params:i}=t,l=!1;function c(){s.stbl.numEntries!==a?.selectables.length&&n(3,a=new vs(s.stbl.entries,"id",(()=>{n(3,a)})))}const u=[pt.subscribe((async e=>{if(e)if(r=e,n(0,s=e.projects.find((e=>e.uuid===i.uuid))),s){try{await s.loadStringTable()}catch(e){return console.error(e),void n(2,o=e.stack??e.toString())}c(),n(1,l=!0)}else Ue("/");else nt.hasWorkspace?$s.fromStorage().then((e=>{pt.set(e)})):Ue("/")}))];return K((()=>{u.forEach((e=>e()))})),e.$$set=e=>{"params"in e&&n(6,i=e.params)},e.$$.update=()=>{1&e.$$.dirty&&s?.hasStbl&&c()},[s,l,o,a,function(){navigator.clipboard.writeText(o)},function(){r.toJson().then((e=>{const t=new Blob([JSON.stringify(e)]);Gs(t,"StblStudioWorkspace.json")}))},i,function(e){s=e,n(0,s)},function(e){s=e,n(0,s)},function(e){a=e,n(3,a)},function(e){a=e,n(3,a)},function(e){s=e,n(0,s)}]}class Yc extends Ne{constructor(e){super(),Ae(this,e,Jc,Zc,i,{params:6})}}var Xc=[{male:"Him",female:"Her",token:"SimPronounObjective",checked:!0},{male:"His",female:"Her",token:"SimPronounPossessiveDependent",checked:!0},{male:"His",female:"Hers",token:"SimPronounPossessiveIndependent",checked:!0},{male:"He",female:"She",token:"SimPronounSubjective",checked:!0},{male:"Himself",female:"Herself",token:"SimPronounReflexive",checked:!0}];function Qc(t){let n,r;return{c(){n=C("p"),n.textContent="Reading your files...",A(n,"class","mt-8 mb-0")},m(e,t){_(e,n,t)},i(e){r||re((()=>{r=$e(n,ht,{y:-20,duration:250}),r.start()}))},o:e,d(e){e&&S(n)}}}function eu(e){let t,n,r,s,o;function a(t){e[7](t)}let i={multiple:!0,label:"STBLs and/or Packages only",accept:".binary,.bnry,.stbl,.package",errorMessage:e[2]?"No English STBLs found":""};void 0!==e[1]&&(i.files=e[1]),n=new Ko({props:i}),J.push((()=>Ee(n,"files",a)));let l=e[0]&&Qc();return{c(){t=C("div"),Te(n.$$.fragment),s=T(),l&&l.c(),A(t,"class","mt-8 mb-6")},m(e,r){_(e,t,r),Le(n,t,null),x(t,s),l&&l.m(t,null),o=!0},p(e,[s]){const o={};4&s&&(o.errorMessage=e[2]?"No English STBLs found":""),!r&&2&s&&(r=!0,o.files=e[1],se((()=>r=!1))),n.$set(o),e[0]?l?1&s&&ge(l,1):(l=Qc(),l.c(),ge(l,1),l.m(t,null)):l&&(l.d(1),l=null)},i(e){o||(ge(n.$$.fragment,e),ge(l),o=!0)},o(e){be(n.$$.fragment,e),o=!1},d(e){e&&S(t),je(n),l&&l.d()}}}function tu(e,t){return[`\\{M\\d.${e}\\}\\{F(?<n>[\\d])\\.${t}\\}`,`\\{F(?<n>[\\d])\\.${t}\\}\\{M\\d.${e}\\}`]}function nu(e,t,n){const{StringTableResource:r,Package:s}=window.S4TK.models,{BinaryResourceType:o,StringTableLocale:a}=window.S4TK.enums,{Buffer:i}=window.S4TK.Node;let l,c,u,d=!1,{numStblsToRead:f}=t,{isReadingFiles:h}=t,{onFilesRead:p}=t,{possibleReplacements:m}=t;function g(e,t){if("package"===e.split(".").at(-1))return s.extractResources(t,{resourceFilter:(e,t,n)=>e===o.StringTable&&a.getLocale(n)===a.English});{const n=function(e){try{const{t:t,g:n,i:r}=/(?<t>[a-fA-F\d]{8})[_!]?(?<g>[a-fA-F\d]{8})[_!]?(?<i>[a-fA-F\d]{16})/.exec(e).groups;return{type:parseInt(t,16),group:parseInt(n,16),instance:BigInt("0x"+r)}}catch(e){return{type:o.StringTable,group:0,instance:0n}}}(e);return[{key:n,value:r.from(t)}]}}function b(e){const t=[];return e.entries.forEach((e=>{const n=function(e){let t=e.value,n=e.value,r=e.value;return u.forEach((s=>{s.patterns.forEach((o=>{const a=new RegExp(o,"g");let i,l=[];for(;null!=(i=a.exec(e.value));)l.push(i.groups.n);l.forEach((e=>{const o=s.result.replace("#",e);t=t.replace(a,o),n=n.replace(a,(e=>`<span class="text-red-500 dark:text-red-400 font-bold">${e}</span>`)),r=r.replace(a,`<span class="text-emerald-500 dark:text-emerald-400 font-bold">${o}</span>`)}))}))})),t===e.value?void 0:(e.value=t,{key:e.key,from:n,to:r})}(e);n&&t.push(n)})),t}return e.$$set=e=>{"numStblsToRead"in e&&n(3,f=e.numStblsToRead),"isReadingFiles"in e&&n(0,h=e.isReadingFiles),"onFilesRead"in e&&n(4,p=e.onFilesRead),"possibleReplacements"in e&&n(5,m=e.possibleReplacements)},e.$$.update=()=>{98&e.$$.dirty&&l&&(n(0,h=!0),n(6,u=[]),m.forEach((e=>{var t,n,r;e.checked&&u.push(...(t=e.male,n=e.female,r=e.token,[{patterns:tu(t.toLowerCase(),n.toLowerCase()),result:`{#.${r}}`},{patterns:tu(t,n),result:`{#.${r}|xxUpper}`},{patterns:tu(t.toUpperCase(),n.toUpperCase()),result:`{#.${r}|xxAllCaps}`}]))})),async function(){n(2,d=!1);const e=[];for(let t=0;t<l.length;t++)try{const n=l[t],r=i.from(await n.arrayBuffer());e.push(...g(n.name,r))}catch(e){console.error(e)}n(3,f=e.length),0===e.length?(n(2,d=!0),n(0,h=!1),n(3,f=null)):(c=[],e.forEach((e=>{c.push({stbl:e,changes:b(e.value)})})),p(c))}())},[h,l,d,f,p,m,u,function(e){l=e,n(1,l)}]}class ru extends Ne{constructor(e){super(),Ae(this,e,nu,eu,i,{numStblsToRead:3,isReadingFiles:0,onFilesRead:4,possibleReplacements:5})}}function su(t){let n,r,s,o,a,i,l,c,u,d,f,h,p;return{c(){n=C("div"),r=C("div"),s=C("p"),s.textContent="The Problem",o=T(),a=C("p"),i=E("The pronoun update is here, and there are new tokens to use instead\n            of M/F. Most M/F tokens still work, as the game automatically\n            replaces them at runtime. However, there are some issues. For\n            example, it doesn't always know what to do with "),l=C("code"),l.textContent="{F#.her}",c=E("\n            and\n            "),u=C("code"),u.textContent="{M#.his}",d=E(", since they each\n            have two meanings."),f=T(),h=C("div"),h.innerHTML='<p class="text-subtle text-sm uppercase font-bold">The Solution</p> \n          <ol class="list-disc pl-4"><li class="mb-2">Select which M/F pronouns you want to convert to gender-neutral\n              tokens.</li> \n            <li class="mb-2">Upload your strings to this website, either in string table\n              binaries or packages.</li> \n            <li>When the batch fix is done, you can review the changes that were\n              made and download your updated string tables.</li></ol>',A(s,"class","text-subtle text-sm uppercase font-bold"),A(l,"class","text-secondary"),A(u,"class","text-secondary"),A(r,"class","mt-4"),A(h,"class","my-4")},m(e,t){_(e,n,t),x(n,r),x(r,s),x(r,o),x(r,a),x(a,i),x(a,l),x(a,c),x(a,u),x(a,d),x(n,f),x(n,h)},i(e){p||re((()=>{p=$e(n,ft,{}),p.start()}))},o:e,d(e){e&&S(n)}}}function ou(t){let n,r,s,o,a,i,l,u,d,f,h,p,m,g,b,y,$=t[0]?"Hide":"Information",v=t[0]&&su();return{c(){n=C("div"),r=C("div"),s=C("div"),o=C("h2"),o.textContent="Pronoun Batch Fix Tool",a=T(),i=C("button"),l=C("img"),f=T(),h=E($),p=T(),v&&v.c(),m=T(),g=C("p"),g.innerHTML='Note that this tool only works for English, and will <strong class="text-subtle underline">not</strong> correct verb conjugation (i.e. &quot;they is&quot; → &quot;they are&quot;), as there is\n      currently no way to do so.',A(o,"class","font-bold text-2xl text-gradient drop-shadow"),A(l,"class","h-4"),c(l.src,u="./assets/"+(t[0]?"x":"help-circle-outline")+".svg")||A(l,"src",u),A(l,"alt",d=t[0]?"X":"?"),A(i,"class","default-button mt-4 sm:mt-0 text-sm flex items-center justify-center gap-2 rounded py-1 px-2 border border-black dark:border-white w-32"),A(s,"class","flex flex-col sm:flex-row justify-between"),A(g,"class","text-subtle text-xs mt-4"),A(r,"class","w-full xl:max-w-screen-xl px-4"),A(n,"class","flex justify-center pt-16 pb-8 bg-gray-50 dark:bg-gray-700 bottom-shadow hacker-bg-black hacker-border-b-gray")},m(e,c){_(e,n,c),x(n,r),x(r,s),x(s,o),x(s,a),x(s,i),x(i,l),x(i,f),x(i,h),x(r,p),v&&v.m(r,null),x(r,m),x(r,g),b||(y=j(i,"click",t[1]),b=!0)},p(e,[t]){1&t&&!c(l.src,u="./assets/"+(e[0]?"x":"help-circle-outline")+".svg")&&A(l,"src",u),1&t&&d!==(d=e[0]?"X":"?")&&A(l,"alt",d),1&t&&$!==($=e[0]?"Hide":"Information")&&B(h,$),e[0]?v?1&t&&ge(v,1):(v=su(),v.c(),ge(v,1),v.m(r,m)):v&&(v.d(1),v=null)},i(e){ge(v)},o:e,d(e){e&&S(n),v&&v.d(),b=!1,y()}}}function au(e,t,n){let r=!1;return[r,()=>n(0,r=!r)]}class iu extends Ne{constructor(e){super(),Ae(this,e,au,ou,i,{})}}function lu(e,t,n){const r=e.slice();return r[2]=t[n],r[3]=t,r[4]=n,r}function cu(e,t){let n,r,s,o,a;function i(e){t[1](e,t[2],t[3],t[4])}let l={label:t[2].male+"/"+t[2].female};return void 0!==t[2]&&(l.checkable=t[2]),r=new $o({props:l}),J.push((()=>Ee(r,"checkable",i))),{key:e,first:null,c(){n=C("div"),Te(r.$$.fragment),o=T(),A(n,"class","mr-4"),this.first=n},m(e,t){_(e,n,t),Le(r,n,null),x(n,o),a=!0},p(e,n){t=e;const o={};1&n&&(o.label=t[2].male+"/"+t[2].female),!s&&1&n&&(s=!0,o.checkable=t[2],se((()=>s=!1))),r.$set(o)},i(e){a||(ge(r.$$.fragment,e),a=!0)},o(e){be(r.$$.fragment,e),a=!1},d(e){e&&S(n),je(r)}}}function uu(e){let t,n,r,s,o,a=[],i=new Map,l=e[0];const c=e=>e[4];for(let t=0;t<l.length;t+=1){let n=lu(e,l,t),r=c(n);i.set(r,a[t]=cu(r,n))}return{c(){t=C("div"),n=C("p"),n.textContent="Pronouns to Replace",r=T(),s=C("div");for(let e=0;e<a.length;e+=1)a[e].c();A(n,"class","text-subtle uppercase text-sm font-bold mb-4"),A(s,"class","flex items-center flex-wrap"),A(t,"class","mt-4 mb-6")},m(e,i){_(e,t,i),x(t,n),x(t,r),x(t,s);for(let e=0;e<a.length;e+=1)a[e].m(s,null);o=!0},p(e,[t]){1&t&&(l=e[0],pe(),a=_e(a,t,c,1,e,l,i,s,ke,cu,null,lu),me())},i(e){if(!o){for(let e=0;e<l.length;e+=1)ge(a[e]);o=!0}},o(e){for(let e=0;e<a.length;e+=1)be(a[e]);o=!1},d(e){e&&S(t);for(let e=0;e<a.length;e+=1)a[e].d()}}}function du(e,t,n){let{possibleReplacements:r}=t;return e.$$set=e=>{"possibleReplacements"in e&&n(0,r=e.possibleReplacements)},[r,function(e,t,s,o){s[o]=e,n(0,r)}]}class fu extends Ne{constructor(e){super(),Ae(this,e,du,uu,i,{possibleReplacements:0})}}function hu(e,t,n){const r=e.slice();return r[13]=t[n],r[15]=n,r}function pu(e){let t,n=[],r=new Map,s=e[5];const o=e=>e[15];for(let t=0;t<s.length;t+=1){let a=hu(e,s,t),i=o(a);r.set(i,n[t]=gu(i,a))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=L()},m(e,r){for(let t=0;t<n.length;t+=1)n[t].m(e,r);_(e,t,r)},p(e,a){160&a&&(s=e[5],n=_e(n,a,o,1,e,s,r,t.parentNode,we,gu,t,hu))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&S(t)}}}function mu(t){let n;return{c(){n=C("div"),n.innerHTML='<div><h3 class="mb-4 text-lg font-bold">No Changes!</h3> \n            <p class="text-subtle">This string table does not contain any pronouns that need to be\n              batch fixed.</p></div>',A(n,"class","no-changes flex items-center justify-center text-center svelte-pq7gg0")},m(e,t){_(e,n,t)},p:e,d(e){e&&S(n)}}}function gu(e,t){let n,r,s,o,a,i,l,c,u,d,f,h,p,m,g,b=t[7](t[13].key)+"",y=t[13].from+"",$=t[13].to+"";return{key:e,first:null,c(){n=C("div"),r=C("h4"),s=E(b),o=T(),a=C("div"),i=C("div"),l=C("p"),l.textContent="Before",c=T(),u=C("p"),d=T(),f=C("div"),h=C("p"),h.textContent="After",p=T(),m=C("p"),g=T(),A(r,"class","mb-4"),A(l,"class","text-sm uppercase font-bold text-subtle"),A(u,"class","text-subtle mt-2 mb-0"),A(i,"class","svelte-pq7gg0"),A(h,"class","text-sm uppercase font-bold text-subtle"),A(m,"class","text-subtle mt-2 mb-0"),A(f,"class","svelte-pq7gg0"),A(a,"class","comparison flex justify-between gap-4 svelte-pq7gg0"),A(n,"class","change-container mx-8 svelte-pq7gg0"),this.first=n},m(e,t){_(e,n,t),x(n,r),x(r,s),x(n,o),x(n,a),x(a,i),x(i,l),x(i,c),x(i,u),u.innerHTML=y,x(a,d),x(a,f),x(f,h),x(f,p),x(f,m),m.innerHTML=$,x(n,g)},p(e,n){t=e,32&n&&b!==(b=t[7](t[13].key)+"")&&B(s,b),32&n&&y!==(y=t[13].from+"")&&(u.innerHTML=y),32&n&&$!==($=t[13].to+"")&&(m.innerHTML=$)},d(e){e&&S(n)}}}function bu(e){let t,n,r,s,o,a,i,l,c,u,d,f,h,p,m,g,b,y,$,v,w,k,L,j,N,R,D,P,I,z,M,O,F,H=e[3]+1+"",U=e[0].length+"",W=e[6](e[4].stbl.key.instance)+"",G=e[1]+1+"",q=e[4].changes.length+"";function K(e,t){return 0===e[5].length?mu:pu}s=new vn({props:{direction:"left",text:"Previous STBL",onClick:e[9],active:e[3]>0}}),b=new vn({props:{direction:"right",text:"Next STBL",active:e[3]<e[0].length-1,onClick:e[8]}});let V=K(e),Z=V(e);return k=new vn({props:{direction:"left",text:"Previous Strings",onClick:e[10],active:e[1]>0}}),O=new vn({props:{direction:"right",text:"Next Strings",active:e[2]<e[4].changes.length,onClick:e[11]}}),{c(){t=C("div"),n=C("div"),r=C("div"),Te(s.$$.fragment),o=T(),a=C("div"),i=C("h2"),l=E("String Table "),c=E(H),u=E(" of "),d=E(U),f=T(),h=C("p"),p=E("ID: "),m=E(W),g=T(),Te(b.$$.fragment),y=T(),$=C("div"),Z.c(),v=T(),w=C("div"),Te(k.$$.fragment),L=T(),j=C("p"),N=E("Showing changes "),R=E(G),D=E(" - "),P=E(e[2]),I=E(" of "),z=E(q),M=T(),Te(O.$$.fragment),A(i,"class","font-bold text-2xl text-gradient drop-shadow"),A(h,"class","text-subtle uppercase monospace text-sm mt-4"),A(a,"class","text-center"),A(r,"class","flex justify-between"),A($,"class","batch-results-content my-8 svelte-pq7gg0"),A(j,"class","text-subtle text-sm"),A(w,"class","flex justify-between"),A(n,"class","w-full"),A(t,"class","pronoun-batch-results flex items-center w-full svelte-pq7gg0")},m(e,S){_(e,t,S),x(t,n),x(n,r),Le(s,r,null),x(r,o),x(r,a),x(a,i),x(i,l),x(i,c),x(i,u),x(i,d),x(a,f),x(a,h),x(h,p),x(h,m),x(r,g),Le(b,r,null),x(n,y),x(n,$),Z.m($,null),x(n,v),x(n,w),Le(k,w,null),x(w,L),x(w,j),x(j,N),x(j,R),x(j,D),x(j,P),x(j,I),x(j,z),x(w,M),Le(O,w,null),F=!0},p(e,[t]){const n={};8&t&&(n.active=e[3]>0),s.$set(n),(!F||8&t)&&H!==(H=e[3]+1+"")&&B(c,H),(!F||1&t)&&U!==(U=e[0].length+"")&&B(d,U),(!F||16&t)&&W!==(W=e[6](e[4].stbl.key.instance)+"")&&B(m,W);const r={};9&t&&(r.active=e[3]<e[0].length-1),b.$set(r),V===(V=K(e))&&Z?Z.p(e,t):(Z.d(1),Z=V(e),Z&&(Z.c(),Z.m($,null)));const o={};2&t&&(o.active=e[1]>0),k.$set(o),(!F||2&t)&&G!==(G=e[1]+1+"")&&B(R,G),(!F||4&t)&&B(P,e[2]),(!F||16&t)&&q!==(q=e[4].changes.length+"")&&B(z,q);const a={};20&t&&(a.active=e[2]<e[4].changes.length),O.$set(a)},i(e){F||(ge(s.$$.fragment,e),ge(b.$$.fragment,e),ge(k.$$.fragment,e),ge(O.$$.fragment,e),F=!0)},o(e){be(s.$$.fragment,e),be(b.$$.fragment,e),be(k.$$.fragment,e),be(O.$$.fragment,e),F=!1},d(e){e&&S(t),je(s),je(b),Z.d(),je(k),je(O)}}}function yu(e,t,n){const{formatResourceInstance:r,formatStringKey:s}=window.S4TK.formatting;let{batchFixResult:o}=t,a=0,i=0,l=0,c=o[l],u=d();function d(){const e=a+10;return n(2,i=e<=c.changes.length?e:c.changes.length),c.changes.slice(a,i)}return e.$$set=e=>{"batchFixResult"in e&&n(0,o=e.batchFixResult)},[o,a,i,l,c,u,r,s,function(){n(1,a=0),n(3,l++,l),n(4,c=o[l]),n(5,u=d())},function(){n(1,a=0),n(3,l--,l),n(4,c=o[l]),n(5,u=d())},function(){n(1,a-=10),n(5,u=d())},function(){n(1,a=i),n(5,u=d())}]}class $u extends Ne{constructor(e){super(),Ae(this,e,yu,bu,i,{batchFixResult:0})}}function vu(t){let n,r,s,a,i,l,c,u,d,f,h;return r=new Zr({props:{title:"3) All set!"}}),{c(){n=C("div"),Te(r.$$.fragment),s=T(),a=C("div"),i=C("button"),i.innerHTML='<img class="h-6" src="./assets/eye-outline.svg" alt="Eye"/>\n                View',l=T(),c=C("button"),c.innerHTML='<img class="h-6" src="./assets/download.svg" alt="Download"/>\n                Download',A(i,"class","default-button flex items-center justify-center gap-4 px-4 py-2 text-lg rounded border border-black dark:border-white"),A(c,"class","default-button flex items-center justify-center gap-4 px-4 py-2 text-lg rounded border border-black dark:border-white"),A(a,"class","flex justify-around mt-4")},m(e,o){_(e,n,o),Le(r,n,null),x(n,s),x(n,a),x(a,i),x(a,l),x(a,c),d=!0,f||(h=[j(i,"click",t[11]),j(c,"click",t[6])],f=!0)},p:e,i(e){d||(ge(r.$$.fragment,e),u||re((()=>{u=$e(n,ht,{y:20,duration:250}),u.start()})),d=!0)},o(e){be(r.$$.fragment,e),d=!1},d(e){e&&S(n),je(r),f=!1,o(h)}}}function xu(e){let t,n;return t=new sn({props:{onClose:e[13],large:!0,fill:!0,$$slots:{default:[wu]},$$scope:{ctx:e}}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.onClose=e[13]),32772&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function wu(e){let t,n,r;function s(t){e[12](t)}let o={};return void 0!==e[2]&&(o.batchFixResult=e[2]),t=new $u({props:o}),J.push((()=>Ee(t,"batchFixResult",s))),{c(){Te(t.$$.fragment)},m(e,n){Le(t,e,n),r=!0},p(e,r){const s={};!n&&4&r&&(n=!0,s.batchFixResult=e[2],se((()=>n=!1))),t.$set(s)},i(e){r||(ge(t.$$.fragment,e),r=!0)},o(e){be(t.$$.fragment,e),r=!1},d(e){je(t,e)}}}function ku(e){let t,n,r,s,o,a,i,l,c,u,d,f,h,p,m,g,b,y,$,v,w,k,E,j;function N(t){e[7](t)}r=new iu({}),c=new Zr({props:{title:"1) Select your replacements"}});let B={};function R(t){e[8](t)}function D(t){e[9](t)}function P(t){e[10](t)}void 0!==e[3]&&(B.possibleReplacements=e[3]),d=new fu({props:B}),J.push((()=>Ee(d,"possibleReplacements",N))),m=new Zr({props:{title:"2) Upload your string tables"}});let I={onFilesRead:e[5]};void 0!==e[0]&&(I.isReadingFiles=e[0]),void 0!==e[1]&&(I.numStblsToRead=e[1]),void 0!==e[3]&&(I.possibleReplacements=e[3]),b=new ru({props:I}),J.push((()=>Ee(b,"isReadingFiles",R))),J.push((()=>Ee(b,"numStblsToRead",D))),J.push((()=>Ee(b,"possibleReplacements",P)));let z=!e[0]&&null!=e[1]&&vu(e),M=e[4]&&xu(e);return{c(){t=T(),n=C("section"),Te(r.$$.fragment),s=T(),o=C("div"),a=C("div"),i=C("div"),l=C("div"),Te(c.$$.fragment),u=T(),Te(d.$$.fragment),h=T(),p=C("div"),Te(m.$$.fragment),g=T(),Te(b.$$.fragment),w=T(),z&&z.c(),k=T(),M&&M.c(),E=L(),document.title="STBL Studio | Pronouns",A(i,"class","flex flex-col gap-6"),A(a,"class","w-full xl:max-w-screen-xl py-8 px-4"),A(o,"class","w-full flex justify-center"),A(n,"class","w-full flex flex-col justify-center")},m(e,f){_(e,t,f),_(e,n,f),Le(r,n,null),x(n,s),x(n,o),x(o,a),x(a,i),x(i,l),Le(c,l,null),x(l,u),Le(d,l,null),x(i,h),x(i,p),Le(m,p,null),x(p,g),Le(b,p,null),x(i,w),z&&z.m(i,null),_(e,k,f),M&&M.m(e,f),_(e,E,f),j=!0},p(e,[t]){const n={};!f&&8&t&&(f=!0,n.possibleReplacements=e[3],se((()=>f=!1))),d.$set(n);const r={};!y&&1&t&&(y=!0,r.isReadingFiles=e[0],se((()=>y=!1))),!$&&2&t&&($=!0,r.numStblsToRead=e[1],se((()=>$=!1))),!v&&8&t&&(v=!0,r.possibleReplacements=e[3],se((()=>v=!1))),b.$set(r),e[0]||null==e[1]?z&&(pe(),be(z,1,1,(()=>{z=null})),me()):z?(z.p(e,t),3&t&&ge(z,1)):(z=vu(e),z.c(),ge(z,1),z.m(i,null)),e[4]?M?(M.p(e,t),16&t&&ge(M,1)):(M=xu(e),M.c(),ge(M,1),M.m(E.parentNode,E)):M&&(pe(),be(M,1,1,(()=>{M=null})),me())},i(e){j||(ge(r.$$.fragment,e),ge(c.$$.fragment,e),ge(d.$$.fragment,e),ge(m.$$.fragment,e),ge(b.$$.fragment,e),ge(z),ge(M),j=!0)},o(e){be(r.$$.fragment,e),be(c.$$.fragment,e),be(d.$$.fragment,e),be(m.$$.fragment,e),be(b.$$.fragment,e),be(z),be(M),j=!1},d(e){e&&S(t),e&&S(n),je(r),je(c),je(d),je(m),je(b),z&&z.d(),e&&S(k),M&&M.d(e),e&&S(E)}}}function _u(e,t,n){const{Package:r}=window.S4TK.models;let s,o=!1,a=null,i=Xc,l=!1;return[o,a,s,i,l,function(e){setTimeout((()=>{n(2,s=e),n(0,o=!1)}),500)},function(){const e=new r;s.forEach((({stbl:t})=>{e.add(t.key,t.value)}));const t=e.getBuffer(),n=new Blob([t]);Gs.saveAs(n,"PronounBatchFix.package")},function(e){i=e,n(3,i)},function(e){o=e,n(0,o)},function(e){a=e,n(1,a)},function(e){i=e,n(3,i)},()=>n(4,l=!0),function(e){s=e,n(2,s)},()=>n(4,l=!1)]}class Su extends Ne{constructor(e){super(),Ae(this,e,_u,ku,i,{})}}function Cu(t){let n,r,s,o,a,i,l,c,u;return n=new Ar({}),o=new Ge({props:{routes:t[0],restoreScrollState:!0}}),o.$on("routeLoaded",t[1]),i=new Dr({}),c=new qr({}),{c(){Te(n.$$.fragment),r=T(),s=C("main"),Te(o.$$.fragment),a=T(),Te(i.$$.fragment),l=T(),Te(c.$$.fragment),A(s,"class","min-h-screen flex flex-col")},m(e,t){Le(n,e,t),_(e,r,t),_(e,s,t),Le(o,s,null),_(e,a,t),Le(i,e,t),_(e,l,t),Le(c,e,t),u=!0},p:e,i(e){u||(ge(n.$$.fragment,e),ge(o.$$.fragment,e),ge(i.$$.fragment,e),ge(c.$$.fragment,e),u=!0)},o(e){be(n.$$.fragment,e),be(o.$$.fragment,e),be(i.$$.fragment,e),be(c.$$.fragment,e),u=!1},d(e){je(n,e),e&&S(r),e&&S(s),je(o),e&&S(a),je(i,e),e&&S(l),je(c,e)}}}function Eu(e){const t={"/batch-fix/pronouns":"/tools/pronouns"};return[{"/":ri,"/project/:uuid":Yc,"/tools/pronouns":Su,"*":Yr},function(e){const{location:n}=e.detail;n in t&&Ue(t[n])}]}const Tu=new class extends Ne{constructor(e){super(),Ae(this,e,Eu,Cu,i,{})}}({target:document.body});return window.addEventListener("load",(()=>{nt.mainframeHacked?Ve.toggleBooleanAttribute("data-hacker-theme",!0):Ve.toggleLightTheme(nt.isLightTheme,!1),Ve.toggleBooleanAttribute("data-monochrome-toolbar",nt.disableToolbarColors),Ve.toggleBooleanAttribute("data-allow-blur",!nt.disableBlur)})),Tu}();
//# sourceMappingURL=bundle.js.map
