var app=function(){"use strict";function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function r(e){return e()}function s(){return Object.create(null)}function o(e){e.forEach(r)}function i(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let l;function c(e,t){return l||(l=document.createElement("a")),l.href=t,e===l.href}function u(e,t,n,r){if(e){const s=d(e,t,n,r);return e[0](s)}}function d(e,t,r,s){return e[1]&&s?n(r.ctx.slice(),e[1](s(t))):r.ctx}function f(e,t,n,r){if(e[2]&&r){const s=e[2](r(n));if(void 0===t.dirty)return s;if("object"==typeof s){const e=[],n=Math.max(t.dirty.length,s.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|s[r];return e}return t.dirty|s}return t.dirty}function h(e,t,n,r,s,o){if(s){const i=d(t,n,r,o);e.p(i,s)}}function p(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}const m="undefined"!=typeof window;let g=m?()=>window.performance.now():()=>Date.now(),b=m?e=>requestAnimationFrame(e):e;const y=new Set;function v(e){y.forEach((t=>{t.c(e)||(y.delete(t),t.f())})),0!==y.size&&b(v)}function $(e){let t;return 0===y.size&&b(v),{promise:new Promise((n=>{y.add(t={c:e,f:n})})),abort(){y.delete(t)}}}function x(e,t){e.appendChild(t)}function w(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function k(e){const t=C("style");return function(e,t){x(e.head||e,t)}(w(e),t),t.sheet}function _(e,t,n){e.insertBefore(t,n||null)}function S(e){e.parentNode.removeChild(e)}function C(e){return document.createElement(e)}function E(e){return document.createTextNode(e)}function T(){return E(" ")}function L(){return E("")}function j(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function A(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function R(e){return""===e?null:+e}function B(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function N(e,t){e.value=null==t?"":t}function D(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}e.selectedIndex=-1}function I(e,t,n){e.classList[n?"add":"remove"](t)}function O(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(e,n,r,t),s}class P{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){var r;this.e||(this.is_svg?this.e=(r=t.nodeName,document.createElementNS("http://www.w3.org/2000/svg",r)):this.e=C(t.nodeName),this.t=t,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)_(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(S)}}const z=new Map;let M,F=0;function H(e,t,n,r,s,o,i,a=0){const l=16.666/r;let c="{\n";for(let e=0;e<=1;e+=l){const r=t+(n-t)*o(e);c+=100*e+`%{${i(r,1-r)}}\n`}const u=c+`100% {${i(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${a}`,f=w(e),{stylesheet:h,rules:p}=z.get(f)||function(e,t){const n={stylesheet:k(t),rules:{}};return z.set(e,n),n}(f,e);p[d]||(p[d]=!0,h.insertRule(`@keyframes ${d} ${u}`,h.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?`${m}, `:""}${d} ${r}ms linear ${s}ms 1 both`,F+=1,d}function U(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),s=n.length-r.length;s&&(e.style.animation=r.join(", "),F-=s,F||b((()=>{F||(z.forEach((e=>{const{stylesheet:t}=e;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.rules={}})),z.clear())})))}function W(e){M=e}function q(){if(!M)throw new Error("Function called outside component initialization");return M}function G(e){q().$$.on_mount.push(e)}function K(e){q().$$.on_destroy.push(e)}function V(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const Z=[],J=[],Y=[],X=[],Q=Promise.resolve();let ee=!1;function te(){ee||(ee=!0,Q.then(le))}function ne(){return te(),Q}function re(e){Y.push(e)}function se(e){X.push(e)}const oe=new Set;let ie,ae=0;function le(){const e=M;do{for(;ae<Z.length;){const e=Z[ae];ae++,W(e),ce(e.$$)}for(W(null),Z.length=0,ae=0;J.length;)J.pop()();for(let e=0;e<Y.length;e+=1){const t=Y[e];oe.has(t)||(oe.add(t),t())}Y.length=0}while(Z.length);for(;X.length;)X.pop()();ee=!1,oe.clear(),W(e)}function ce(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(re)}}function ue(){return ie||(ie=Promise.resolve(),ie.then((()=>{ie=null}))),ie}function de(e,t,n){e.dispatchEvent(O(`${t?"intro":"outro"}${n}`))}const fe=new Set;let he;function pe(){he={r:0,c:[],p:he}}function me(){he.r||o(he.c),he=he.p}function ge(e,t){e&&e.i&&(fe.delete(e),e.i(t))}function be(e,t,n,r){if(e&&e.o){if(fe.has(e))return;fe.add(e),he.c.push((()=>{fe.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}else r&&r()}const ye={duration:0};function ve(n,r,s){let o,a,l=r(n,s),c=!1,u=0;function d(){o&&U(n,o)}function f(){const{delay:r=0,duration:s=300,easing:i=t,tick:f=e,css:h}=l||ye;h&&(o=H(n,0,1,s,r,i,h,u++)),f(0,1);const p=g()+r,m=p+s;a&&a.abort(),c=!0,re((()=>de(n,!0,"start"))),a=$((e=>{if(c){if(e>=m)return f(1,0),de(n,!0,"end"),d(),c=!1;if(e>=p){const t=i((e-p)/s);f(t,1-t)}}return c}))}let h=!1;return{start(){h||(h=!0,U(n),i(l)?(l=l(),ue().then(f)):f())},invalidate(){h=!1},end(){c&&(d(),c=!1)}}}function $e(n,r,s){let a,l=r(n,s),c=!0;const u=he;function d(){const{delay:r=0,duration:s=300,easing:i=t,tick:d=e,css:f}=l||ye;f&&(a=H(n,1,0,s,r,i,f));const h=g()+r,p=h+s;re((()=>de(n,!1,"start"))),$((e=>{if(c){if(e>=p)return d(0,1),de(n,!1,"end"),--u.r||o(u.c),!1;if(e>=h){const t=i((e-h)/s);d(1-t,t)}}return c}))}return u.r+=1,i(l)?ue().then((()=>{l=l(),d()})):d(),{end(e){e&&l.tick&&l.tick(1,0),c&&(a&&U(n,a),c=!1)}}}function xe(n,r,s,a){let l=r(n,s),c=a?0:1,u=null,d=null,f=null;function h(){f&&U(n,f)}function p(e,t){const n=e.b-c;return t*=Math.abs(n),{a:c,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function m(r){const{delay:s=0,duration:i=300,easing:a=t,tick:m=e,css:b}=l||ye,y={start:g()+s,b:r};r||(y.group=he,he.r+=1),u||d?d=y:(b&&(h(),f=H(n,c,r,i,s,a,b)),r&&m(0,1),u=p(y,i),re((()=>de(n,r,"start"))),$((e=>{if(d&&e>d.start&&(u=p(d,i),d=null,de(n,u.b,"start"),b&&(h(),f=H(n,c,u.b,u.duration,0,a,l.css))),u)if(e>=u.end)m(c=u.b,1-c),de(n,u.b,"end"),d||(u.b?h():--u.group.r||o(u.group.c)),u=null;else if(e>=u.start){const t=e-u.start;c=u.a+u.d*a(t/u.duration),m(c,1-c)}return!(!u&&!d)})))}return{run(e){i(l)?ue().then((()=>{l=l(),m(e)})):m(e)},end(){h(),u=d=null}}}function we(e,t){e.d(1),t.delete(e.key)}function ke(e,t){be(e,1,1,(()=>{t.delete(e.key)}))}function _e(e,t,n,r,s,o,i,a,l,c,u,d){let f=e.length,h=o.length,p=f;const m={};for(;p--;)m[e[p].key]=p;const g=[],b=new Map,y=new Map;for(p=h;p--;){const e=d(s,o,p),a=n(e);let l=i.get(a);l?r&&l.p(e,t):(l=c(a,e),l.c()),b.set(a,g[p]=l),a in m&&y.set(a,Math.abs(p-m[a]))}const v=new Set,$=new Set;function x(e){ge(e,1),e.m(a,u),i.set(e.key,e),u=e.first,h--}for(;f&&h;){const t=g[h-1],n=e[f-1],r=t.key,s=n.key;t===n?(u=t.first,f--,h--):b.has(s)?!i.has(r)||v.has(r)?x(t):$.has(s)?f--:y.get(r)>y.get(s)?($.add(r),x(t)):(v.add(s),f--):(l(n,i),f--)}for(;f--;){const t=e[f];b.has(t.key)||l(t,i)}for(;h;)x(g[h-1]);return g}function Se(e,t){const n={},r={},s={$$scope:1};let o=e.length;for(;o--;){const i=e[o],a=t[o];if(a){for(const e in i)e in a||(r[e]=1);for(const e in a)s[e]||(n[e]=a[e],s[e]=1);e[o]=a}else for(const e in i)s[e]=1}for(const e in r)e in n||(n[e]=void 0);return n}function Ce(e){return"object"==typeof e&&null!==e?e:{}}function Ee(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function Te(e){e&&e.c()}function Le(e,t,n,s){const{fragment:a,on_mount:l,on_destroy:c,after_update:u}=e.$$;a&&a.m(t,n),s||re((()=>{const t=l.map(r).filter(i);c?c.push(...t):o(t),e.$$.on_mount=[]})),u.forEach(re)}function je(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ae(t,n,r,i,a,l,c,u=[-1]){const d=M;W(t);const f=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:a,bound:s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:s(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};c&&c(f.root);let h=!1;if(f.ctx=r?r(t,n.props||{},((e,n,...r)=>{const s=r.length?r[0]:n;return f.ctx&&a(f.ctx[e],f.ctx[e]=s)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](s),h&&function(e,t){-1===e.$$.dirty[0]&&(Z.push(e),te(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),n})):[],f.update(),h=!0,o(f.before_update),f.fragment=!!i&&i(f.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);f.fragment&&f.fragment.l(e),e.forEach(S)}else f.fragment&&f.fragment.c();n.intro&&ge(t.$$.fragment),Le(t,n.target,n.anchor,n.customElement),le()}W(d)}class Re{$destroy(){je(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Be=[];function Ne(e,t){return{subscribe:De(e,t).subscribe}}function De(t,n=e){let r;const s=new Set;function o(e){if(a(t,e)&&(t=e,r)){const e=!Be.length;for(const e of s)e[1](),Be.push(e,t);if(e){for(let e=0;e<Be.length;e+=2)Be[e][0](Be[e+1]);Be.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(i,a=e){const l=[i,a];return s.add(l),1===s.size&&(r=n(o)||e),i(t),()=>{s.delete(l),0===s.size&&(r(),r=null)}}}}function Ie(t,n,r){const s=!Array.isArray(t),a=s?[t]:t,l=n.length<2;return Ne(r,(t=>{let r=!1;const c=[];let u=0,d=e;const f=()=>{if(u)return;d();const r=n(s?c[0]:c,t);l?t(r):d=i(r)?r:e},h=a.map(((t,n)=>function(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(t,(e=>{c[n]=e,u&=~(1<<n),r&&f()}),(()=>{u|=1<<n}))));return r=!0,f(),function(){o(h),d()}}))}function Oe(e){let t,r,s;const o=[e[2]];var i=e[0];function a(e){let t={};for(let e=0;e<o.length;e+=1)t=n(t,o[e]);return{props:t}}return i&&(t=new i(a()),t.$on("routeEvent",e[7])),{c(){t&&Te(t.$$.fragment),r=L()},m(e,n){t&&Le(t,e,n),_(e,r,n),s=!0},p(e,n){const s=4&n?Se(o,[Ce(e[2])]):{};if(i!==(i=e[0])){if(t){pe();const e=t;be(e.$$.fragment,1,0,(()=>{je(e,1)})),me()}i?(t=new i(a()),t.$on("routeEvent",e[7]),Te(t.$$.fragment),ge(t.$$.fragment,1),Le(t,r.parentNode,r)):t=null}else i&&t.$set(s)},i(e){s||(t&&ge(t.$$.fragment,e),s=!0)},o(e){t&&be(t.$$.fragment,e),s=!1},d(e){e&&S(r),t&&je(t,e)}}}function Pe(e){let t,r,s;const o=[{params:e[1]},e[2]];var i=e[0];function a(e){let t={};for(let e=0;e<o.length;e+=1)t=n(t,o[e]);return{props:t}}return i&&(t=new i(a()),t.$on("routeEvent",e[6])),{c(){t&&Te(t.$$.fragment),r=L()},m(e,n){t&&Le(t,e,n),_(e,r,n),s=!0},p(e,n){const s=6&n?Se(o,[2&n&&{params:e[1]},4&n&&Ce(e[2])]):{};if(i!==(i=e[0])){if(t){pe();const e=t;be(e.$$.fragment,1,0,(()=>{je(e,1)})),me()}i?(t=new i(a()),t.$on("routeEvent",e[6]),Te(t.$$.fragment),ge(t.$$.fragment,1),Le(t,r.parentNode,r)):t=null}else i&&t.$set(s)},i(e){s||(t&&ge(t.$$.fragment,e),s=!0)},o(e){t&&be(t.$$.fragment,e),s=!1},d(e){e&&S(r),t&&je(t,e)}}}function ze(e){let t,n,r,s;const o=[Pe,Oe],i=[];function a(e,t){return e[1]?0:1}return t=a(e),n=i[t]=o[t](e),{c(){n.c(),r=L()},m(e,n){i[t].m(e,n),_(e,r,n),s=!0},p(e,[s]){let l=t;t=a(e),t===l?i[t].p(e,s):(pe(),be(i[l],1,1,(()=>{i[l]=null})),me(),n=i[t],n?n.p(e,s):(n=i[t]=o[t](e),n.c()),ge(n,1),n.m(r.parentNode,r))},i(e){s||(ge(n),s=!0)},o(e){be(n),s=!1},d(e){i[t].d(e),e&&S(r)}}}function Me(){const e=window.location.href.indexOf("#/");let t=e>-1?window.location.href.substr(e+1):"/";const n=t.indexOf("?");let r="";return n>-1&&(r=t.substr(n+1),t=t.substr(0,n)),{location:t,querystring:r}}const Fe=Ne(null,(function(e){e(Me());const t=()=>{e(Me())};return window.addEventListener("hashchange",t,!1),function(){window.removeEventListener("hashchange",t,!1)}}));Ie(Fe,(e=>e.location)),Ie(Fe,(e=>e.querystring));const He=De(void 0);async function Ue(e){if(!e||e.length<1||"/"!=e.charAt(0)&&0!==e.indexOf("#/"))throw Error("Invalid parameter location");await ne();const t=("#"==e.charAt(0)?"":"#")+e;try{const e={...history.state};delete e.__svelte_spa_router_scrollX,delete e.__svelte_spa_router_scrollY,window.history.replaceState(e,void 0,t)}catch(e){console.warn("Caught exception while replacing the current page. If you're running this in the Svelte REPL, please note that the `replace` method might not work in this environment.")}window.dispatchEvent(new Event("hashchange"))}function We(e,t,n){let{routes:r={}}=t,{prefix:s=""}=t,{restoreScrollState:o=!1}=t;class i{constructor(e,t){if(!t||"function"!=typeof t&&("object"!=typeof t||!0!==t._sveltesparouter))throw Error("Invalid component object");if(!e||"string"==typeof e&&(e.length<1||"/"!=e.charAt(0)&&"*"!=e.charAt(0))||"object"==typeof e&&!(e instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:n,keys:r}=function(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,s,o,i=[],a="",l=e.split("/");for(l[0]||l.shift();s=l.shift();)"*"===(n=s[0])?(i.push("wild"),a+="/(.*)"):":"===n?(r=s.indexOf("?",1),o=s.indexOf(".",1),i.push(s.substring(1,~r?r:~o?o:s.length)),a+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(a+=(~r?"?":"")+"\\"+s.substring(o))):a+="/"+s;return{keys:i,pattern:new RegExp("^"+a+(t?"(?=$|/)":"/?$"),"i")}}(e);this.path=e,"object"==typeof t&&!0===t._sveltesparouter?(this.component=t.component,this.conditions=t.conditions||[],this.userData=t.userData,this.props=t.props||{}):(this.component=()=>Promise.resolve(t),this.conditions=[],this.props={}),this._pattern=n,this._keys=r}match(e){if(s)if("string"==typeof s){if(!e.startsWith(s))return null;e=e.substr(s.length)||"/"}else if(s instanceof RegExp){const t=e.match(s);if(!t||!t[0])return null;e=e.substr(t[0].length)||"/"}const t=this._pattern.exec(e);if(null===t)return null;if(!1===this._keys)return t;const n={};let r=0;for(;r<this._keys.length;){try{n[this._keys[r]]=decodeURIComponent(t[r+1]||"")||null}catch(e){n[this._keys[r]]=null}r++}return n}async checkConditions(e){for(let t=0;t<this.conditions.length;t++)if(!await this.conditions[t](e))return!1;return!0}}const a=[];r instanceof Map?r.forEach(((e,t)=>{a.push(new i(t,e))})):Object.keys(r).forEach((e=>{a.push(new i(e,r[e]))}));let l=null,c=null,u={};const d=function(){const e=q();return(t,n,{cancelable:r=!1}={})=>{const s=e.$$.callbacks[t];if(s){const o=O(t,n,{cancelable:r});return s.slice().forEach((t=>{t.call(e,o)})),!o.defaultPrevented}return!0}}();async function f(e,t){await ne(),d(e,t)}let h=null,p=null;var m;o&&(p=e=>{h=e.state&&e.state.__svelte_spa_router_scrollY?e.state:null},window.addEventListener("popstate",p),m=()=>{h?window.scrollTo(h.__svelte_spa_router_scrollX,h.__svelte_spa_router_scrollY):window.scrollTo(0,0)},q().$$.after_update.push(m));let g=null,b=null;const y=Fe.subscribe((async e=>{g=e;let t=0;for(;t<a.length;){const r=a[t].match(e.location);if(!r){t++;continue}const s={route:a[t].path,location:e.location,querystring:e.querystring,userData:a[t].userData,params:r&&"object"==typeof r&&Object.keys(r).length?r:null};if(!await a[t].checkConditions(s))return n(0,l=null),b=null,void f("conditionsFailed",s);f("routeLoading",Object.assign({},s));const o=a[t].component;if(b!=o){o.loading?(n(0,l=o.loading),b=o,n(1,c=o.loadingParams),n(2,u={}),f("routeLoaded",Object.assign({},s,{component:l,name:l.name,params:c}))):(n(0,l=null),b=null);const t=await o();if(e!=g)return;n(0,l=t&&t.default||t),b=o}return r&&"object"==typeof r&&Object.keys(r).length?n(1,c=r):n(1,c=null),n(2,u=a[t].props),void f("routeLoaded",Object.assign({},s,{component:l,name:l.name,params:c})).then((()=>{He.set(c)}))}n(0,l=null),b=null,He.set(void 0)}));return K((()=>{y(),p&&window.removeEventListener("popstate",p)})),e.$$set=e=>{"routes"in e&&n(3,r=e.routes),"prefix"in e&&n(4,s=e.prefix),"restoreScrollState"in e&&n(5,o=e.restoreScrollState)},e.$$.update=()=>{32&e.$$.dirty&&(history.scrollRestoration=o?"manual":"auto")},[l,c,u,r,s,o,function(t){V.call(this,e,t)},function(t){V.call(this,e,t)}]}class qe extends Re{constructor(e){super(),Ae(this,e,We,ze,a,{routes:3,prefix:4,restoreScrollState:5})}}var Ge;!function(e){e.toggleLightTheme=function(e,t){t&&(document.documentElement.classList.add("theme-transition"),window.setTimeout((()=>{document.documentElement.classList.remove("theme-transition")}),500)),e?document.documentElement.classList.remove("dark"):document.documentElement.classList.add("dark")},e.toggleBooleanAttribute=function(e,t){document.documentElement.setAttribute(e,t?"true":"false")}}(Ge||(Ge={}));var Ke,Ve=Ge;!function(e){e.clear=function(){localStorage.clear()},e.getItem=function(e){return localStorage.getItem(e)},e.removeItem=function(e){localStorage.removeItem(e)},e.setItem=function(e,t){localStorage.setItem(e,t)}}(Ke||(Ke={}));var Ze=Ke,Je={allLocales:100},Ye={rickRoll:"https://youtu.be/a3Z7zEc7AXQ"};class Xe{constructor(e,t,n=[]){this.name=e,this.defaultValue=t,this._onChangeCallbacks=n}get(e){const t=Ze.getItem("s:"+e);return t?this._parseValue(t):this.defaultValue}set(e,t){Ze.setItem("s:"+e,this._stringifyValue(t)),this._onChange(t)}addCallback(e){this._onChangeCallbacks.push(e)}_onChange(e){this._onChangeCallbacks.forEach((t=>t(e)))}}class Qe extends Xe{constructor(e,t=!1,n){super(e,t,n)}_parseValue(e){return"true"===e}_stringifyValue(e){return e?"true":"false"}}class et extends Xe{constructor(e,t=0,n){super(e,t,n)}_parseValue(e){const t=parseInt(e);return Number.isNaN(t)?this.defaultValue:t}_stringifyValue(e){return e.toString()}}class tt extends Xe{constructor(e,t,n){super(e,t,n)}_parseValue(e){return e}_stringifyValue(e){return e}}const nt=function(e){const t={};for(const n in e){const r=e[n];t[n]=new r.cls(n,r.defaultValue,r.callbacks)}return new Proxy(t,{get:(e,t)=>e[t].get(t),set:(e,t,n)=>(e[t].set(t,n),rt.notifySubscribers(t,n),!0)})}({defaultLocale:{cls:et},entriesPerPage:{cls:et,defaultValue:9},hasWorkspace:{cls:Qe},disableBlur:{cls:Qe,callbacks:[e=>Ve.toggleBooleanAttribute("data-allow-blur",!e)]},disableToolbarColors:{cls:Qe,callbacks:[e=>Ve.toggleBooleanAttribute("data-monochrome-toolbar",e)]},isLightTheme:{cls:Qe,callbacks:[e=>Ve.toggleLightTheme(e,!nt.reduceMotion)]},reduceMotion:{cls:Qe},showAllStrings:{cls:Qe},mainframeHacked:{cls:Qe,callbacks:[e=>{Ve.toggleBooleanAttribute("data-hacker-theme",e),e?Ve.toggleLightTheme(!1,!1):Ve.toggleLightTheme(nt.isLightTheme,!1)},e=>{ot.set(e)}]},rickGif:{cls:Qe,callbacks:[e=>{it.set(e)},e=>{e&&window.open(Ye.rickRoll,"_blank")}]},foundEasterEggs:{cls:class extends Xe{constructor(e,t,n){super(e,t,n)}_parseValue(e){return JSON.parse(e)}_stringifyValue(e){return JSON.stringify(e)}},defaultValue:[]},disableEasterEggs:{cls:Qe},projectView:{cls:et},downloadFileType:{cls:tt,defaultValue:"package"},downloadNamingConvention:{cls:tt,defaultValue:"project"},downloadLocales:{cls:et,defaultValue:Je.allLocales},sortOrder:{cls:et,defaultValue:0},translateHideKeys:{cls:Qe,defaultValue:!1},useObjectJson:{cls:Qe,defaultValue:!1}});const rt=new class{constructor(){this._nextId=0,this._subscriptions=new Map}subscribe(e,t){const n=this._nextId++;return this._subscriptions.set(n,{setting:e,fn:t}),()=>this._subscriptions.delete(n)}notifySubscribers(e,t){this._subscriptions.forEach((n=>{n.setting===e&&n.fn(t)}))}};function st(e){return t=>{if(t){const t=nt.foundEasterEggs;t.includes(e)||(t.push(e),nt.foundEasterEggs=t)}}}const ot=De(nt.mainframeHacked);ot.subscribe(st("hacker"));const it=De(nt.rickGif);it.subscribe(st("rickroll"));const at=De(!1);at.subscribe(st("pride"));const lt=De(!1);lt.subscribe(st("womp"));const ct=new class{constructor(){this._nextId=0,this._subscriptions=new Map}subscribe(e){const t=this._nextId++;return this._subscriptions.set(t,e),()=>this._subscriptions.delete(t)}request(e,t="open",n){this._subscriptions.forEach((r=>{r(e,t,n)}))}};var ut={$schema:"https://raw.githubusercontent.com/sims4toolkit/stbl-studio-web/development/docs/help-menu-schema.json",routes:{"/":{title:"What do you need help with?",content:[{kind:"swimLane",title:"CSV Imports",description:"Learn about the CSV import syntax.",link:"/csv"},{kind:"swimLane",title:"General FAQs",description:"Answers to general questions you might have.",link:"/faqs"},{kind:"swimLane",title:"JSON Format",description:"Learn about STBL Studio's JSON structure.",link:"/json"},{kind:"swimLane",title:"Keybindings",description:"Navigate STBL Studio quickly with keybindings.",link:"/keybindings"},{kind:"swimLane",title:"Plain Text Imports",description:"Learn about the Plain Text import syntax.",link:"/plain-text"},{kind:"swimLane",title:"Terminology",description:'Definitions for STBL Studio terms, like "Project".',link:"/terminology"},{kind:"hr"},{kind:"generalHtml",content:'<p class="text-xs text-center text-subtle">This menu is still under construction. If you have questions that are not answered here, please <a class="text-secondary" href="https://frankkmods.com/#/contact" target="_blank">ask me</a>.</p>'}]},"/faqs":{title:"FAQs",backButtonLink:"/",content:[{kind:"questionAnswer",question:"How are new keys generated?",answer:'Keys are generated by taking the <a class="text-secondary underline hover:no-underline" href="https://sims4toolkit.com/#/docs/hashing/latest/hashing/fnv32" target="_blank">FNV32 hash</a> of a completely random UUID. The UUID is generated by the <a class="text-secondary underline hover:no-underline" href="https://www.npmjs.com/package/uuid" target="_blank">uuid npm package</a>, and should produce unique identifiers for everyone.',containsHtml:!0},{kind:"hr"},{kind:"questionAnswer",question:"How do I merge string tables?",answer:'There is currently no standalone STBL merger tool. For now, you can either upload the STBLs you want to merge into a single project and download it, or you can create a project for one of the string tables and import the other one(s) into it. Alternatively, you can still use the <a href="https://frankkmods.com/#/ts4-tools/stbl-merger" class="text-secondary underline hover:no-underline" target="_blank">existing STBL merger</a>, but keep in mind that that one does not support multiple locales at a time.',containsHtml:!0},{kind:"hr"},{kind:"questionAnswer",question:"Where is my data stored?",answer:'All of your data is stored in your browser - it is not in the cloud or backed up in any way. Because of this, I highly recommended regularly backing up your entire workspace by downloading it with the <img class="inline-block svg h-4" src="./assets/desktop-download.svg" alt="Download"/> button on the home page.',containsHtml:!0},{kind:"hr"},{kind:"questionAnswer",question:"Why was my translation erased?",answer:"To optimize storage, STBL Studio does not store redundant translations. If another locale uses the exact same text as the primary locale, then it is stored as an empty string. When downloading that locale, empty strings will be populated with data from the primary locale."}]},"/json":{title:"JSON Format",backButtonLink:"/",content:[{kind:"questionAnswer",question:"What is JSON?",answer:"JSON is a syntax based off of JavaScript that is used to store data. STBL Studio lets you import/export string tables in JSON format, since JSON is much more user-friendly if you would like to manually add, edit, remove, or reorder entries."},{kind:"hr"},{kind:"questionAnswer",question:"Expected JSON Structure",answer:'The JSON format this website uses is very flexible. The top-level structure must be an array that contains objects with two properties, one called "key" (case insensitive) and another called either "value" or "string" (also case insensitive). The value for the "key" property can either be a plain number, or a string containing an 8-digit hex number, with or without the "0x" prefix. This flexible format means that you can paste in the JSON content shown for string tables in S4S, the output of the <a href="https://frankkmods.com/#/ts4-tools/stbl-editor" class="text-secondary underline hover:no-underline" target="_blank">old STBL editor</a>, or JSON representations of the <a href="https://sims4toolkit.com/#/docs/models/latest/resources/StringTableResource" class="text-secondary underline hover:no-underline" target="_blank">StringTableResource</a> in <a href="https://sims4toolkit.com/#/docs/models" class="text-secondary underline hover:no-underline" target="_blank">@s4tk/models</a>.',containsHtml:!0}]},"/csv":{title:"CSV Import Syntax",backButtonLink:"/",content:[{kind:"questionAnswer",question:"What is CSV?",answer:"CSV (Comma Separated Values) is a file format that STBL Studio supports as a way to bulk upload strings in multiple locales."},{kind:"hr"},{kind:"questionAnswer",question:"Expected CSV Syntax",answer:'The first row (the header) should contain a comma-separated list of locale names, as defined in <a href="https://sims4toolkit.com/#/docs/models/latest/enums/StringTableLocale" class="text-secondary underline hover:no-underline" target="_blank">the StringTableLocale enum</a>.<br><br>All subsequent rows should contain a comma-separated list of strings for each of the locales in the header. If strings contain commas (,), they must be placed within quotes ("). If strings contain quotes, they must be doubled ("").<br><br><strong class="text-subtle">Tip</strong>: If you write your strings in Excel, exporting as a CSV will already account for these comma/quote rules.',containsHtml:!0},{kind:"hr"},{kind:"questionAnswer",question:"Example",answer:'<strong>CSV File:</strong><br><pre class="text-subtle">English,Italian\nHi,Ciao\n"OK, bye!","OK, ciao!"\n"I said ""yes""!","Ho detto ""sì""!"</pre><br><strong>Parsed As:</strong><br>EN: \'Hi\', IT: \'Ciao\'<br>EN: \'OK, bye!\', IT: \'OK, ciao!\'<br>EN: \'I said "yes"!\', IT: \'Ho detto "sì"!\'',containsHtml:!0}]},"/plain-text":{title:"Plain Text Imports",backButtonLink:"/",content:[{kind:"questionAnswer",question:"What are Plain Text Imports?",answer:"If you have a lot of strings that you haven't hashed yet, you can import them as a plain text (.txt) file, and STBL Studio will automatically create unique hashes for them."},{kind:"hr"},{kind:"questionAnswer",question:"Expected Structure",answer:"Plain text string files are simple – just put every string on its own line. That's it.<br><br>There is one catch, though – plain text imports only work with one locale, specifically, the default locale you have in your website settings. To upload plain text strings with multiple locales, use CSV imports.",containsHtml:!0}]},"/keybindings":{title:"Keybindings",backButtonLink:"/",content:[{kind:"questionAnswer",question:"All Modals",answer:'<br><mark class="keystroke">ESC</mark> = Close',containsHtml:!0},{kind:"hr"},{kind:"questionAnswer",question:"Home Page",answer:'<br><mark class="keystroke">CMD/CTRL</mark> + <mark class="keystroke">S</mark> = Save Workspace<br><br><mark class="keystroke">CMD/CTRL</mark> + <mark class="keystroke">U</mark> = Upload Project<br><br><mark class="keystroke">CMD/CTRL</mark> + <mark class="keystroke">N</mark> = New Project',containsHtml:!0},{kind:"hr"},{kind:"questionAnswer",question:"Home Page (Select Mode)",answer:'<br><mark class="keystroke">CMD/CTRL</mark> + <mark class="keystroke">S</mark> = Download<br><br><mark class="keystroke">CMD/CTRL</mark> + <mark class="keystroke">P</mark> = Toggle Pin<br><br><mark class="keystroke">CMD/CTRL</mark> + <mark class="keystroke">D</mark> = Delete',containsHtml:!0},{kind:"hr"},{kind:"questionAnswer",question:"Project Page",answer:'<br><mark class="keystroke">CMD/CTRL</mark> + <mark class="keystroke">S</mark> = Download<br><br><mark class="keystroke">CMD/CTRL</mark> + <mark class="keystroke">U</mark> = Import Strings<br><br><mark class="keystroke">CMD/CTRL</mark> + <mark class="keystroke">N</mark> = New String',containsHtml:!0},{kind:"hr"},{kind:"questionAnswer",question:"Project Page (Select Mode)",answer:'<br><mark class="keystroke">CMD/CTRL</mark> + <mark class="keystroke">H</mark> = Rehash Keys<br><br><mark class="keystroke">CMD/CTRL</mark> + <mark class="keystroke">D</mark> = Delete Strings',containsHtml:!0},{kind:"hr"},{kind:"questionAnswer",question:"Project Page (Pagination)",answer:'<br><mark class="keystroke">CMD/CTRL</mark> + <mark class="keystroke">&larr;</mark> = Previous Page<br><br><mark class="keystroke">CMD/CTRL</mark> + <mark class="keystroke">&rarr;</mark> = Next Page<br><br><mark class="keystroke">CMD/CTRL</mark> + <mark class="keystroke">P</mark> = Focus Page Input',containsHtml:!0},{kind:"hr"},{kind:"questionAnswer",question:"New String",answer:'<br><mark class="keystroke">ENTER</mark> = Save String<br><br><mark class="keystroke">ESC</mark> = Cancel String<br><br><mark class="keystroke">SHIFT</mark> + <mark class="keystroke">ENTER</mark> = Newline',containsHtml:!0}]},"/terminology":{title:"Terminology",backButtonLink:"/",content:[{kind:"questionAnswer",question:"Locale",answer:"A specific language/culture pair that is officially supported by The Sims 4."},{kind:"questionAnswer",question:"Primary Locale",answer:"For modders, this is the locale that you plan on writing your strings in. For translators, this is the locale that you are translating from, NOT the one you are writing yourself."},{kind:"questionAnswer",question:"Project",answer:"All of the strings associated with a single mod, including their translations."},{kind:"questionAnswer",question:"Workspace",answer:"All of your personal data on STBL Studio, including your projects and settings."}]}}};function dt(e){const t=e-1;return t*t*t+1}function ft(e,{delay:n=0,duration:r=400,easing:s=t}={}){const o=+getComputedStyle(e).opacity;return{delay:n,duration:r,easing:s,css:e=>"opacity: "+e*o}}function ht(e,{delay:t=0,duration:n=400,easing:r=dt,x:s=0,y:o=0,opacity:i=0}={}){const a=getComputedStyle(e),l=+a.opacity,c="none"===a.transform?"":a.transform,u=l*(1-i);return{delay:t,duration:n,easing:r,css:(e,t)=>`\n\t\t\ttransform: ${c} translate(${(1-e)*s}px, ${(1-e)*o}px);\n\t\t\topacity: ${l-u*t}`}}const pt=De(void 0),mt=De(0);function gt(e){let t,n,r,s,a,l,d,m,g,b,y,v,$,w,k,L,R,N,D;const O=e[7].default,P=u(O,e,e[6],null);return{c(){t=C("div"),n=C("div"),r=C("div"),s=C("p"),a=E(e[0]),l=T(),d=C("div"),m=C("button"),g=C("img"),y=T(),v=C("button"),v.innerHTML='<img src="./assets/x.svg" class="svg-light hacker-svg svelte-11ir4hx" alt="Close"/>',$=T(),w=C("div"),P&&P.c(),A(s,"class","my-0 text-sm uppercase font-bold text-gray-200 dark:text-gray-400 hacker-text-lime"),A(r,"class","flex justify-center items-center gap-2"),c(g.src,b="./assets/"+(e[4]?"plus":"remove")+".svg")||A(g,"src",b),A(g,"class","svg-light hacker-svg svelte-11ir4hx"),A(g,"alt","Minimize"),A(d,"class","flex gap-2"),A(n,"class","movable-window-header z-10 rounded-t-sm flex justify-between items-center p-2 grabbable bg-gray-500 dark:bg-gray-900 hacker-bg-black hacker-border-b-gray svelte-11ir4hx"),A(w,"class","p-2 z-0 window-content flex flex-col flex-1 bg-gray-200 dark:bg-gray-700 hacker-bg-black svelte-11ir4hx"),I(w,"minimized",e[4]),A(t,"class","flex flex-col z-30 movable-window rounded drop-shadow border border-solid border-gray-500 dark:border-gray-900 bg-gray-200 dark:bg-gray-700 hacker-bg-black svelte-11ir4hx"),I(t,"minimized",e[4])},m(o,c){_(o,t,c),x(t,n),x(n,r),x(r,s),x(s,a),x(n,l),x(n,d),x(d,m),x(m,g),x(d,y),x(d,v),e[8](n),x(t,$),x(t,w),P&&P.m(w,null),e[9](t),R=!0,N||(D=[j(m,"click",e[5]),j(v,"click",(function(){i(e[1])&&e[1].apply(this,arguments)}))],N=!0)},p(n,[r]){e=n,(!R||1&r)&&B(a,e[0]),(!R||16&r&&!c(g.src,b="./assets/"+(e[4]?"plus":"remove")+".svg"))&&A(g,"src",b),P&&P.p&&(!R||64&r)&&h(P,O,e,e[6],R?f(O,e[6],r,null):p(e[6]),null),16&r&&I(w,"minimized",e[4]),16&r&&I(t,"minimized",e[4])},i(e){R||(ge(P,e),re((()=>{L&&L.end(1),k=ve(t,ht,{x:35,duration:nt.reduceMotion?0:350}),k.start()})),R=!0)},o(e){be(P,e),k&&k.invalidate(),L=$e(t,ft,{duration:nt.reduceMotion?0:200}),R=!1},d(n){n&&S(t),e[8](null),P&&P.d(n),e[9](null),n&&L&&L.end(),N=!1,o(D)}}}function bt(e,t,n){let r,s,{$$slots:o={},$$scope:i}=t,{title:a}=t,{onClose:l}=t,c=0,u=!1;const d=mt.subscribe((e=>{c=e}));return G((()=>{if(function(){let e=0,t=0,o=0,i=0;function a(s){(s=s||window.event).preventDefault(),e=o-s.clientX,t=i-s.clientY,o=s.clientX,i=s.clientY,n(2,r.style.top=r.offsetTop-t+"px",r),n(2,r.style.left=r.offsetLeft-e+"px",r)}function l(){document.onmouseup=null,document.onmousemove=null,r.offsetTop<0?n(2,r.style.top="10px",r):r.offsetTop>window.innerHeight-r.offsetHeight-10&&n(2,r.style.top=window.innerHeight-r.offsetHeight-10+"px",r),r.offsetLeft<0?n(2,r.style.left="10px",r):r.offsetLeft>window.innerWidth-r.offsetWidth-10&&n(2,r.style.left=window.innerWidth-r.offsetWidth-10+"px",r)}n(3,s.onmousedown=function(e){(e=e||window.event).preventDefault(),o=e.clientX,i=e.clientY,document.onmouseup=l,document.onmousemove=a},s)}(),c>0){const e=20+40*c;n(2,r.style.right=e+"px",r),n(2,r.style.zIndex=(30+c).toString(),r)}mt.set(c+1)})),K((()=>{d(),mt.set(c-1)})),e.$$set=e=>{"title"in e&&n(0,a=e.title),"onClose"in e&&n(1,l=e.onClose),"$$scope"in e&&n(6,i=e.$$scope)},[a,l,r,s,u,function(){if(r.offsetTop>window.innerHeight-450){const e=r.offsetTop+r.offsetHeight;n(2,r.style.bottom=window.innerHeight-e+"px",r),r.style.removeProperty("top")}n(4,u=!u)},i,o,function(e){J[e?"unshift":"push"]((()=>{s=e,n(3,s)}))},function(e){J[e?"unshift":"push"]((()=>{r=e,n(2,r)}))}]}class yt extends Re{constructor(e){super(),Ae(this,e,bt,gt,a,{title:0,onClose:1})}}function vt(t){let n,r=t[0].content+"";return{c(){n=C("div"),A(n,"class","w-full")},m(e,t){_(e,n,t),n.innerHTML=r},p(e,[t]){1&t&&r!==(r=e[0].content+"")&&(n.innerHTML=r)},i:e,o:e,d(e){e&&S(n)}}}function $t(e,t,n){let{data:r}=t;return e.$$set=e=>{"data"in e&&n(0,r=e.data)},[r]}class xt extends Re{constructor(e){super(),Ae(this,e,$t,vt,a,{data:0})}}function wt(e){let t,n,r,s,o,i=e[0].question+"",a=e[0].answer+"";return{c(){t=C("h4"),n=E(i),r=T(),s=C("p"),o=E(a),A(t,"class","text-sm font-bold mb-2"),A(s,"class","text-subtle text-sm")},m(e,i){_(e,t,i),x(t,n),_(e,r,i),_(e,s,i),x(s,o)},p(e,t){1&t&&i!==(i=e[0].question+"")&&B(n,i),1&t&&a!==(a=e[0].answer+"")&&B(o,a)},d(e){e&&S(t),e&&S(r),e&&S(s)}}}function kt(e){let t,n,r,s=e[0].question+"",o=e[0].answer+"";return{c(){t=C("h4"),n=T(),r=C("p"),A(t,"class","text-sm font-bold mb-2"),A(r,"class","text-subtle text-sm")},m(e,i){_(e,t,i),t.innerHTML=s,_(e,n,i),_(e,r,i),r.innerHTML=o},p(e,n){1&n&&s!==(s=e[0].question+"")&&(t.innerHTML=s),1&n&&o!==(o=e[0].answer+"")&&(r.innerHTML=o)},d(e){e&&S(t),e&&S(n),e&&S(r)}}}function _t(t){let n;function r(e,t){return e[0].containsHtml?kt:wt}let s=r(t),o=s(t);return{c(){n=C("div"),o.c(),A(n,"class","w-full")},m(e,t){_(e,n,t),o.m(n,null)},p(e,[t]){s===(s=r(e))&&o?o.p(e,t):(o.d(1),o=s(e),o&&(o.c(),o.m(n,null)))},i:e,o:e,d(e){e&&S(n),o.d()}}}function St(e,t,n){let{data:r}=t;return e.$$set=e=>{"data"in e&&n(0,r=e.data)},[r]}class Ct extends Re{constructor(e){super(),Ae(this,e,St,_t,a,{data:0})}}function Et(t){let n,r,s,o,i,a,l,u,d,f,h,p,m=t[0].title+"",g=t[0].description+"";return{c(){n=C("button"),r=C("div"),s=C("h4"),o=E(m),i=T(),a=C("p"),l=E(g),u=T(),d=C("img"),A(s,"class","text-sm font-bold mb-2"),A(a,"class","text-subtle text-xs"),A(r,"class","text-left"),A(d,"class","h-4 svg"),c(d.src,f="./assets/chevron-right.svg")||A(d,"src","./assets/chevron-right.svg"),A(d,"alt",">"),A(n,"class","w-full flex justify-between items-center gap-4")},m(e,c){_(e,n,c),x(n,r),x(r,s),x(s,o),x(r,i),x(r,a),x(a,l),x(n,u),x(n,d),h||(p=j(n,"click",t[1]),h=!0)},p(e,[t]){1&t&&m!==(m=e[0].title+"")&&B(o,m),1&t&&g!==(g=e[0].description+"")&&B(l,g)},i:e,o:e,d(e){e&&S(n),h=!1,p()}}}function Tt(e,t,n){let{data:r}=t;return e.$$set=e=>{"data"in e&&n(0,r=e.data)},[r,()=>ct.request("help","open",{route:r.link})]}class Lt extends Re{constructor(e){super(),Ae(this,e,Tt,Et,a,{data:0})}}function jt(t){let n;return{c(){n=C("p"),n.textContent="Oops... Something went wrong. Please report this."},m(e,t){_(e,n,t)},p:e,i:e,o:e,d(e){e&&S(n)}}}function At(e){let t,n,r;var s=e[1];function o(e){return{props:{data:e[0]}}}return s&&(t=new s(o(e))),{c(){t&&Te(t.$$.fragment),n=L()},m(e,s){t&&Le(t,e,s),_(e,n,s),r=!0},p(e,r){const i={};if(1&r&&(i.data=e[0]),s!==(s=e[1])){if(t){pe();const e=t;be(e.$$.fragment,1,0,(()=>{je(e,1)})),me()}s?(t=new s(o(e)),Te(t.$$.fragment),ge(t.$$.fragment,1),Le(t,n.parentNode,n)):t=null}else s&&t.$set(i)},i(e){r||(t&&ge(t.$$.fragment,e),r=!0)},o(e){t&&be(t.$$.fragment,e),r=!1},d(e){e&&S(n),t&&je(t,e)}}}function Rt(t){let n;return{c(){n=C("hr"),A(n,"class","border-black dark:border-white hacker-border-gray")},m(e,t){_(e,n,t)},p:e,i:e,o:e,d(e){e&&S(n)}}}function Bt(e){let t,n,r,s,o;const i=[Rt,At,jt],a=[];function l(e,n){return 2&n&&(t=null),"hr"===e[0].kind?0:(null==t&&(t=!!Boolean(e[1])),t?1:2)}return n=l(e,-1),r=a[n]=i[n](e),{c(){r.c(),s=L()},m(e,t){a[n].m(e,t),_(e,s,t),o=!0},p(e,[t]){let o=n;n=l(e,t),n===o?a[n].p(e,t):(pe(),be(a[o],1,1,(()=>{a[o]=null})),me(),r=a[n],r?r.p(e,t):(r=a[n]=i[n](e),r.c()),ge(r,1),r.m(s.parentNode,s))},i(e){o||(ge(r),o=!0)},o(e){be(r),o=!1},d(e){a[n].d(e),e&&S(s)}}}function Nt(e,t,n){let r,{data:s}=t;return e.$$set=e=>{"data"in e&&n(0,s=e.data)},e.$$.update=()=>{1&e.$$.dirty&&n(1,r=(()=>{switch(s.kind){case"generalHtml":return xt;case"questionAnswer":return Ct;case"swimLane":return Lt;default:return}})())},[s,r]}class Dt extends Re{constructor(e){super(),Ae(this,e,Nt,Bt,a,{data:0})}}function It(e,t,n){const r=e.slice();return r[4]=t[n],r[6]=n,r}function Ot(t){let n,r,s;return{c(){n=C("button"),n.innerHTML='<img class="svg h-2" src="./assets/chevron-left.svg" alt="&lt;"/>\n      Back',A(n,"class","w-12 text-subtle flex gap-2 items-center text-xs")},m(e,o){_(e,n,o),r||(s=j(n,"click",t[2]),r=!0)},p:e,d(e){e&&S(n),r=!1,s()}}}function Pt(e){let t;return{c(){t=C("div"),A(t,"class","w-12")},m(e,n){_(e,t,n)},d(e){e&&S(t)}}}function zt(e,t){let n,r,s;return r=new Dt({props:{data:t[4]}}),{key:e,first:null,c(){n=L(),Te(r.$$.fragment),this.first=n},m(e,t){_(e,n,t),Le(r,e,t),s=!0},p(e,n){t=e;const s={};1&n&&(s.data=t[4]),r.$set(s)},i(e){s||(ge(r.$$.fragment,e),s=!0)},o(e){be(r.$$.fragment,e),s=!1},d(e){e&&S(n),je(r,e)}}}function Mt(e){let t,n,r,s,o,i,a,l,c=e[0].title+"",u=[],d=new Map,f=e[1]&&Ot(e),h=e[1]&&Pt(),p=e[0].content;const m=e=>e[6];for(let t=0;t<p.length;t+=1){let n=It(e,p,t),r=m(n);d.set(r,u[t]=zt(r,n))}return{c(){t=C("div"),f&&f.c(),n=T(),r=C("h4"),s=E(c),o=T(),h&&h.c(),i=T();for(let e=0;e<u.length;e+=1)u[e].c();a=L(),A(r,"class","text-sm text-center font-bold"),I(r,"w-full",!e[1]),A(t,"class","flex justify-between whitespace-nowrap")},m(e,c){_(e,t,c),f&&f.m(t,null),x(t,n),x(t,r),x(r,s),x(t,o),h&&h.m(t,null),_(e,i,c);for(let t=0;t<u.length;t+=1)u[t].m(e,c);_(e,a,c),l=!0},p(e,[o]){e[1]?f?f.p(e,o):(f=Ot(e),f.c(),f.m(t,n)):f&&(f.d(1),f=null),(!l||1&o)&&c!==(c=e[0].title+"")&&B(s,c),2&o&&I(r,"w-full",!e[1]),e[1]?h||(h=Pt(),h.c(),h.m(t,null)):h&&(h.d(1),h=null),1&o&&(p=e[0].content,pe(),u=_e(u,o,m,1,e,p,d,a.parentNode,ke,zt,a,It),me())},i(e){if(!l){for(let e=0;e<p.length;e+=1)ge(u[e]);l=!0}},o(e){for(let e=0;e<u.length;e+=1)be(u[e]);l=!1},d(e){e&&S(t),f&&f.d(),h&&h.d(),e&&S(i);for(let t=0;t<u.length;t+=1)u[t].d(e);e&&S(a)}}}function Ft(e,t,n){let r,{routeData:s}=t,{suppressBack:o=!1}=t;return e.$$set=e=>{"routeData"in e&&n(0,s=e.routeData),"suppressBack"in e&&n(3,o=e.suppressBack)},e.$$.update=()=>{9&e.$$.dirty&&n(1,r=Boolean(s.backButtonLink)&&!o)},[s,r,()=>ct.request("help","open",{route:s.backButtonLink}),o]}class Ht extends Re{constructor(e){super(),Ae(this,e,Ft,Mt,a,{routeData:0,suppressBack:3})}}function Ut(e){let t,n;return t=new Ht({props:{routeData:e[3],suppressBack:e[1].suppressBack??!1}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.routeData=e[3]),2&n&&(r.suppressBack=e[1].suppressBack??!1),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function Wt(t){let n,r,s,o,i,a;return{c(){n=C("hr"),r=T(),s=C("div"),o=C("h4"),o.textContent="Does this website have easter eggs?",i=T(),a=C("p"),a.textContent=`It was created by Frankk. Of course it does. You've found ${nt.foundEasterEggs.length} of 4 easter eggs.`,A(n,"class","border-black dark:border-white hacker-border-gray"),A(o,"class","text-sm font-bold mb-2"),A(a,"class","text-subtle text-sm")},m(e,t){_(e,n,t),_(e,r,t),_(e,s,t),x(s,o),x(s,i),x(s,a)},p:e,d(e){e&&S(n),e&&S(r),e&&S(s)}}}function qt(e){let t,n,r,s=Boolean(e[3]),o=s&&Ut(e),i="/faqs"===e[2]&&Wt();return{c(){t=C("div"),o&&o.c(),n=T(),i&&i.c(),A(t,"class","flex-1 flex flex-col gap-4")},m(e,s){_(e,t,s),o&&o.m(t,null),x(t,n),i&&i.m(t,null),r=!0},p(e,r){8&r&&(s=Boolean(e[3])),s?o?(o.p(e,r),8&r&&ge(o,1)):(o=Ut(e),o.c(),ge(o,1),o.m(t,n)):o&&(pe(),be(o,1,1,(()=>{o=null})),me()),"/faqs"===e[2]?i?i.p(e,r):(i=Wt(),i.c(),i.m(t,null)):i&&(i.d(1),i=null)},i(e){r||(ge(o),r=!0)},o(e){be(o),r=!1},d(e){e&&S(t),o&&o.d(),i&&i.d()}}}function Gt(e){let t,n;return t=new yt({props:{title:"Help",onClose:e[0],$$slots:{default:[qt]},$$scope:{ctx:e}}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.onClose=e[0]),30&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function Kt(e,t,n){let r,s,{onClose:o}=t,{args:i={}}=t;return e.$$set=e=>{"onClose"in e&&n(0,o=e.onClose),"args"in e&&n(1,i=e.args)},e.$$.update=()=>{2&e.$$.dirty&&n(2,r=i.route??"/"),4&e.$$.dirty&&n(3,s=ut.routes[r]??ut.routes["/"])},[o,i,r,s]}class Vt extends Re{constructor(e){super(),Ae(this,e,Kt,Gt,a,{onClose:0,args:1})}}function Zt(t){let n,r,s,o,i,a,l,c,u,d;return{c(){n=C("div"),r=C("p"),s=E(t[1]),o=T(),i=C("label"),a=C("input"),l=T(),c=C("span"),A(r,"class","text-sm mr-4"),A(a,"type","checkbox"),A(a,"class","opacity-0 w-0 h-0 svelte-107vzwt"),A(c,"class","slider absolute top-0 right-0 bottom-0 left-0 cursor-pointer svelte-107vzwt"),A(i,"class","switch relative inline-block svelte-107vzwt"),A(n,"class","w-full flex items-center justify-between")},m(e,f){_(e,n,f),x(n,r),x(r,s),x(n,o),x(n,i),x(i,a),a.checked=t[0],x(i,l),x(i,c),u||(d=j(a,"change",t[2]),u=!0)},p(e,[t]){2&t&&B(s,e[1]),1&t&&(a.checked=e[0])},i:e,o:e,d(e){e&&S(n),u=!1,d()}}}function Jt(e,t,n){let{label:r}=t,{checked:s}=t;return e.$$set=e=>{"label"in e&&n(1,r=e.label),"checked"in e&&n(0,s=e.checked)},[s,r,function(){s=this.checked,n(0,s)}]}class Yt extends Re{constructor(e){super(),Ae(this,e,Jt,Zt,a,{label:1,checked:0})}}let Xt=0;const Qt=new Map;function en(e,t,n){const r=Xt++;return Qt.set(r,(r=>{(!n?.ctrlOrMeta||r.ctrlKey||r.metaKey)&&(n?.shift&&!r.shiftKey||r.key===e&&(n?.preventDefault&&r.preventDefault(),t(r)))})),()=>Qt.delete(r)}function tn(e){let t,n,r;return{c(){t=C("button"),t.innerHTML='<img class="svg w-10 h-10" src="./assets/x.svg" alt="Close"/>',A(t,"class","fixed top-6 right-6")},m(s,o){_(s,t,o),n||(r=j(t,"click",(function(){i(e[2])&&e[2].apply(this,arguments)})),n=!0)},p(t,n){e=t},d(e){e&&S(t),n=!1,r()}}}function nn(e){let t,n,r,s,o,i;const a=e[5].default,l=u(a,e,e[4],null);let c=null!=e[2]&&tn(e);return{c(){t=C("div"),n=C("div"),r=C("div"),l&&l.c(),s=T(),c&&c.c(),A(n,"class","p-4 max-w-screen-md"),I(n,"max-w-screen-xl",e[0]),I(n,"w-full",e[1]),A(t,"class","fixed top-0 left-0 right-0 bottom-0 flex items-center justify-center z-40 blurred-bg bg-gray-100 dark:bg-gray-800")},m(o,a){_(o,t,a),x(t,n),x(n,r),l&&l.m(r,null),x(t,s),c&&c.m(t,null),e[6](t),i=!0},p(r,[s]){e=r,l&&l.p&&(!i||16&s)&&h(l,a,e,e[4],i?f(a,e[4],s,null):p(e[4]),null),1&s&&I(n,"max-w-screen-xl",e[0]),2&s&&I(n,"w-full",e[1]),null!=e[2]?c?c.p(e,s):(c=tn(e),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},i(e){i||(ge(l,e),re((()=>{o||(o=xe(t,ft,{duration:nt.reduceMotion?0:500},!0)),o.run(1)})),i=!0)},o(e){be(l,e),o||(o=xe(t,ft,{duration:nt.reduceMotion?0:500},!1)),o.run(0),i=!1},d(n){n&&S(t),l&&l.d(n),c&&c.d(),e[6](null),n&&o&&o.end()}}}document.addEventListener("keydown",(function(e){Qt.forEach((t=>{t(e)}))}));const rn="overlay-active";function sn(e,t,n){let r,s,o,{$$slots:i={},$$scope:a}=t,{large:l=!1}=t,{fill:c=!0}=t,{onClose:u}=t;const d=[];function f(){const e=r.querySelectorAll("a, button, input, textarea, select");s=e[0],o=e[e.length-1]}function h(){document.contains(s)||f(),s?.focus()}function p(e){r.contains(e.relatedTarget)||(o===e.target?h():s===e.target&&(document.contains(o)||f(),o?.focus()))}function m(e){r.contains(e.target)||h()}return null!=u&&d.push(en("Escape",u)),G((()=>{document.body.classList.add(rn),f(),window.addEventListener("focusin",m),window.addEventListener("focusout",p)})),K((()=>{document.body.classList.remove(rn),window.removeEventListener("focusin",m),window.removeEventListener("focusout",p),d.forEach((e=>e()))})),e.$$set=e=>{"large"in e&&n(0,l=e.large),"fill"in e&&n(1,c=e.fill),"onClose"in e&&n(2,u=e.onClose),"$$scope"in e&&n(4,a=e.$$scope)},[l,c,u,r,a,i,function(e){J[e?"unshift":"push"]((()=>{r=e,n(3,r)}))}]}class on extends Re{constructor(e){super(),Ae(this,e,sn,nn,a,{large:0,fill:1,onClose:2})}}let an,ln=!1;const cn=(e,t)=>an.transaction(e,t).objectStore(e);async function un(e){console.error(`Database error: ${e.target.errorCode}`)}async function dn(){return new Promise(((e,t)=>{if(ln)return e();const n=indexedDB.open("StblStudioDB",1),r=async e=>{an=e.target.result,an.onerror=un,ln=!0};n.onerror=()=>{t("Could not initialize indexed database."),ln=!0},n.onsuccess=t=>{r(t).then((()=>{e()}))},n.onupgradeneeded=e=>{r(e).then((()=>{!async function(e){an.createObjectStore("stbls"),an.createObjectStore("metadata")}()}))}}))}var fn;!function(e){e.clear=async function(e){dn().then((()=>{cn(e,"readwrite").clear()}))},e.getAll=async function(e){return new Promise(((t,n)=>{dn().then((()=>{const r=cn(e,"readonly").getAll();r.onerror=e=>{n(`Could not get item from DB: ${e.target.errorCode}`)},r.onsuccess=()=>{t(r.result)}}))}))},e.getAllKeys=async function(e){return new Promise(((t,n)=>{dn().then((()=>{const r=cn(e,"readonly").getAllKeys();r.onerror=e=>{n(`Could not get item from DB: ${e.target.errorCode}`)},r.onsuccess=()=>{t(r.result.map((e=>e.toString())))}}))}))},e.getItem=async function(e,t){return new Promise(((n,r)=>{dn().then((()=>{const s=cn(e,"readonly").get(t);s.onerror=e=>{r(`Could not get item from DB: ${e.target.errorCode}`)},s.onsuccess=()=>{n(s.result)}}))}))},e.removeItem=async function(e,t){dn().then((()=>{cn(e,"readwrite").delete(t)}))},e.setItem=async function(e,t,n){dn().then((()=>{cn(e,"readwrite").put(n,t)}))}}(fn||(fn={}));var hn=fn;function pn(t){let n,r,s,o;function i(e,t){return e[1]?e[2]?mn:void 0:gn}let a=i(t),l=a&&a(t);return{c(){n=C("div"),r=C("label"),s=E(t[3]),o=T(),l&&l.c(),A(r,"class","text-subtle uppercase text-xs font-bold"),A(r,"for",t[4]),A(n,"class","flex items-center")},m(e,t){_(e,n,t),x(n,r),x(r,s),x(n,o),l&&l.m(n,null)},p(e,t){8&t&&B(s,e[3]),16&t&&A(r,"for",e[4]),a===(a=i(e))&&l?l.p(e,t):(l&&l.d(1),l=a&&a(e),l&&(l.c(),ge(l,1),l.m(n,null)))},i(e){ge(l)},o:e,d(e){e&&S(n),l&&l.d()}}}function mn(t){let n,r,s,o;return{c(){n=C("p"),r=E("• "),s=E(t[9]),A(n,"class","my-0 ml-1 text-xs text-yellow-600 dark:text-yellow-400")},m(e,t){_(e,n,t),x(n,r),x(n,s)},p(e,n){t=e,512&n&&B(s,t[9])},i(e){o||re((()=>{o=ve(n,ft,{duration:nt.reduceMotion?0:500}),o.start()}))},o:e,d(e){e&&S(n)}}}function gn(t){let n,r,s,o;return{c(){n=C("p"),r=E("• "),s=E(t[9]),A(n,"class","my-0 ml-1 text-xs text-red-600 dark:text-red-400")},m(e,t){_(e,n,t),x(n,r),x(n,s)},p(e,n){t=e,512&n&&B(s,t[9])},i(e){o||re((()=>{o=ve(n,ft,{duration:nt.reduceMotion?0:500}),o.start()}))},o:e,d(e){e&&S(n)}}}function bn(t){let n,r,s,o,i,a=Boolean(t[3]),l=a&&pn(t);return{c(){n=C("div"),l&&l.c(),r=T(),s=C("input"),A(s,"name",t[4]),A(s,"placeholder",t[5]),A(s,"type","text"),A(s,"autocomplete","off"),A(s,"class","block h-10 px-2 rounded text-sm placeholder-gray-500 dark:placeholder-gray-500 bg-transparent border border-gray-600 dark:border-gray-400"),I(s,"monospace",t[7]),I(s,"mt-2",Boolean(t[3])),I(s,"w-full",t[6]),I(s,"!border-yellow-600",t[2]),I(s,"!dark:border-yellow-400",t[2]),I(s,"!border-red-600",!t[1]),I(s,"!dark:border-red-400",!t[1]),I(n,"w-full",t[6])},m(e,a){_(e,n,a),l&&l.m(n,null),x(n,r),x(n,s),t[12](s),N(s,t[0]),o||(i=j(s,"input",t[13]),o=!0)},p(e,[t]){8&t&&(a=Boolean(e[3])),a?l?(l.p(e,t),8&t&&ge(l,1)):(l=pn(e),l.c(),ge(l,1),l.m(n,r)):l&&(l.d(1),l=null),16&t&&A(s,"name",e[4]),32&t&&A(s,"placeholder",e[5]),1&t&&s.value!==e[0]&&N(s,e[0]),128&t&&I(s,"monospace",e[7]),8&t&&I(s,"mt-2",Boolean(e[3])),64&t&&I(s,"w-full",e[6]),4&t&&I(s,"!border-yellow-600",e[2]),4&t&&I(s,"!dark:border-yellow-400",e[2]),2&t&&I(s,"!border-red-600",!e[1]),2&t&&I(s,"!dark:border-red-400",!e[1]),64&t&&I(n,"w-full",e[6])},i(e){ge(l)},o:e,d(e){e&&S(n),l&&l.d(),t[12](null),o=!1,i()}}}function yn(e,t,n){let r,{label:s=""}=t,{name:o}=t,{value:i}=t,{placeholder:a}=t,{isValid:l=!0}=t,{hasWarning:c=!1}=t,{fillWidth:u=!1}=t,{focusOnMount:d=!1}=t,{monospace:f=!1}=t,{validators:h=[]}=t,p="";function m(){!function(){for(let e=0;e<h.length;++e){const t=h[e];if(!t.isWarning&&!t.test(i))return n(1,l=!1),void n(9,p=t.message)}n(1,l=!0)}(),l&&function(){for(let e=0;e<h.length;++e){const t=h[e];if(t.isWarning&&!t.test(i))return n(2,c=!0),void n(9,p=t.message)}n(2,c=!1)}()}return G((()=>{d&&r.focus()})),e.$$set=e=>{"label"in e&&n(3,s=e.label),"name"in e&&n(4,o=e.name),"value"in e&&n(0,i=e.value),"placeholder"in e&&n(5,a=e.placeholder),"isValid"in e&&n(1,l=e.isValid),"hasWarning"in e&&n(2,c=e.hasWarning),"fillWidth"in e&&n(6,u=e.fillWidth),"focusOnMount"in e&&n(10,d=e.focusOnMount),"monospace"in e&&n(7,f=e.monospace),"validators"in e&&n(11,h=e.validators)},e.$$.update=()=>{1&e.$$.dirty&&m()},[i,l,c,s,o,a,u,f,r,p,d,h,function(e){J[e?"unshift":"push"]((()=>{r=e,n(8,r)}))},function(){i=this.value,n(0,i)}]}class vn extends Re{constructor(e){super(),Ae(this,e,yn,bn,a,{label:3,name:4,value:0,placeholder:5,isValid:1,hasWarning:2,fillWidth:6,focusOnMount:10,monospace:7,validators:11})}}function $n(t){let n,r,s,o,i,a,l,u,d;return{c(){n=C("div"),r=C("button"),s=C("img"),i=T(),a=C("p"),l=E(t[0]),A(s,"class","svg"),c(s.src,o="./assets/chevron-"+t[1]+".svg")||A(s,"src",o),A(s,"alt",t[3]),A(a,"class","my-0"),A(r,"class","flex items-center select-none whitespace-nowrap svelte-hq9d7v"),I(r,"flex-row-reverse","right"===t[1]),I(r,"active",t[2]),A(n,"class","inline-block")},m(e,o){_(e,n,o),x(n,r),x(r,s),x(r,i),x(r,a),x(a,l),u||(d=j(r,"click",t[4]),u=!0)},p(e,[t]){2&t&&!c(s.src,o="./assets/chevron-"+e[1]+".svg")&&A(s,"src",o),8&t&&A(s,"alt",e[3]),1&t&&B(l,e[0]),2&t&&I(r,"flex-row-reverse","right"===e[1]),4&t&&I(r,"active",e[2])},i:e,o:e,d(e){e&&S(n),u=!1,d()}}}function xn(e,t,n){let r,{text:s}=t,{direction:o="right"}=t,{active:i=!0}=t,{onClick:a}=t;return e.$$set=e=>{"text"in e&&n(0,s=e.text),"direction"in e&&n(1,o=e.direction),"active"in e&&n(2,i=e.active),"onClick"in e&&n(5,a=e.onClick)},e.$$.update=()=>{2&e.$$.dirty&&n(3,r="left"===o?"<":">")},[s,o,i,r,function(){i&&a()},a]}class wn extends Re{constructor(e){super(),Ae(this,e,xn,$n,a,{text:0,direction:1,active:2,onClick:5})}}function kn(e,t,n){const r=e.slice();return r[25]=t[n],r[27]=n,r}const _n=e=>({}),Sn=e=>({}),Cn=e=>({}),En=e=>({});function Tn(e){let t;const n=e[22].header,r=u(n,e,e[21],En);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,s){r&&r.p&&(!t||2097152&s)&&h(r,n,e,e[21],t?f(n,e[21],s,Cn):p(e[21]),En)},i(e){t||(ge(r,e),t=!0)},o(e){be(r,e),t=!1},d(e){r&&r.d(e)}}}function Ln(t){let n,r,s,o,i=t[2]&&jn(t);return{c(){n=C("h2"),r=E(t[1]),s=T(),i&&i.c(),o=L(),A(n,"class","font-bold text-2xl text-gradient drop-shadow")},m(e,t){_(e,n,t),x(n,r),_(e,s,t),i&&i.m(e,t),_(e,o,t)},p(e,t){2&t&&B(r,e[1]),e[2]?i?i.p(e,t):(i=jn(e),i.c(),i.m(o.parentNode,o)):i&&(i.d(1),i=null)},i:e,o:e,d(e){e&&S(n),e&&S(s),i&&i.d(e),e&&S(o)}}}function jn(e){let t,n;return{c(){t=C("p"),n=E(e[2]),A(t,"class","text-sm mt-2 text-subtle")},m(e,r){_(e,t,r),x(t,n)},p(e,t){4&t&&B(n,e[2])},d(e){e&&S(t)}}}function An(e,t){let n,r,s,o;function i(){return t[24](t[27])}return{key:e,first:null,c(){n=C("button"),A(n,"class","progress-circle h-5 w-5 rounded-full border border-gray-500 svelte-lqpgi7"),A(n,"tabindex",r=t[10](t[27])?0:-1),I(n,"clickable",t[10](t[27])),I(n,"before-current",t[11](t[27])),I(n,"filled",t[9](t[27])),I(n,"opacity-20",t[8](t[27])),this.first=n},m(e,t){_(e,n,t),s||(o=j(n,"click",i),s=!0)},p(e,s){t=e,16&s&&r!==(r=t[10](t[27])?0:-1)&&A(n,"tabindex",r),1040&s&&I(n,"clickable",t[10](t[27])),2064&s&&I(n,"before-current",t[11](t[27])),528&s&&I(n,"filled",t[9](t[27])),272&s&&I(n,"opacity-20",t[8](t[27]))},d(e){e&&S(n),s=!1,o()}}}function Rn(e){let t,n,r,s,o,i,a,l,c,d,m,g,b,y,v,$=[],w=new Map;const k=[Ln,Tn],E=[];function L(e,t){return e[1]?0:1}r=L(e),s=E[r]=k[r](e);const j=e[22].content,R=u(j,e,e[21],Sn);let B=e[4];const N=e=>e[27];for(let t=0;t<B.length;t+=1){let n=kn(e,B,t),r=N(n);w.set(r,$[t]=An(r,n))}return b=new wn({props:{direction:"right",active:e[0].nextButtonEnabled,text:e[6],onClick:e[12]}}),{c(){t=C("div"),n=C("div"),s.c(),i=T(),a=C("div"),R&&R.c(),c=T(),d=C("div"),m=C("div");for(let e=0;e<$.length;e+=1)$[e].c();g=T(),Te(b.$$.fragment),A(a,"class","my-8 flex w-full"),I(a,"items-center",e[3]),A(m,"class","flex gap-2"),A(d,"class","flex justify-between")},m(s,o){_(s,t,o),x(t,n),E[r].m(n,null),x(t,i),x(t,a),R&&R.m(a,null),e[23](a),x(t,c),x(t,d),x(d,m);for(let e=0;e<$.length;e+=1)$[e].m(m,null);x(d,g),Le(b,d,null),v=!0},p(t,[o]){let i=r;r=L(e=t),r===i?E[r].p(e,o):(pe(),be(E[i],1,1,(()=>{E[i]=null})),me(),s=E[r],s?s.p(e,o):(s=E[r]=k[r](e),s.c()),ge(s,1),s.m(n,null)),R&&R.p&&(!v||2097152&o)&&h(R,j,e,e[21],v?f(j,e[21],o,_n):p(e[21]),Sn),8&o&&I(a,"items-center",e[3]),12048&o&&(B=e[4],$=_e($,o,N,1,e,B,w,m,we,An,null,kn));const l={};1&o&&(l.active=e[0].nextButtonEnabled),64&o&&(l.text=e[6]),b.$set(l)},i(t){v||(ge(s),o||re((()=>{o=ve(n,ht,{y:-15,duration:e[7]}),o.start()})),ge(R,t),l||re((()=>{l=ve(a,ht,{y:20,duration:e[7]}),l.start()})),ge(b.$$.fragment,t),y||re((()=>{y=ve(d,ht,{y:35,duration:e[7]}),y.start()})),v=!0)},o(e){be(s),be(R,e),be(b.$$.fragment,e),v=!1},d(n){n&&S(t),E[r].d(),R&&R.d(n),e[23](null);for(let e=0;e<$.length;e+=1)$[e].d();je(b)}}}function Bn(e,t,n){let r,{$$slots:s={},$$scope:o}=t,{numPages:i}=t,{state:a}=t,{onLastPageComplete:l}=t,{onPageComplete:c=null}=t,{title:u=null}=t,{subtitle:d=null}=t,{minimumContentHeight:f=null}=t,{centerVertically:h=!1}=t,{canClickBack:p=!0}=t,{nextButton:m="Next"}=t,{completeButton:g=m}=t;const b=nt.reduceMotion?0:850;let y,v={length:i};function $(e){return p&&x(e)}function x(e){return e+1<a.currentPage}function w(e){$(e)&&(n(0,a.currentPage=e+1,a),n(4,v),n(0,a))}G((()=>{f&&n(5,y.style.minHeight=f+"px",y)}));return e.$$set=e=>{"numPages"in e&&n(14,i=e.numPages),"state"in e&&n(0,a=e.state),"onLastPageComplete"in e&&n(15,l=e.onLastPageComplete),"onPageComplete"in e&&n(16,c=e.onPageComplete),"title"in e&&n(1,u=e.title),"subtitle"in e&&n(2,d=e.subtitle),"minimumContentHeight"in e&&n(17,f=e.minimumContentHeight),"centerVertically"in e&&n(3,h=e.centerVertically),"canClickBack"in e&&n(18,p=e.canClickBack),"nextButton"in e&&n(19,m=e.nextButton),"completeButton"in e&&n(20,g=e.completeButton),"$$scope"in e&&n(21,o=e.$$scope)},e.$$.update=()=>{1589249&e.$$.dirty&&n(6,r=a.currentPage===i?g:m),17&e.$$.dirty&&(a.nextButtonEnabled,n(4,v),n(0,a))},[a,u,d,h,v,y,r,b,function(e){return e+1===a.currentPage&&!a.nextButtonEnabled},function(e){return e<a.currentPage},$,x,function(){a.nextButtonEnabled&&(c?.(a.currentPage),a.currentPage===i?l():(n(0,a.currentPage++,a),n(4,v),n(0,a)))},w,i,l,c,f,p,m,g,o,s,function(e){J[e?"unshift":"push"]((()=>{y=e,n(5,y)}))},e=>w(e)]}class Nn extends Re{constructor(e){super(),Ae(this,e,Bn,Rn,a,{numPages:14,state:0,onLastPageComplete:15,onPageComplete:16,title:1,subtitle:2,minimumContentHeight:17,centerVertically:3,canClickBack:18,nextButton:19,completeButton:20})}}function Dn(e){let t;const n=e[4].default,r=u(n,e,e[3],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,s){r&&r.p&&(!t||8&s)&&h(r,n,e,e[3],t?f(n,e[3],s,null):p(e[3]),null)},i(e){t||(ge(r,e),t=!0)},o(e){be(r,e),t=!1},d(e){r&&r.d(e)}}}function In(e){let t,n,r=e[0]&&Dn(e);return{c(){r&&r.c(),t=L()},m(e,s){r&&r.m(e,s),_(e,t,s),n=!0},p(e,[n]){e[0]?r?(r.p(e,n),1&n&&ge(r,1)):(r=Dn(e),r.c(),ge(r,1),r.m(t.parentNode,t)):r&&(pe(),be(r,1,1,(()=>{r=null})),me())},i(e){n||(ge(r),n=!0)},o(e){be(r),n=!1},d(e){r&&r.d(e),e&&S(t)}}}function On(e,t,n){let r,{$$slots:s={},$$scope:o}=t,{pageNumber:i}=t,{state:a}=t;return e.$$set=e=>{"pageNumber"in e&&n(1,i=e.pageNumber),"state"in e&&n(2,a=e.state),"$$scope"in e&&n(3,o=e.$$scope)},e.$$.update=()=>{6&e.$$.dirty&&n(0,r=i===a.currentPage)},[r,i,a,o,s]}class Pn extends Re{constructor(e){super(),Ae(this,e,On,In,a,{pageNumber:1,state:2})}}function zn(e){let t,n,r,s,o,i,a;function l(t){e[3](t)}function c(t){e[4](t)}let u={label:'Type "Delete" to confirm',placeholder:"Delete",name:"delete-everything-confirmation-input",fillWidth:!0,focusOnMount:!0,validators:[{test:Hn,message:'Value must be "Delete"'}]};return void 0!==e[0]&&(u.value=e[0]),void 0!==e[1].nextButtonEnabled&&(u.isValid=e[1].nextButtonEnabled),s=new vn({props:u}),J.push((()=>Ee(s,"value",l))),J.push((()=>Ee(s,"isValid",c))),{c(){t=C("div"),n=C("p"),n.textContent="This will clear all of your data. All of it. Every last byte. There\n          will be nothing left, at all, and it cannot be recovered. Ever. Are\n          you sure you want to continue?",r=T(),Te(s.$$.fragment),A(n,"class","mb-8")},m(e,o){_(e,t,o),x(t,n),x(t,r),Le(s,t,null),a=!0},p(e,t){const n={};!o&&1&t&&(o=!0,n.value=e[0],se((()=>o=!1))),!i&&2&t&&(i=!0,n.isValid=e[1].nextButtonEnabled,se((()=>i=!1))),s.$set(n)},i(e){a||(ge(s.$$.fragment,e),a=!0)},o(e){be(s.$$.fragment,e),a=!1},d(e){e&&S(t),je(s)}}}function Mn(e){let t,n,r,s;function o(t){e[5](t)}let i={pageNumber:1,$$slots:{default:[zn]},$$scope:{ctx:e}};return void 0!==e[1]&&(i.state=e[1]),n=new Pn({props:i}),J.push((()=>Ee(n,"state",o))),{c(){t=C("div"),Te(n.$$.fragment),A(t,"slot","content"),A(t,"class","w-full")},m(e,r){_(e,t,r),Le(n,t,null),s=!0},p(e,t){const s={};131&t&&(s.$$scope={dirty:t,ctx:e}),!r&&2&t&&(r=!0,s.state=e[1],se((()=>r=!1))),n.$set(s)},i(e){s||(ge(n.$$.fragment,e),s=!0)},o(e){be(n.$$.fragment,e),s=!1},d(e){e&&S(t),je(n)}}}function Fn(e){let t,n,r;function s(t){e[6](t)}let o={title:"Confirm Workspace Reset",numPages:1,completeButton:"Delete Everything Forever",onLastPageComplete:e[2],$$slots:{content:[Mn]},$$scope:{ctx:e}};return void 0!==e[1]&&(o.state=e[1]),t=new Nn({props:o}),J.push((()=>Ee(t,"state",s))),{c(){Te(t.$$.fragment)},m(e,n){Le(t,e,n),r=!0},p(e,[r]){const s={};131&r&&(s.$$scope={dirty:r,ctx:e}),!n&&2&r&&(n=!0,s.state=e[1],se((()=>n=!1))),t.$set(s)},i(e){r||(ge(t.$$.fragment,e),r=!0)},o(e){be(t.$$.fragment,e),r=!1},d(e){je(t,e)}}}const Hn=function(e){return"delete"===e.toLowerCase().trim()};function Un(e,t,n){let r="",s={currentPage:1,nextButtonEnabled:!1};return[r,s,function(){localStorage.clear(),hn.clear("metadata"),hn.clear("stbls"),Ue("/"),setTimeout((()=>{location.reload()}),200)},function(e){r=e,n(0,r)},function(t){e.$$.not_equal(s.nextButtonEnabled,t)&&(s.nextButtonEnabled=t,n(1,s))},function(e){s=e,n(1,s)},function(e){s=e,n(1,s)}]}class Wn extends Re{constructor(e){super(),Ae(this,e,Un,Fn,a,{})}}function qn(e,t,n){const r=e.slice();return r[12]=t[n],r[11]=n,r}function Gn(e,t,n){const r=e.slice();return r[9]=t[n],r[11]=n,r}function Kn(e,t,n){const r=e.slice();return r[12]=t[n],r[11]=n,r}function Vn(e){let t,n;return{c(){t=C("p"),n=E(e[2]),A(t,"class","text-subtle uppercase text-xs font-bold mb-2")},m(e,r){_(e,t,r),x(t,n)},p(e,t){4&t&&B(n,e[2])},d(e){e&&S(t)}}}function Zn(e){let t,n=[],r=new Map,s=e[6];const o=e=>e[11];for(let t=0;t<s.length;t+=1){let i=qn(e,s,t),a=o(i);r.set(a,n[t]=Yn(a,i))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=L()},m(e,r){for(let t=0;t<n.length;t+=1)n[t].m(e,r);_(e,t,r)},p(e,i){64&i&&(s=e[6],n=_e(n,i,o,1,e,s,r,t.parentNode,we,Yn,t,qn))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&S(t)}}}function Jn(e){let t,n=[],r=new Map,s=e[7];const o=e=>e[11];for(let t=0;t<s.length;t+=1){let i=Gn(e,s,t),a=o(i);r.set(a,n[t]=Qn(a,i))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=L()},m(e,r){for(let t=0;t<n.length;t+=1)n[t].m(e,r);_(e,t,r)},p(e,i){128&i&&(s=e[7],n=_e(n,i,o,1,e,s,r,t.parentNode,we,Qn,t,Gn))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&S(t)}}}function Yn(e,t){let n,r,s,o,i=t[12].text+"";return{key:e,first:null,c(){n=C("option"),r=E(i),s=T(),n.__value=o=t[12].value,n.value=n.__value,this.first=n},m(e,t){_(e,n,t),x(n,r),x(n,s)},p(e,s){t=e,64&s&&i!==(i=t[12].text+"")&&B(r,i),64&s&&o!==(o=t[12].value)&&(n.__value=o,n.value=n.__value)},d(e){e&&S(n)}}}function Xn(e,t){let n,r,s,o,i=t[12].text+"";return{key:e,first:null,c(){n=C("option"),r=E(i),s=T(),n.__value=o=t[12].value,n.value=n.__value,this.first=n},m(e,t){_(e,n,t),x(n,r),x(n,s)},p(e,s){t=e,128&s&&i!==(i=t[12].text+"")&&B(r,i),128&s&&o!==(o=t[12].value)&&(n.__value=o,n.value=n.__value)},d(e){e&&S(n)}}}function Qn(e,t){let n,r,s=[],o=new Map,i=t[9].options;const a=e=>e[11];for(let e=0;e<i.length;e+=1){let n=Kn(t,i,e),r=a(n);o.set(r,s[e]=Xn(r,n))}return{key:e,first:null,c(){n=C("optgroup");for(let e=0;e<s.length;e+=1)s[e].c();A(n,"label",r=t[9].name),this.first=n},m(e,t){_(e,n,t);for(let e=0;e<s.length;e+=1)s[e].m(n,null)},p(e,l){t=e,128&l&&(i=t[9].options,s=_e(s,l,a,1,t,i,o,n,we,Xn,null,Kn)),128&l&&r!==(r=t[9].name)&&A(n,"label",r)},d(e){e&&S(n);for(let e=0;e<s.length;e+=1)s[e].d()}}}function er(t){let n,r,s,o,i,a,l=Boolean(t[2]),c=l&&Vn(t);function u(e,t){return 128&t&&(o=null),null==o&&(o=!!Boolean(e[7])),o?Jn:Zn}let d=u(t,-1),f=d(t);return{c(){n=C("div"),c&&c.c(),r=T(),s=C("select"),f.c(),A(s,"name",t[3]),A(s,"class","block h-10 pl-2 pr-8 rounded text-sm bg-transparent border border-gray-600 dark:border-gray-400 svelte-132dmde"),s.disabled=t[1],void 0===t[0]&&re((()=>t[8].call(s))),I(s,"w-full",t[4]),A(n,"class","flex flex-col"),I(n,"w-full",t[4]),I(n,"sm:items-end",t[5])},m(e,o){_(e,n,o),c&&c.m(n,null),x(n,r),x(n,s),f.m(s,null),D(s,t[0]),i||(a=j(s,"change",t[8]),i=!0)},p(e,[t]){4&t&&(l=Boolean(e[2])),l?c?c.p(e,t):(c=Vn(e),c.c(),c.m(n,r)):c&&(c.d(1),c=null),d===(d=u(e,t))&&f?f.p(e,t):(f.d(1),f=d(e),f&&(f.c(),f.m(s,null))),8&t&&A(s,"name",e[3]),2&t&&(s.disabled=e[1]),193&t&&D(s,e[0]),16&t&&I(s,"w-full",e[4]),16&t&&I(n,"w-full",e[4]),32&t&&I(n,"sm:items-end",e[5])},i:e,o:e,d(e){e&&S(n),c&&c.d(),f.d(),i=!1,a()}}}function tr(e,t,n){let{disabled:r=!1}=t,{label:s=null}=t,{name:o}=t,{fillWidth:i=!1}=t,{alignRight:a=!1}=t,{selected:l}=t,{options:c=null}=t,{optionGroups:u=null}=t;return e.$$set=e=>{"disabled"in e&&n(1,r=e.disabled),"label"in e&&n(2,s=e.label),"name"in e&&n(3,o=e.name),"fillWidth"in e&&n(4,i=e.fillWidth),"alignRight"in e&&n(5,a=e.alignRight),"selected"in e&&n(0,l=e.selected),"options"in e&&n(6,c=e.options),"optionGroups"in e&&n(7,u=e.optionGroups)},[l,r,s,o,i,a,c,u,function(){l=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),n(0,l),n(7,u),n(6,c)}]}class nr extends Re{constructor(e){super(),Ae(this,e,tr,er,a,{disabled:1,label:2,name:3,fillWidth:4,alignRight:5,selected:0,options:6,optionGroups:7})}}const{enums:rr}=window.S4TK,sr=new Map;function or(e){return sr.get(e)}function ir(e){const t=or(e);return t.enumValue?`${t.englishName} (${t.nativeName})`:t.englishName}function ar(e){let t,n,r;function s(t){e[6](t)}let o={label:e[1],fillWidth:e[2],alignRight:e[3],name:"locale-select",options:e[4]};return void 0!==e[0]&&(o.selected=e[0]),t=new nr({props:o}),J.push((()=>Ee(t,"selected",s))),{c(){Te(t.$$.fragment)},m(e,n){Le(t,e,n),r=!0},p(e,[r]){const s={};2&r&&(s.label=e[1]),4&r&&(s.fillWidth=e[2]),8&r&&(s.alignRight=e[3]),16&r&&(s.options=e[4]),!n&&1&r&&(n=!0,s.selected=e[0],se((()=>n=!1))),t.$set(s)},i(e){r||(ge(t.$$.fragment,e),r=!0)},o(e){be(t.$$.fragment,e),r=!1},d(e){je(t,e)}}}function lr(e,t,n){let r;const{enums:s}=window.S4TK;let{label:o=null}=t,{fillWidth:i=!1}=t,{alignRight:a=!1}=t,{selected:l}=t,{localesToChoose:c=s.StringTableLocale.all()}=t;return e.$$set=e=>{"label"in e&&n(1,o=e.label),"fillWidth"in e&&n(2,i=e.fillWidth),"alignRight"in e&&n(3,a=e.alignRight),"selected"in e&&n(0,l=e.selected),"localesToChoose"in e&&n(5,c=e.localesToChoose)},e.$$.update=()=>{32&e.$$.dirty&&n(4,r=c.map((e=>({value:e,text:ir(e)}))).sort(((e,t)=>{const n=e.text.toLowerCase(),r=t.text.toLowerCase();return n<r?-1:n>r?1:0})))},[l,o,i,a,r,c,function(e){l=e,n(0,l)}]}[{enumName:"English",englishName:"English",country:"United States",nativeName:"English",code:"EN"},{enumName:"ChineseSimplified",englishName:"Chinese, Simplified",country:"China",nativeName:"简体中文",code:"ZH"},{enumName:"ChineseTraditional",englishName:"Chinese, Traditional",country:"China",nativeName:"繁體中文",code:"ZH"},{enumName:"Czech",englishName:"Czech",country:"Czechia",nativeName:"Čeština",code:"CS"},{enumName:"Danish",englishName:"Danish",country:"Denmark",nativeName:"Dansk",code:"DA"},{enumName:"Dutch",englishName:"Dutch",country:"Netherlands",nativeName:"Nederlands",code:"NL"},{enumName:"Finnish",englishName:"Finnish",country:"Finland",nativeName:"Suomi",code:"FI"},{enumName:"French",englishName:"French",country:"France",nativeName:"Français",code:"FR"},{enumName:"German",englishName:"German",country:"Germany",nativeName:"Deutsch",code:"DE"},{enumName:"Italian",englishName:"Italian",country:"Italy",nativeName:"Italiano",code:"IT"},{enumName:"Japanese",englishName:"Japanese",country:"Japan",nativeName:"日本語",code:"JA"},{enumName:"Korean",englishName:"Korean",country:"South Korea",nativeName:"한국어",code:"KO"},{enumName:"Norwegian",englishName:"Norwegian",country:"Norway",nativeName:"Norsk",code:"NO"},{enumName:"Polish",englishName:"Polish",country:"Poland",nativeName:"Polski",code:"PL"},{enumName:"Portuguese",englishName:"Portuguese",country:"Brazil",nativeName:"Português",code:"PT"},{enumName:"Russian",englishName:"Russian",country:"Russia",nativeName:"Русский",code:"RU"},{enumName:"Spanish",englishName:"Spanish",country:"Spain",nativeName:"Español",code:"ES"},{enumName:"Swedish",englishName:"Swedish",country:"Sweden",nativeName:"Svenska",code:"SV"}].forEach((e=>{const t=rr.StringTableLocale[e.enumName];e.enumValue=t,sr.set(t,e)}));class cr extends Re{constructor(e){super(),Ae(this,e,lr,ar,a,{label:1,fillWidth:2,alignRight:3,selected:0,localesToChoose:5})}}function ur(e){let t,n,r,s,i,a,l,c,u,d,f,h,p,m,g,b,y,v,$,w,k,E,L,R,B,N,D,I,O,P,z,M;function F(t){e[11](t)}let H={label:"Download JSON as Object"};function U(t){e[12](t)}void 0!==e[1].useObjectJson&&(H.checked=e[1].useObjectJson),f=new Yt({props:H}),J.push((()=>Ee(f,"checked",F)));let W={label:"Disable Networking"};function q(t){e[13](t)}void 0!==e[1].rickGif&&(W.checked=e[1].rickGif),y=new Yt({props:W}),J.push((()=>Ee(y,"checked",U)));let G={label:"Hack the Mainframe"};return void 0!==e[1].mainframeHacked&&(G.checked=e[1].mainframeHacked),L=new Yt({props:G}),J.push((()=>Ee(L,"checked",q))),{c(){t=C("div"),n=C("div"),r=C("div"),s=C("button"),s.innerHTML='<img class="svg h-2" src="./assets/chevron-left.svg" alt="&lt;"/>\n              Back',i=T(),a=C("p"),a.textContent="Advanced",l=T(),c=C("div"),u=T(),d=C("div"),Te(f.$$.fragment),p=T(),m=C("p"),m.textContent="Map keys to values rather than use a list of key/value pairs. This\n              only affects downloads, not imports or the JSON editor.",g=T(),b=C("div"),Te(y.$$.fragment),$=T(),w=C("p"),w.textContent="This will never let you download.",k=T(),E=C("div"),Te(L.$$.fragment),B=T(),N=C("p"),N.textContent="1010 0100 0101 0101",D=T(),I=C("div"),O=C("button"),O.innerHTML='<img class="svg h-4 svelte-j46nw8" src="./assets/trash.svg" alt="Trash"/>\n            Delete Website Data',A(s,"class","w-12 text-subtle flex gap-2 items-center text-xs"),A(a,"class","text-sm font-bold"),A(c,"class","w-12"),A(r,"class","flex justify-between"),A(m,"class","text-subtle text-xs mt-2"),A(w,"class","text-subtle text-xs mt-2"),A(N,"class","text-subtle text-xs mt-2"),A(n,"class","w-full flex flex-col gap-4"),A(O,"class","setting hover:bg-red-600 focus:bg-red-600 dark:hover:bg-red-500 dark:focus:bg-red-500 border border-red-600 dark:border-red-500 h-10 flex items-center justify-center gap-4 rounded svelte-j46nw8"),A(I,"class","flex flex-col gap-4"),A(t,"class","flex-1 flex flex-col gap-4 justify-between")},m(o,h){_(o,t,h),x(t,n),x(n,r),x(r,s),x(r,i),x(r,a),x(r,l),x(r,c),x(n,u),x(n,d),Le(f,d,null),x(d,p),x(d,m),x(n,g),x(n,b),Le(y,b,null),x(b,$),x(b,w),x(n,k),x(n,E),Le(L,E,null),x(E,B),x(E,N),x(t,D),x(t,I),x(I,O),P=!0,z||(M=[j(s,"click",e[10]),j(O,"click",e[14])],z=!0)},p(e,t){const n={};!h&&2&t&&(h=!0,n.checked=e[1].useObjectJson,se((()=>h=!1))),f.$set(n);const r={};!v&&2&t&&(v=!0,r.checked=e[1].rickGif,se((()=>v=!1))),y.$set(r);const s={};!R&&2&t&&(R=!0,s.checked=e[1].mainframeHacked,se((()=>R=!1))),L.$set(s)},i(e){P||(ge(f.$$.fragment,e),ge(y.$$.fragment,e),ge(L.$$.fragment,e),P=!0)},o(e){be(f.$$.fragment,e),be(y.$$.fragment,e),be(L.$$.fragment,e),P=!1},d(e){e&&S(t),je(f),je(y),je(L),z=!1,o(M)}}}function dr(e){let t,n,r,s,o,i,a,l,c,u,d,f,h,p,m,g,b,y,v,$,w,k,E,L,R,B,N,D,I,O,P,z,M,F;function H(t){e[4](t)}let U={label:"default locale",fillWidth:!0};function W(t){e[5](t)}void 0!==e[1].defaultLocale&&(U.selected=e[1].defaultLocale),r=new cr({props:U}),J.push((()=>Ee(r,"selected",H)));let q={label:"Disable Blur Effect"};function G(t){e[6](t)}void 0!==e[1].disableBlur&&(q.checked=e[1].disableBlur),a=new Yt({props:q}),J.push((()=>Ee(a,"checked",W)));let K={label:"Disable Easter Eggs"};function V(t){e[7](t)}void 0!==e[1].disableEasterEggs&&(K.checked=e[1].disableEasterEggs),h=new Yt({props:K}),J.push((()=>Ee(h,"checked",G)));let Z={label:"Monochrome Toolbar"};function Y(t){e[8](t)}void 0!==e[1].disableToolbarColors&&(Z.checked=e[1].disableToolbarColors),v=new Yt({props:Z}),J.push((()=>Ee(v,"checked",V)));let X={label:"Reduce Motion"};return void 0!==e[1].reduceMotion&&(X.checked=e[1].reduceMotion),R=new Yt({props:X}),J.push((()=>Ee(R,"checked",Y))),{c(){t=C("div"),n=C("div"),Te(r.$$.fragment),o=T(),i=C("div"),Te(a.$$.fragment),c=T(),u=C("p"),u.textContent="Make blurred backgrounds appear opaque.",d=T(),f=C("div"),Te(h.$$.fragment),m=T(),g=C("p"),g.textContent="If you hate fun or want better performance.",b=T(),y=C("div"),Te(v.$$.fragment),w=T(),k=C("p"),k.textContent="Disable color-coding of bottom-right toolbar.",E=T(),L=C("div"),Te(R.$$.fragment),N=T(),D=C("p"),D.textContent="Disable fly, fade, and transition animations.",I=T(),O=C("div"),P=C("button"),P.innerHTML='Advanced\n            <img class="svg h-2" src="./assets/chevron-right.svg" alt="&gt;"/>',A(u,"class","text-subtle text-xs mt-2"),A(g,"class","text-subtle text-xs mt-2"),A(k,"class","text-subtle text-xs mt-2"),A(D,"class","text-subtle text-xs mt-2"),A(n,"class","flex-1 flex flex-col gap-4"),A(P,"class","text-subtle flex gap-2 items-center text-xs"),A(O,"class","w-full flex justify-end mb-2"),A(t,"class","flex-1 flex flex-col gap-4")},m(s,l){_(s,t,l),x(t,n),Le(r,n,null),x(n,o),x(n,i),Le(a,i,null),x(i,c),x(i,u),x(n,d),x(n,f),Le(h,f,null),x(f,m),x(f,g),x(n,b),x(n,y),Le(v,y,null),x(y,w),x(y,k),x(n,E),x(n,L),Le(R,L,null),x(L,N),x(L,D),x(t,I),x(t,O),x(O,P),z=!0,M||(F=j(P,"click",e[9]),M=!0)},p(e,t){const n={};!s&&2&t&&(s=!0,n.selected=e[1].defaultLocale,se((()=>s=!1))),r.$set(n);const o={};!l&&2&t&&(l=!0,o.checked=e[1].disableBlur,se((()=>l=!1))),a.$set(o);const i={};!p&&2&t&&(p=!0,i.checked=e[1].disableEasterEggs,se((()=>p=!1))),h.$set(i);const c={};!$&&2&t&&($=!0,c.checked=e[1].disableToolbarColors,se((()=>$=!1))),v.$set(c);const u={};!B&&2&t&&(B=!0,u.checked=e[1].reduceMotion,se((()=>B=!1))),R.$set(u)},i(e){z||(ge(r.$$.fragment,e),ge(a.$$.fragment,e),ge(h.$$.fragment,e),ge(v.$$.fragment,e),ge(R.$$.fragment,e),z=!0)},o(e){be(r.$$.fragment,e),be(a.$$.fragment,e),be(h.$$.fragment,e),be(v.$$.fragment,e),be(R.$$.fragment,e),z=!1},d(e){e&&S(t),je(r),je(a),je(h),je(v),je(R),M=!1,F()}}}function fr(e){let t,n,r,s;const o=[dr,ur],i=[];function a(e,t){return"main"===e[3]?0:"advanced"===e[3]?1:-1}return~(n=a(e))&&(r=i[n]=o[n](e)),{c(){t=C("div"),r&&r.c(),A(t,"class","flex-1 flex flex-col gap-4")},m(e,r){_(e,t,r),~n&&i[n].m(t,null),s=!0},p(e,s){let l=n;n=a(e),n===l?~n&&i[n].p(e,s):(r&&(pe(),be(i[l],1,1,(()=>{i[l]=null})),me()),~n?(r=i[n],r?r.p(e,s):(r=i[n]=o[n](e),r.c()),ge(r,1),r.m(t,null)):r=null)},i(e){s||(ge(r),s=!0)},o(e){be(r),s=!1},d(e){e&&S(t),~n&&i[n].d()}}}function hr(e){let t,n;return t=new on({props:{onClose:e[15],$$slots:{default:[pr]},$$scope:{ctx:e}}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.onClose=e[15]),65536&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function pr(e){let t,n;return t=new Wn({}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function mr(e){let t,n,r,s;t=new yt({props:{title:"Settings",onClose:e[0],$$slots:{default:[fr]},$$scope:{ctx:e}}});let o=e[2]&&hr(e);return{c(){Te(t.$$.fragment),n=T(),o&&o.c(),r=L()},m(e,i){Le(t,e,i),_(e,n,i),o&&o.m(e,i),_(e,r,i),s=!0},p(e,[n]){const s={};1&n&&(s.onClose=e[0]),65550&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s),e[2]?o?(o.p(e,n),4&n&&ge(o,1)):(o=hr(e),o.c(),ge(o,1),o.m(r.parentNode,r)):o&&(pe(),be(o,1,1,(()=>{o=null})),me())},i(e){s||(ge(t.$$.fragment,e),ge(o),s=!0)},o(e){be(t.$$.fragment,e),be(o),s=!1},d(e){je(t,e),e&&S(n),o&&o.d(e),e&&S(r)}}}function gr(e,t,n){let{onClose:r}=t,s=!1,o="main";return e.$$set=e=>{"onClose"in e&&n(0,r=e.onClose)},[r,nt,s,o,function(t){e.$$.not_equal(nt.defaultLocale,t)&&(nt.defaultLocale=t,n(1,nt))},function(t){e.$$.not_equal(nt.disableBlur,t)&&(nt.disableBlur=t,n(1,nt))},function(t){e.$$.not_equal(nt.disableEasterEggs,t)&&(nt.disableEasterEggs=t,n(1,nt))},function(t){e.$$.not_equal(nt.disableToolbarColors,t)&&(nt.disableToolbarColors=t,n(1,nt))},function(t){e.$$.not_equal(nt.reduceMotion,t)&&(nt.reduceMotion=t,n(1,nt))},()=>n(3,o="advanced"),()=>n(3,o="main"),function(t){e.$$.not_equal(nt.useObjectJson,t)&&(nt.useObjectJson=t,n(1,nt))},function(t){e.$$.not_equal(nt.rickGif,t)&&(nt.rickGif=t,n(1,nt))},function(t){e.$$.not_equal(nt.mainframeHacked,t)&&(nt.mainframeHacked=t,n(1,nt))},()=>n(2,s=!0),()=>n(2,s=!1)]}class br extends Re{constructor(e){super(),Ae(this,e,gr,mr,a,{onClose:0})}}function yr(e){let t,n,r,s,i,a,l,c,u,d,f,h,p,m,g,b,y,v,$,w,k,L,R,N,D,I,O,P,z,M,F,H,U,W,q,G,K,V,Z,Y,X,Q,ee,te,ne,re,oe,ie,ae,le,ce,ue,de,fe,he;function pe(t){e[14](t)}let me={name:"hasher-input",placeholder:"Something...",fillWidth:!0};function ye(t){e[16](t)}void 0!==e[1]&&(me.value=e[1]),c=new vn({props:me}),J.push((()=>Ee(c,"value",pe)));let ve={label:"Force high bit"};function $e(t){e[17](t)}void 0!==e[2]&&(ve.checked=e[2]),ne=new Yt({props:ve}),J.push((()=>Ee(ne,"checked",ye)));let xe={label:"Remove locale from 64-bit"};function we(t){e[18](t)}void 0!==e[3]&&(xe.checked=e[3]),ie=new Yt({props:xe}),J.push((()=>Ee(ie,"checked",$e)));let ke={label:"Use hex prefix"};return void 0!==e[4]&&(ke.checked=e[4]),ce=new Yt({props:ke}),J.push((()=>Ee(ce,"checked",we))),{c(){t=C("div"),n=C("div"),r=C("div"),s=C("p"),s.textContent="ENTER TEXT TO HASH",i=T(),a=C("button"),a.textContent="CLEAR",l=T(),Te(c.$$.fragment),d=T(),f=C("div"),h=C("div"),p=C("p"),p.textContent="32-bit",m=T(),g=C("div"),b=C("p"),b.textContent="Decimal",y=T(),v=C("button"),$=E(e[6]),w=T(),k=C("div"),L=C("p"),L.textContent="Hexadecimal",R=T(),N=C("button"),D=E(e[9]),I=T(),O=C("div"),P=C("p"),P.textContent="64-bit",z=T(),M=C("div"),F=C("p"),F.textContent="Decimal",H=T(),U=C("button"),W=E(e[5]),q=T(),G=C("div"),K=C("p"),K.textContent="Hexadecimal",V=T(),Z=C("button"),Y=E(e[8]),X=T(),Q=C("p"),Q.textContent="Click number to copy.",ee=T(),te=C("div"),Te(ne.$$.fragment),oe=T(),Te(ie.$$.fragment),le=T(),Te(ce.$$.fragment),A(s,"class","text-subtle text-xs font-bold"),A(a,"class","text-xs text-accent-secondary-light dark:text-accent-secondary-dark hacker-text-lime underline hover:no-underline"),A(r,"class","flex justify-between items-center"),A(n,"class","flex flex-col gap-2"),A(p,"class","text-sm text-subtle uppercase font-bold"),A(b,"class","text-xs"),A(v,"class","monospace hover:text-accent-primary-light dark:hover:text-accent-primary-dark hover:hacker-text-green"),A(g,"class","flex justify-between items-center"),A(L,"class","text-xs"),A(N,"class","monospace hover:text-accent-primary-light dark:hover:text-accent-primary-dark hover:hacker-text-green"),A(k,"class","flex justify-between items-center"),A(P,"class","text-sm text-subtle uppercase font-bold"),A(F,"class","text-xs"),A(U,"class","monospace hover:text-accent-primary-light dark:hover:text-accent-primary-dark hover:hacker-text-green"),A(M,"class","flex justify-between items-center"),A(K,"class","text-xs"),A(Z,"class","monospace hover:text-accent-primary-light dark:hover:text-accent-primary-dark hover:hacker-text-green"),A(G,"class","flex justify-between items-center"),A(Q,"class","text-xs text-subtle text-right"),A(f,"class","flex flex-col gap-2"),A(te,"class","flex flex-col gap-2"),A(t,"class","flex-1 flex flex-col justify-between")},m(o,u){_(o,t,u),x(t,n),x(n,r),x(r,s),x(r,i),x(r,a),x(n,l),Le(c,n,null),x(t,d),x(t,f),x(f,h),x(h,p),x(h,m),x(h,g),x(g,b),x(g,y),x(g,v),x(v,$),x(h,w),x(h,k),x(k,L),x(k,R),x(k,N),x(N,D),x(f,I),x(f,O),x(O,P),x(O,z),x(O,M),x(M,F),x(M,H),x(M,U),x(U,W),x(O,q),x(O,G),x(G,K),x(G,V),x(G,Z),x(Z,Y),x(f,X),x(f,Q),e[15](Q),x(t,ee),x(t,te),Le(ne,te,null),x(te,oe),Le(ie,te,null),x(te,le),Le(ce,te,null),de=!0,fe||(he=[j(a,"click",e[13]),j(v,"click",e[10]),j(N,"click",e[10]),j(U,"click",e[10]),j(Z,"click",e[10])],fe=!0)},p(e,t){const n={};!u&&2&t&&(u=!0,n.value=e[1],se((()=>u=!1))),c.$set(n),(!de||64&t)&&B($,e[6]),(!de||512&t)&&B(D,e[9]),(!de||32&t)&&B(W,e[5]),(!de||256&t)&&B(Y,e[8]);const r={};!re&&4&t&&(re=!0,r.checked=e[2],se((()=>re=!1))),ne.$set(r);const s={};!ae&&8&t&&(ae=!0,s.checked=e[3],se((()=>ae=!1))),ie.$set(s);const o={};!ue&&16&t&&(ue=!0,o.checked=e[4],se((()=>ue=!1))),ce.$set(o)},i(e){de||(ge(c.$$.fragment,e),ge(ne.$$.fragment,e),ge(ie.$$.fragment,e),ge(ce.$$.fragment,e),de=!0)},o(e){be(c.$$.fragment,e),be(ne.$$.fragment,e),be(ie.$$.fragment,e),be(ce.$$.fragment,e),de=!1},d(n){n&&S(t),je(c),e[15](null),je(ne),je(ie),je(ce),fe=!1,o(he)}}}function vr(e){let t,n;return t=new yt({props:{title:"Hasher",onClose:e[0],$$slots:{default:[yr]},$$scope:{ctx:e}}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.onClose=e[0]),8389630&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function $r(e,t,n){let r,s,o,i,a,l;const{hashing:c,formatting:u,enums:d}=window.S4TK;let f,h,{onClose:p}=t,m="",g=!1,b=!1,y=!1;return e.$$set=e=>{"onClose"in e&&n(0,p=e.onClose)},e.$$.update=()=>{6&e.$$.dirty&&n(6,r=c.fnv32(m,g)),80&e.$$.dirty&&n(9,s=u.formatAsHexString(r,8,y)),8&e.$$.dirty&&n(11,o=b?14:16),6&e.$$.dirty&&n(12,i=c.fnv64(m,g)),4104&e.$$.dirty&&n(5,a=b?d.StringTableLocale.getInstanceBase(i):i),2096&e.$$.dirty&&n(8,l=u.formatAsHexString(a,o,y))},[p,m,g,b,y,a,r,h,l,s,function(e){const t=e.target;navigator.clipboard.writeText(t.innerText),n(7,h.innerText="Copied!",h),f&&clearTimeout(f),f=setTimeout((()=>{n(7,h.innerText="Click number to copy.",h),f=void 0}),1500)},o,i,()=>n(1,m=""),function(e){m=e,n(1,m)},function(e){J[e?"unshift":"push"]((()=>{h=e,n(7,h)}))},function(e){g=e,n(2,g)},function(e){b=e,n(3,b)},function(e){y=e,n(4,y)}]}class xr extends Re{constructor(e){super(),Ae(this,e,$r,vr,a,{onClose:0})}}var wr={tokens:[{name:"Names & Pronouns",tokens:["SimFirstName","SimFirstNameList","SimLastName","SimName","SimNameAndPronouns","SimPronounObjective","SimPronounPossessiveDependent","SimPronounPossessiveIndependent","SimPronounReflexive","SimPronounSubjective","SimPronouns"]},{name:"Objects",tokens:["ObjectCatalogDescription","ObjectCatalogName","ObjectDescription","ObjectName"]},{name:"Time",tokens:["DateLong","DateShort","DayOfWeekLong","DayOfWeekShort","TimeLong","TimeShort","Timespan","TimespanShort"]},{name:"Other",tokens:["ClubPoints","Currency","FamePoints","GalacticCredits","Influence","Money","Number","OccultPoints","PerkPoints","Points","RecyclingBits","RecyclingPieces","String"]}],tokenHints:{SimPronounObjective:"Him/Her",SimPronounPossessiveDependent:"His/Her",SimPronounPossessiveIndependent:"His/Hers",SimPronounReflexive:"Himself/Herself",SimPronounSubjective:"He/She"},suffixes:["capitalize","enAn","enHouseholdNamePlural","xxAllCaps","xxUpper"]};function kr(e){let t,n,r,s,i,a,l,c,u,d,f,h,p,m,g,b,y,v,$,w,k,L,D,I,O,P,z,M,F,H,U,W,q,G;function K(t){e[13](t)}let V={label:"Token",name:"tokens-select",fillWidth:!0,optionGroups:e[9]};function Z(t){e[14](t)}void 0!==e[4]&&(V.selected=e[4]),u=new nr({props:V}),J.push((()=>Ee(u,"selected",K)));let Y={label:"Suffix",name:"suffixes-select",fillWidth:!0,options:e[10]};function X(t){e[15](t)}void 0!==e[5]&&(Y.selected=e[5]),h=new nr({props:Y}),J.push((()=>Ee(h,"selected",Z)));let Q={name:"male-token-input",placeholder:"Male...",fillWidth:!0};function ee(t){e[16](t)}void 0!==e[2]&&(Q.value=e[2]),L=new vn({props:Q}),J.push((()=>Ee(L,"value",X)));let te={name:"female-token-input",placeholder:"Female...",fillWidth:!0};return void 0!==e[3]&&(te.value=e[3]),O=new vn({props:te}),J.push((()=>Ee(O,"value",ee))),{c(){t=C("div"),n=C("div"),r=C("p"),r.textContent="Token Index:",s=T(),i=C("input"),a=T(),l=C("div"),c=C("div"),Te(u.$$.fragment),f=T(),Te(h.$$.fragment),m=T(),g=C("button"),b=E(e[7]),y=T(),v=C("div"),$=C("p"),$.textContent="Male/Female Pair",w=T(),k=C("div"),Te(L.$$.fragment),I=T(),Te(O.$$.fragment),z=T(),M=C("button"),F=E(e[8]),H=T(),U=C("p"),U.textContent="Click any output token to copy.",A(r,"class","text-sm whitespace-nowrap max-w-min"),A(i,"type","number"),A(i,"min","0"),A(i,"class","w-full block h-10 px-2 rounded text-sm placeholder-gray-500 dark:placeholder-gray-500 bg-transparent border border-gray-600 dark:border-gray-400"),A(i,"placeholder","#"),A(n,"class","flex justify-between items-center gap-8"),A(c,"class","flex gap-2 justify-between"),A(g,"class","monospace break-all hover:text-accent-primary-light dark:hover:text-accent-primary-dark hover:hacker-text-green text-left text-sm mt-2"),A($,"class","text-subtle text-xs font-bold uppercase mb-2"),A(k,"class","flex justify-between gap-2"),A(M,"class","monospace break-all hover:text-accent-primary-light dark:hover:text-accent-primary-dark hover:hacker-text-green text-left text-sm mt-2"),A(U,"class","text-xs text-subtle mt-1"),A(t,"class","flex flex-col gap-4")},m(o,d){_(o,t,d),x(t,n),x(n,r),x(n,s),x(n,i),N(i,e[1]),x(t,a),x(t,l),x(l,c),Le(u,c,null),x(c,f),Le(h,c,null),x(l,m),x(l,g),x(g,b),x(t,y),x(t,v),x(v,$),x(v,w),x(v,k),Le(L,k,null),x(k,I),Le(O,k,null),x(v,z),x(v,M),x(M,F),x(t,H),x(t,U),e[17](U),W=!0,q||(G=[j(i,"input",e[12]),j(g,"click",e[11]),j(M,"click",e[11])],q=!0)},p(e,t){2&t&&R(i.value)!==e[1]&&N(i,e[1]);const n={};!d&&16&t&&(d=!0,n.selected=e[4],se((()=>d=!1))),u.$set(n);const r={};!p&&32&t&&(p=!0,r.selected=e[5],se((()=>p=!1))),h.$set(r),(!W||128&t)&&B(b,e[7]);const s={};!D&&4&t&&(D=!0,s.value=e[2],se((()=>D=!1))),L.$set(s);const o={};!P&&8&t&&(P=!0,o.value=e[3],se((()=>P=!1))),O.$set(o),(!W||256&t)&&B(F,e[8])},i(e){W||(ge(u.$$.fragment,e),ge(h.$$.fragment,e),ge(L.$$.fragment,e),ge(O.$$.fragment,e),W=!0)},o(e){be(u.$$.fragment,e),be(h.$$.fragment,e),be(L.$$.fragment,e),be(O.$$.fragment,e),W=!1},d(n){n&&S(t),je(u),je(h),je(L),je(O),e[17](null),q=!1,o(G)}}}function _r(e){let t,n;return t=new yt({props:{title:"Token Assistant",onClose:e[0],$$slots:{default:[kr]},$$scope:{ctx:e}}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.onClose=e[0]),2097662&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function Sr(e,t,n){let r,s,o,i,{onClose:a}=t,l=0,c="",u="",d=0,f=0;const h=new Map,p=wr.tokens.map((({name:e,tokens:t})=>({name:e,options:t.map((e=>{const t=f++,n=wr.tokenHints[e],r=n?`${e} (${n})`:e;return h.set(t,e),{value:t,text:r}}))})));let m=0;const g=[{value:0,text:"None"},...wr.suffixes.map(((e,t)=>({value:t+1,text:e})))];return e.$$set=e=>{"onClose"in e&&n(0,a=e.onClose)},e.$$.update=()=>{14&e.$$.dirty&&n(8,r=`{M${l}.${c}}{F${l}.${u}}`),50&e.$$.dirty&&n(7,s=`{${l}.${h.get(d)}${0===m?"":"|"+g[m].text}}`)},[a,l,c,u,d,m,i,s,r,p,g,function(e){const t=e.target;navigator.clipboard.writeText(t.innerText),n(6,i.innerText="Copied!",i),o&&clearTimeout(o),o=setTimeout((()=>{n(6,i.innerText="Click any output token to copy.",i),o=void 0}),1500)},function(){l=R(this.value),n(1,l)},function(e){d=e,n(4,d)},function(e){m=e,n(5,m)},function(e){c=e,n(2,c)},function(e){u=e,n(3,u)},function(e){J[e?"unshift":"push"]((()=>{i=e,n(6,i)}))}]}class Cr extends Re{constructor(e){super(),Ae(this,e,Sr,_r,a,{onClose:0})}}function Er(e){let t,n;return t=new Vt({props:{onClose:e[7],args:e[2]}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.args=e[2]),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function Tr(e){let t,n;return t=new br({props:{onClose:e[13]}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.onClose=e[13]),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function Lr(e){let t,n;return t=new xr({props:{onClose:e[14]}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.onClose=e[14]),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function jr(e){let t,n;return t=new Cr({props:{onClose:e[15]}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.onClose=e[15]),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function Ar(e){let t,n,r,s,i,a,l,u,d,f,h,p,m,g,b,y,v,$,w,k,E,R,B,N,D,I,O,P,z,M,F,H,U,W,q,G,K,V,Z,J,Y,X,Q=e[1]&&Er(e),ee=e[0]&&Tr(e),te=e[3]&&Lr(e),ne=e[4]&&jr(e);return{c(){t=C("nav"),n=C("a"),n.innerHTML='<img src="./assets/s4tk-transparent.png" alt="S4TK" class="h-5"/> \n    <h2 class="font-bold">STBL Studio</h2>',r=T(),s=C("div"),i=C("a"),i.innerHTML='<img src="./assets/home-outline.svg" alt="Home" class="svg tint-on-hover h-5"/>',a=T(),l=C("button"),u=C("img"),f=T(),h=C("div"),p=T(),m=C("div"),g=C("button"),g.textContent="Hasher",b=T(),y=C("button"),y.textContent="Token Assistant",v=T(),$=C("hr"),w=T(),k=C("a"),k.textContent="Pronoun Batch Fix",E=T(),R=C("hr"),B=T(),N=C("p"),N.textContent="External Links",D=T(),I=C("a"),I.textContent="String Search",O=T(),P=C("button"),P.innerHTML='<img src="./assets/help-circle-outline.svg" alt="Help" class="svg tint-on-hover h-6"/>',z=T(),M=C("button"),M.innerHTML='<img src="./assets/settings-outline.svg" alt="Settings" class="svg tint-on-hover h-5"/>',F=T(),H=C("button"),U=C("img"),q=T(),Q&&Q.c(),G=T(),ee&&ee.c(),K=T(),te&&te.c(),V=T(),ne&&ne.c(),Z=L(),A(n,"class","flex gap-2 items-center no-underline tint-on-hover whitespace-nowrap"),A(n,"href","/#"),A(i,"href","/#"),c(u.src,d="./assets/construct-outline.svg")||A(u,"src","./assets/construct-outline.svg"),A(u,"alt","Tools"),A(u,"class","svg tint-on-hover h-5"),A(h,"class","dropdown-bridge svelte-bdvnqh"),A(g,"class","p-2 w-full text-sm text-left rounded-t hover:bg-gray-300 hover:dark:bg-gray-950 hover:hacker-bg-gray"),A(y,"class","p-2 w-full text-sm text-left hover:bg-gray-300 hover:dark:bg-gray-950 hover:hacker-bg-gray"),A($,"class","border-gray-300 dark:border-gray-800 hacker-border-gray"),A(k,"class","p-2 w-full text-sm rounded-b no-underline block hover:bg-gray-300 hover:dark:bg-gray-950 hover:hacker-bg-gray"),A(k,"href","#/tools/pronouns"),A(R,"class","border-gray-300 dark:border-gray-800 hacker-border-gray"),A(N,"class","px-2 pt-2 pb-1 text-xs text-subtle uppercase font-bold"),A(I,"class","p-2 w-full text-sm rounded-b no-underline block hover:bg-gray-300 hover:dark:bg-gray-950 hover:hacker-bg-gray"),A(I,"href","https://lot51.cc/tdesc/tools/strings"),A(I,"target","_blank"),A(m,"class","dropdown-content drop-shadow-md rounded text-left bg-gray-200 dark:bg-gray-900 hacker-border-gray hacker-bg-black svelte-bdvnqh"),A(l,"class","dropdown svelte-bdvnqh"),c(U.src,W="./assets/"+e[5]+"-outline.svg")||A(U,"src",W),A(U,"alt","Settings"),A(U,"class","svg tint-on-hover h-5"),A(s,"class","flex gap-3 items-center"),A(t,"class","fixed top-0 left-0 right-0 h-10 px-4 z-30 flex justify-between gap-4 bg-gray-200 dark:bg-gray-900 blurred-bg bottom-shadow svelte-bdvnqh")},m(o,c){_(o,t,c),x(t,n),x(t,r),x(t,s),x(s,i),x(s,a),x(s,l),x(l,u),x(l,f),x(l,h),x(l,p),x(l,m),x(m,g),x(m,b),x(m,y),x(m,v),x(m,$),x(m,w),x(m,k),x(m,E),x(m,R),x(m,B),x(m,N),x(m,D),x(m,I),x(s,O),x(s,P),x(s,z),x(s,M),x(s,F),x(s,H),x(H,U),_(o,q,c),Q&&Q.m(o,c),_(o,G,c),ee&&ee.m(o,c),_(o,K,c),te&&te.m(o,c),_(o,V,c),ne&&ne.m(o,c),_(o,Z,c),J=!0,Y||(X=[j(g,"click",e[9]),j(y,"click",e[10]),j(P,"click",e[11]),j(M,"click",e[12]),j(H,"click",e[6])],Y=!0)},p(e,[t]){(!J||32&t&&!c(U.src,W="./assets/"+e[5]+"-outline.svg"))&&A(U,"src",W),e[1]?Q?(Q.p(e,t),2&t&&ge(Q,1)):(Q=Er(e),Q.c(),ge(Q,1),Q.m(G.parentNode,G)):Q&&(pe(),be(Q,1,1,(()=>{Q=null})),me()),e[0]?ee?(ee.p(e,t),1&t&&ge(ee,1)):(ee=Tr(e),ee.c(),ge(ee,1),ee.m(K.parentNode,K)):ee&&(pe(),be(ee,1,1,(()=>{ee=null})),me()),e[3]?te?(te.p(e,t),8&t&&ge(te,1)):(te=Lr(e),te.c(),ge(te,1),te.m(V.parentNode,V)):te&&(pe(),be(te,1,1,(()=>{te=null})),me()),e[4]?ne?(ne.p(e,t),16&t&&ge(ne,1)):(ne=jr(e),ne.c(),ge(ne,1),ne.m(Z.parentNode,Z)):ne&&(pe(),be(ne,1,1,(()=>{ne=null})),me())},i(e){J||(ge(Q),ge(ee),ge(te),ge(ne),J=!0)},o(e){be(Q),be(ee),be(te),be(ne),J=!1},d(e){e&&S(t),e&&S(q),Q&&Q.d(e),e&&S(G),ee&&ee.d(e),e&&S(K),te&&te.d(e),e&&S(V),ne&&ne.d(e),e&&S(Z),Y=!1,o(X)}}}function Rr(e,t,n){let r,s=!1,o=!1,i={},a=!1,l=!1,c=nt.isLightTheme;const u=[ct.subscribe(((e,t,r)=>{const c="open"===t;switch(e){case"help":n(1,o=c),n(2,i=r);break;case"hasher":n(3,a=c);break;case"settings":n(0,s=c);break;case"tokens":n(4,l=c)}}))];K((()=>{u.forEach((e=>e()))}));return e.$$.update=()=>{256&e.$$.dirty&&n(5,r=c?"sunny":"moon")},[s,o,i,a,l,r,function(){nt.mainframeHacked||(nt.isLightTheme=!nt.isLightTheme,n(8,c=nt.isLightTheme))},function(){n(1,o=!1),n(2,i={})},c,()=>n(3,a=!a),()=>n(4,l=!l),()=>n(1,o=!o),()=>n(0,s=!s),()=>n(0,s=!1),()=>n(3,a=!1),()=>n(4,l=!1)]}class Br extends Re{constructor(e){super(),Ae(this,e,Rr,Ar,a,{})}}function Nr(t){let n,r;return{c(){n=C("div"),n.innerHTML='<img class="h-6" src="./assets/wompwomp.png" alt="Womp Womp"/>',A(n,"class","absolute flex items-center justify-center w-10 h-10 left-4 bottom-4")},m(e,t){_(e,n,t)},i(e){r||re((()=>{r=ve(n,ft,{}),r.start()}))},o:e,d(e){e&&S(n)}}}function Dr(t){let n,r,s,o,i,a,l,c=t[0]&&Nr();return{c(){n=C("footer"),r=C("div"),r.innerHTML='<div class="flex flex-col gap-4"><p>Created with <span class="text-pink-600">♥</span> by Frankk using Sims\n        4 Toolkit</p> \n      <p><a href="https://frankkmods.com" target="_blank" class="text-brand-frankk">Frankk&#39;s Mods</a>\n        |\n        <a href="https://sims4toolkit.com" target="_blank" class="text-accent-primary-light dark:text-accent-primary-dark">Sims 4 Toolkit</a>\n        |\n        <a href="https://twitter.com/frankkulakmods" target="_blank" class="text-brand-twitter">Twitter</a>\n        |\n        <a href="https://patreon.frankkmods.com" target="_blank" class="text-brand-patreon">Patreon</a>\n        |\n        <a href="https://ko-fi.com/frankkulak" target="_blank" class="text-brand-kofi">Ko-fi</a>\n        |\n        <a href="https://discord.gg/qNhD3Jh" target="_blank" class="text-brand-discord">Discord</a></p></div> \n    <div class="text-xs flex flex-col gap-4"><p class="text-subtle">The Sims™ and its plumbob icon are registered trademarks of Electronic\n        Arts, Inc. (EA). Sims 4 Toolkit is not affiliated with or endorsed by\n        EA.</p> \n      <p class="text-subtle">All icons on this website are supplied by\n        <a href="https://ionic.io/ionicons" target="_blank" class="text-secondary">Ionicons</a>\n        and\n        <a href="https://primer.github.io/octicons/" target="_blank" class="text-secondary">GitHub Octicons</a>.</p> \n      <p class="text-subtle">2022 © Frank Kulak</p></div>',s=T(),o=C("button"),i=T(),c&&c.c(),A(r,"class","w-full xl:max-w-screen-xl text-center flex flex-col gap-10"),A(o,"class","absolute flex items-center justify-center bg-gray-200 dark:bg-gray-900 hacker-bg-black w-10 h-10 left-4 bottom-4"),A(o,"tabindex","-1"),A(n,"class","relative w-full py-12 px-4 flex justify-center bg-gray-200 dark:bg-gray-900")},m(e,u){_(e,n,u),x(n,r),x(n,s),x(n,o),x(n,i),c&&c.m(n,null),a||(l=j(o,"click",t[1]),a=!0)},p(e,[t]){e[0]?c?1&t&&ge(c,1):(c=Nr(),c.c(),ge(c,1),c.m(n,null)):c&&(c.d(1),c=null)},i(e){ge(c)},o:e,d(e){e&&S(n),c&&c.d(),a=!1,l()}}}function Ir(e,t,n){let r=!1;return[r,function(e){e.target.remove(),n(0,r=!0),lt.set(!0)}]}class Or extends Re{constructor(e){super(),Ae(this,e,Ir,Dr,a,{})}}function Pr(t){let n;return{c(){n=C("div"),A(n,"class","fixed top-0 right-0 bottom-0 left-0 pointer-events-none opacity-20 z-50")},m(e,r){_(e,n,r),t[1](n)},p:e,i:e,o:e,d(e){e&&S(n),t[1](null)}}}function zr(e,t,n){let r,s,o=[];function i(e){let t,n;if(o.length>0){const e=o.shift();t=e.element,n=e.speed,t.style.left=Math.random()*window.innerWidth+"px",t.style.transition=`top ${n}ms`,t.style.transitionTimingFunction="linear",t.hidden=!1}else{t=document.createElement("p"),t.classList.add("fixed","monospace"),t.innerText=(e%2).toString(),t.style.left=Math.random()*window.innerWidth+"px";const r=Math.random();n=Math.round(800+2200*(1-r)),t.style.fontSize=2*Math.round(6+8*r)+"px",t.style.transition=`top ${n}ms`,t.style.transitionTimingFunction="linear",t.style.top=`-${t.style.fontSize}`,s.appendChild(t)}setTimeout((()=>{t.style.top=window.innerHeight+"px",setTimeout((()=>{t.hidden=!0,t.style.transition="none",t.style.top=`-${t.style.fontSize}`,o.push({element:t,speed:n})}),n+50)}),50)}return G((()=>{r=setInterval((()=>{for(let e=0;e<5;++e)i(e)}),500)})),K((()=>{clearInterval(r)})),[s,function(e){J[e?"unshift":"push"]((()=>{s=e,n(0,s)}))}]}class Mr extends Re{constructor(e){super(),Ae(this,e,zr,Pr,a,{})}}function Fr(t){let n,r,s;return{c(){n=C("div"),A(n,"class","fixed top-0 right-0 bottom-0 left-0 z-50 opacity-5 pointer-events-none svelte-d5e34o")},m(e,t){_(e,n,t),s=!0},p:e,i(e){s||(re((()=>{r||(r=xe(n,ft,{duration:350},!0)),r.run(1)})),s=!0)},o(e){r||(r=xe(n,ft,{duration:350},!1)),r.run(0),s=!1},d(e){e&&S(n),e&&r&&r.end()}}}class Hr extends Re{constructor(e){super(),Ae(this,e,null,Fr,a,{})}}function Ur(e){let t,n;return t=new Mr({}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function Wr(t){let n,r,s,o,i,a;return{c(){n=C("a"),r=C("img"),A(r,"class","h-48"),c(r.src,s="https://c.tenor.com/CHc0B6gKHqUAAAAi/deadserver.gif")||A(r,"src","https://c.tenor.com/CHc0B6gKHqUAAAAi/deadserver.gif"),A(r,"alt","Rick"),A(n,"class","fixed bottom-0 left-0 z-50"),A(n,"href",o=Ye.rickRoll),A(n,"target","_blank")},m(e,t){_(e,n,t),x(n,r),a=!0},p:e,i(e){a||(re((()=>{i||(i=xe(n,ht,{y:200,duration:3500},!0)),i.run(1)})),a=!0)},o(e){i||(i=xe(n,ht,{y:200,duration:3500},!1)),i.run(0),a=!1},d(e){e&&S(n),e&&i&&i.end()}}}function qr(e){let t,n;return t=new Hr({}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function Gr(e){let t,n,r,s,o=e[0]&&Ur(),i=e[1]&&Wr(),a=e[2]&&qr();return{c(){o&&o.c(),t=T(),i&&i.c(),n=T(),a&&a.c(),r=L()},m(e,l){o&&o.m(e,l),_(e,t,l),i&&i.m(e,l),_(e,n,l),a&&a.m(e,l),_(e,r,l),s=!0},p(e,[s]){e[0]?o?1&s&&ge(o,1):(o=Ur(),o.c(),ge(o,1),o.m(t.parentNode,t)):o&&(pe(),be(o,1,1,(()=>{o=null})),me()),e[1]?i?(i.p(e,s),2&s&&ge(i,1)):(i=Wr(),i.c(),ge(i,1),i.m(n.parentNode,n)):i&&(pe(),be(i,1,1,(()=>{i=null})),me()),e[2]?a?4&s&&ge(a,1):(a=qr(),a.c(),ge(a,1),a.m(r.parentNode,r)):a&&(pe(),be(a,1,1,(()=>{a=null})),me())},i(e){s||(ge(o),ge(i),ge(a),s=!0)},o(e){be(o),be(i),be(a),s=!1},d(e){o&&o.d(e),e&&S(t),i&&i.d(e),e&&S(n),a&&a.d(e),e&&S(r)}}}function Kr(e,t,n){let r=nt.mainframeHacked,s=nt.rickGif,o=!1;const i=[ot.subscribe((e=>{n(0,r=e)})),it.subscribe((e=>{n(1,s=e)})),at.subscribe((e=>{n(2,o=e)}))];return K((()=>{i.forEach((e=>e()))})),[r,s,o]}class Vr extends Re{constructor(e){super(),Ae(this,e,Kr,Gr,a,{})}}function Zr(t){let n,r,s,o,i;return{c(){n=C("div"),r=C("h3"),s=E(t[0]),o=T(),i=C("hr"),A(r,"class","mt-0 mb-2 whitespace-nowrap font-bold text-xl"),A(i,"class","bg-accent-primary-light dark:bg-accent-primary-dark m-0 border-none hacker-bg-gray svelte-1hlby7e"),A(n,"class","text-left inline-block")},m(e,t){_(e,n,t),x(n,r),x(r,s),x(n,o),x(n,i)},p(e,[t]){1&t&&B(s,e[0])},i:e,o:e,d(e){e&&S(n)}}}function Jr(e,t,n){let{title:r}=t;return e.$$set=e=>{"title"in e&&n(0,r=e.title)},[r]}class Yr extends Re{constructor(e){super(),Ae(this,e,Jr,Zr,a,{title:0})}}function Xr(t){let n,r,s,o,i,a,l,c,u,d;return i=new Yr({props:{title:"Unlock this page for $4.04"}}),{c(){n=T(),r=C("section"),s=C("div"),o=C("div"),Te(i.$$.fragment),a=T(),l=C("p"),l.innerHTML='Just kidding. This page doesn&#39;t exist. Please <a href="/" class="text-secondary">go home</a>.',c=T(),u=C("p"),u.textContent="Error 404",document.title="Page Not Found",A(o,"class","mb-4"),A(l,"class","mb-8"),A(u,"class","text-subtle text-xs"),A(s,"class","w-full xl:max-w-screen-xl px-4 flex flex-col justify-center"),A(r,"class","pt-10 flex-1 w-full flex justify-center")},m(e,t){_(e,n,t),_(e,r,t),x(r,s),x(s,o),Le(i,o,null),x(s,a),x(s,l),x(s,c),x(s,u),d=!0},p:e,i(e){d||(ge(i.$$.fragment,e),d=!0)},o(e){be(i.$$.fragment,e),d=!1},d(e){e&&S(n),e&&S(r),je(i)}}}class Qr extends Re{constructor(e){super(),Ae(this,e,null,Xr,a,{})}}const{models:es,encoding:ts,formatting:ns}=window.S4TK,{Buffer:rs}=window.S4TK.Node;class ss{constructor(e,t=new Set,n=[]){this._primaryLocale=e,this._allLocales=t,this._nextId=0,t.has(e)||t.add(e),this._entryMap=new Map,n.forEach((({key:e,values:t})=>{const n=this._nextId++;this._entryMap.set(n,{id:n,key:e,values:t})}))}get allLocales(){return this._allLocalesCache??(this._allLocalesCache=[...this._allLocales])}get keyMap(){const e=new Map;return this.entries.forEach((({id:t,key:n})=>{e.has(n)||e.set(n,t)})),e}get otherLocales(){const e=new Set(this._allLocales);return e.delete(this.primaryLocale),[...e]}get entries(){return this._entriesCache??(this._entriesCache=[...this._entryMap.values()])}get numEntries(){return this._entryMap.size}get numLocales(){return this._allLocales.size}get primaryLocale(){return this._primaryLocale}set primaryLocale(e){this._primaryLocale!==e&&this._switchPrimaryLocale(e)}static deserialize(e){const t=rs.from(e,"base64"),n=new ts.BinaryDecoder(t);n.skip(1);const r=n.uint8(),s=n.uint8(),o=n.uint32(),i=new Set,a=[];for(let e=0;e<s;++e){const e=n.uint8(),t=n.boolean();i.add(e),t&&a.push(e)}const l=[];for(let e=0;e<o;++e)l.push({key:n.uint32(),values:new Map});return a.forEach((e=>{for(let t=0;t<o;++t){const r=n.string();r&&l[t].values.set(e,r)}})),new ss(r,i,l)}addEntry(e,t){const n=this._nextId++,r=new Map;r.set(this.primaryLocale,t);const s={id:n,key:e,values:r};return this._entryMap.set(n,s),this._clearEntriesCache(),s}deleteEntry(e){this._entryMap.delete(e),this._clearEntriesCache()}hasLocale(e){return this._allLocales.has(e)}getEntry(e){return this._entryMap.get(e)}getIssues(){const e=[],t=new Map,n=new Map;this._entryMap.forEach(((e,r)=>{t.has(e.key)?t.get(e.key).push(r):t.set(e.key,[r]);const s=this.getValue(r)??"";n.has(s)?n.get(s).push(r):n.set(s,[r])}));const r=e=>{const t=e.map((e=>this.getEntry(e).key));return[...new Set(t)]};return t.forEach(((t,n)=>{0===n?e.push({idList:t,keyList:r(t),message:"Key is 0x00000000"}):2166136261===n&&e.push({idList:t,keyList:r(t),message:"Key is 0x811C9DC5 (the hash of an empty string)"}),t.length>1&&e.push({idList:t,keyList:r(t),message:`Repeated key: ${ns.formatStringKey(n)}`})})),n.forEach(((t,n)=>{if(n||e.push({idList:t,keyList:r(t),message:"Empty string value"}),t.length>1){const s=n.length>20?n.substring(0,20)+"...":n;e.push({idList:t,keyList:r(t),message:`Repeated string: "${s}"`})}})),e}getJson(e=this.primaryLocale,t=!1){return this.entries.map((n=>({key:t?ns.formatStringKey(n.key):n.key,value:this.getValueWithFallback(n.id,e)})))}getStringTable(e=this.primaryLocale){return new es.StringTableResource(this.getJson(e))}getValue(e,t=this.primaryLocale){return this._entryMap.get(e)?.values.get(t)}getValueWithFallback(e,t){return this.getValue(e,t)??this.getValue(e,this.primaryLocale)??""}hasEntry(e){return this._entryMap.has(e)}importEntries(e,t){if(e.allLocales.forEach((e=>{this.hasLocale(e)||this._allLocales.add(e)})),this._clearLocalesCache(),t){const t=this.keyMap;e.entries.forEach((({key:e,values:n})=>{if(t.has(e)){const r=this.getEntry(t.get(e));n.forEach(((e,t)=>{r.values.set(t,e)}))}else{const t=this._nextId++;this._entryMap.set(t,{id:t,key:e,values:new Map(n)})}}))}else e.entries.forEach((({key:e,values:t})=>{const n=this._nextId++;this._entryMap.set(n,{id:n,key:e,values:new Map(t)})}));this._clearEntriesCache()}replaceEntries(e){const t=new Map;e.forEach((({key:e,value:n})=>t.set(e,n))),this.entries.forEach((e=>{t.has(e.key)?(this.setValue(e.id,t.get(e.key)),t.delete(e.key)):this.deleteEntry(e.id)})),t.forEach(((e,t)=>this.addEntry(t,e))),this._clearEntriesCache()}replaceLocales(e){const t=new Set(e);t.add(this.primaryLocale),this.allLocales.forEach((e=>{t.has(e)?t.delete(e):(this._allLocales.delete(e),this.entries.forEach((t=>{t.values.delete(e)})))})),t.forEach((e=>{this._allLocales.add(e)})),this._clearLocalesCache()}async saveToStorage(e){hn.setItem("stbls",e,this.serialize())}setKey(e,t){this.getEntry(e).key=t}setValue(e,t,n=this.primaryLocale){if(!this._allLocales.has(n))throw new Error("Cannot set value of locale that isn't in this STBL.");const r=this.getEntry(e).values;n===this.primaryLocale?r.set(n,t):this.getValue(e)===t?r.delete(n):r.set(n,t)}serialize(){const e=[],t=(()=>{const t=7+2*this.numLocales+4*this.numEntries,n=rs.alloc(t),r=new ts.BinaryEncoder(n);return r.uint8(ss.VERSION),r.uint8(this.primaryLocale),r.uint8(this.numLocales),r.uint32(this.numEntries),this.allLocales.forEach((t=>{r.uint8(t);const n=this.entries.some((e=>e.values.has(t)));n&&e.push(t),r.boolean(n)})),this.entries.forEach((e=>r.uint32(e.key))),n})(),n=rs.concat(e.map((e=>rs.concat(this.entries.map((t=>{const n=t.values.get(e)??"",r=rs.alloc(rs.byteLength(n)+1);return new ts.BinaryEncoder(r).charsUtf8(n),r}))))));return rs.concat([t,n]).toString("base64")}_clearEntriesCache(){delete this._entriesCache}_clearLocalesCache(){delete this._allLocalesCache}_switchPrimaryLocale(e){this._allLocales.has(e)||(this._allLocales.add(e),this._clearLocalesCache()),this.entries.forEach((t=>{t.values.has(e)||t.values.set(e,"")})),this._primaryLocale=e}}var os;ss.VERSION=0;var is=new Uint8Array(16);function as(){if(!os&&!(os="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return os(is)}var ls=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function cs(e){return"string"==typeof e&&ls.test(e)}for(var us=[],ds=0;ds<256;++ds)us.push((ds+256).toString(16).substr(1));function fs(e,t,n){var r=(e=e||{}).random||(e.rng||as)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var s=0;s<16;++s)t[n+s]=r[s];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(us[e[t+0]]+us[e[t+1]]+us[e[t+2]]+us[e[t+3]]+"-"+us[e[t+4]]+us[e[t+5]]+"-"+us[e[t+6]]+us[e[t+7]]+"-"+us[e[t+8]]+us[e[t+9]]+"-"+us[e[t+10]]+us[e[t+11]]+us[e[t+12]]+us[e[t+13]]+us[e[t+14]]+us[e[t+15]]).toLowerCase();if(!cs(n))throw TypeError("Stringified UUID is invalid");return n}(r)}function hs(){return`${Math.floor(new Date)}-${fs()}`}const{encoding:ps,enums:ms,hashing:gs}=window.S4TK,{Buffer:bs}=window.S4TK.Node;var ys,vs;!function(e){e[e.Pinned=1]="Pinned",e[e.Corrupt=2]="Corrupt"}(ys||(ys={}));class $s{constructor(e,t,n){this.uuid=e,this._metaData=t,this._stbl=n}get metaData(){return this._metaData}get stbl(){if(this._stbl)return this._stbl;throw new Error("Project STBL was accessed before being loaded.")}get hasStbl(){return null!=this._stbl}static deserialize(e,t){return new $s(e,$s.deserializeMetaData(t))}static deserializeMetaData(e){const t={},n=new ps.BinaryDecoder(bs.from(e,"base64")),r=n.uint8();t.flags=r>0?n.uint32():0,t.group=n.uint32();const s=n.uint64();return t.primaryLocale=ms.StringTableLocale.getLocale(s),t.instance=ms.StringTableLocale.getInstanceBase(s),0===r&&n.boolean()&&(t.flags|=ys.Pinned),t.numLocales=n.uint8(),t.numEntries=n.uint32(),t.name=n.string(),t}static async fromStorage(e){return new Promise(((t,n)=>{hn.getItem("metadata",e).then((n=>{t($s.deserialize(e,n))})).catch((e=>{n(e)}))}))}addString(e){const t=e.replace(/(?:\r\n|\r|\n)/g,"\\n"),n=gs.fnv32(`${this.uuid}:${hs()}`);this.stbl.addEntry(n,t),this.metaData.numEntries=this.stbl.numEntries,this.saveToStorage(),this.stbl.saveToStorage(this.uuid)}deleteStrings(e){e.forEach((e=>this.stbl.deleteEntry(e))),this.metaData.numEntries=this.stbl.numEntries,this.saveToStorage(),this.stbl.saveToStorage(this.uuid)}hasFlags(e){return Boolean(this.metaData.flags&e)}importEntries(e,t){this.stbl.importEntries(e,t),this.metaData.numEntries=this.stbl.numEntries,this.metaData.numLocales=this.stbl.numLocales,this.saveToStorage(),this.stbl.saveToStorage(this.uuid)}setFlags(e,t){t?this.metaData.flags|=e:this.metaData.flags^=e,this.saveToStorage(!1)}setValue(e,t,n=this.stbl.primaryLocale){const r=t.replace(/(?:\r\n|\r|\n)/g,"\\n");this.stbl.setValue(e,r,n),this.stbl.saveToStorage(this.uuid)}replaceEntries(e){this.stbl.replaceEntries(e),this.metaData.numEntries=this.stbl.numEntries,this.saveToStorage(),this.stbl.saveToStorage(this.uuid)}updateKeys(e){e.forEach((({id:e,newKey:t})=>{this.stbl.getEntry(e).key=t})),this.stbl.saveToStorage(this.uuid)}async loadStringTable(){return new Promise(((e,t)=>{if(this._stbl)return e();hn.getItem("stbls",this.uuid).then((n=>{if(!n)return t("Could not deserialize STBL.");try{this._stbl=ss.deserialize(n),this.hasFlags(ys.Corrupt)&&this.setFlags(ys.Corrupt,!1)}catch(e){throw this.setFlags(ys.Corrupt,!0),e}e()})).catch((e=>{t(e)}))}))}async saveToStorage(e=!0){e&&(this.metaData.numLocales=this.stbl.numLocales,this.metaData.numEntries=this.stbl.numEntries),hn.setItem("metadata",this.uuid,this.serializeMetaData())}serializeMetaData(){const e=23+bs.byteLength(this.metaData.name),t=bs.alloc(e),n=new ps.BinaryEncoder(t),r=ms.StringTableLocale.setHighByte(this.metaData.primaryLocale,this.metaData.instance);return n.uint8($s.META_DATA_VERSION),n.uint32(this.metaData.flags??0),n.uint32(this.metaData.group),n.uint64(r),n.uint8(this.metaData.numLocales),n.uint32(this.metaData.numEntries),n.charsUtf8(this.metaData.name),t.toString("base64")}}$s.META_DATA_VERSION=1;class xs{constructor(e=[]){this.projects=e}static async restoreFromJson(e){return new Promise(((t,n)=>{try{for(const t in e.settings)nt[t]=e.settings[t];const n=e.projects.map((({uuid:e,metaData:t,stbl:n})=>(hn.setItem("metadata",e,t),hn.setItem("stbls",e,n),new $s(e,$s.deserializeMetaData(t),void 0))));t(new xs(n))}catch(e){n(e)}}))}static async fromStorage(){return new Promise((async(e,t)=>{try{const t=await hn.getAllKeys("metadata"),n=await hn.getAll("metadata"),r=t.map(((e,t)=>$s.deserialize(e,n[t])));e(new xs(r))}catch(e){t(e)}}))}addProject(e){this.projects.push(e),e.saveToStorage(),e.stbl.saveToStorage(e.uuid),this._updateSubscribers()}deleteProjects(e){const t=new Set(e.map((e=>e.uuid)));this.projects=this.projects.filter((e=>!t.has(e.uuid))),t.forEach((e=>{hn.removeItem("metadata",e),hn.removeItem("stbls",e)})),this._updateSubscribers()}toggleProjectPins(e){const t=e.some((e=>!e.hasFlags(ys.Pinned)));e.forEach((e=>{e.setFlags(ys.Pinned,t),e.saveToStorage(!1)})),this._updateSubscribers()}async toJson(){return new Promise((async e=>{const t=[];for(let e=0;e<this.projects.length;++e){const n=this.projects[e];try{await n.loadStringTable(),t.push({uuid:n.uuid,metaData:n.serializeMetaData(),stbl:n.stbl.serialize()})}catch(e){console.error(e);const r=await hn.getItem("metadata",n.uuid),s=await hn.getItem("stbls",n.uuid);t.push({uuid:n.uuid,metaData:r,stbl:s})}}const n={};for(const e in nt)n[e]=nt[e];e({version:xs.VERSION,settings:n,projects:t})}))}_updateSubscribers(){pt.set(this)}}xs.VERSION=0;class ws{constructor(e,t,n){this.selectables=e,this.key=t,this._refreshCallback=n,this._selectMode=!1,this._selections=new Set}get selectMode(){return this._selectMode}get allSelectedKeys(){return Array.from(this._selections)}get allSelectedItems(){return this.selectables.filter((e=>this._selections.has(e[this.key])))}get noneSelected(){return this._selectMode&&0===this._selections.size}get numSelected(){return this._selections.size}deselectAll(){this._selections.clear(),this._refreshCallback()}isSelected(e){return this._selections.has(e[this.key])}selectAll(){this.selectables.forEach((e=>this._selections.add(e[this.key]))),this._refreshCallback()}toggleSelectMode(e){this._selectMode=e??!this._selectMode,this._selectMode?this._refreshCallback():this.deselectAll()}toggleValue(e){const t=e[this.key],n=this._selections.has(t)?"delete":"add";this._selections[n](t),this._refreshCallback()}}function ks(t){let n,r,s,i,a,l;return{c(){n=C("button"),r=C("img"),A(r,"class","svg h-6 svelte-e92b2b"),c(r.src,s="./assets/"+t[0].icon+".svg")||A(r,"src",s),A(r,"alt",i=t[0].title),A(n,"class","floating-action-button flex justify-center items-center drop-shadow svelte-e92b2b"),I(n,"disabled",t[0].disabled)},m(e,s){_(e,n,s),x(n,r),t[6](n),a||(l=[j(n,"mouseenter",t[2]),j(n,"focus",t[2]),j(n,"mouseleave",t[3]),j(n,"blur",t[3]),j(n,"click",t[4])],a=!0)},p(e,[t]){1&t&&!c(r.src,s="./assets/"+e[0].icon+".svg")&&A(r,"src",s),1&t&&i!==(i=e[0].title)&&A(r,"alt",i),1&t&&I(n,"disabled",e[0].disabled)},i:e,o:e,d(e){e&&S(n),t[6](null),a=!1,o(l)}}}function _s(e,t,n){let r,{data:s}=t,{toggleTitle:o}=t,i=null,a=null;function l(){s.disabled||(r.blur(),s.onClick())}return K((()=>{a?.()})),e.$$set=e=>{"data"in e&&n(0,s=e.data),"toggleTitle"in e&&n(5,o=e.toggleTitle)},e.$$.update=()=>{1&e.$$.dirty&&(s.keybinding,i!==s.keybinding&&(a?.(),a=s.keybinding?en(s.keybinding,l,{ctrlOrMeta:!0,preventDefault:!0}):null,i=s.keybinding))},[s,r,function(e){if(s.disabled)o(s.title,"");else{const e=vs[s.color];n(1,r.style.backgroundColor=e,r),n(1,r.style.borderColor=e,r),o(s.title,s.color)}},function(e){n(1,r.style.backgroundColor="var(--color-bg)",r),n(1,r.style.borderColor="var(--color-text)",r),o()},l,o,function(e){J[e?"unshift":"push"]((()=>{r=e,n(1,r)}))}]}!function(e){e.Green="var(--toolbar-green)",e.Cyan="var(--toolbar-cyan)",e.Azure="var(--toolbar-azure)",e.Red="var(--toolbar-red)",e.Pink="var(--toolbar-pink)",e.Purple="var(--toolbar-purple)",e.Orange="var(--toolbar-orange)"}(vs||(vs={}));class Ss extends Re{constructor(e){super(),Ae(this,e,_s,ks,a,{data:0,toggleTitle:5})}}function Cs(e){let t,n,r,s;return{c(){t=C("div"),n=E(e[0]),A(t,"class","mb-2 text-center text-sm uppercase py-1 drop-shadow svelte-orpfns"),I(t,"disabled",e[2])},m(r,o){_(r,t,o),x(t,n),e[5](t),s=!0},p(r,[o]){e=r,(!s||1&o)&&B(n,e[0]),4&o&&I(t,"disabled",e[2])},i(e){s||(re((()=>{r||(r=xe(t,ht,{y:12,duration:nt.reduceMotion?0:350},!0)),r.run(1)})),s=!0)},o(e){r||(r=xe(t,ht,{y:12,duration:nt.reduceMotion?0:350},!1)),r.run(0),s=!1},d(n){n&&S(t),e[5](null),n&&r&&r.end()}}}function Es(e,t,n){let r,s,{text:o}=t,{color:i}=t,{disabled:a=!1}=t;return e.$$set=e=>{"text"in e&&n(0,o=e.text),"color"in e&&n(3,i=e.color),"disabled"in e&&n(4,a=e.disabled)},e.$$.update=()=>{24&e.$$.dirty&&n(2,r=a||!i),14&e.$$.dirty&&s&&(r?s.removeAttribute("style"):n(1,s.style.backgroundColor=vs[i],s))},[o,s,r,i,a,function(e){J[e?"unshift":"push"]((()=>{s=e,n(1,s),n(2,r),n(3,i),n(4,a)}))}]}class Ts extends Re{constructor(e){super(),Ae(this,e,Es,Cs,a,{text:0,color:3,disabled:4})}}function Ls(e,t,n){const r=e.slice();return r[7]=t[n],r[8]=t,r[9]=n,r}function js(e){let t,n;return t=new Ts({props:{text:e[2],color:e[3],disabled:e[1]}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.text=e[2]),8&n&&(r.color=e[3]),2&n&&(r.disabled=e[1]),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function As(e,t){let n,r,s,o;function i(e){t[6](e,t[7],t[8],t[9])}let a={toggleTitle:t[5]};return void 0!==t[7]&&(a.data=t[7]),r=new Ss({props:a}),J.push((()=>Ee(r,"data",i))),{key:e,first:null,c(){n=L(),Te(r.$$.fragment),this.first=n},m(e,t){_(e,n,t),Le(r,e,t),o=!0},p(e,n){t=e;const o={};!s&&1&n&&(s=!0,o.data=t[7],se((()=>s=!1))),r.$set(o)},i(e){o||(ge(r.$$.fragment,e),o=!0)},o(e){be(r.$$.fragment,e),o=!1},d(e){e&&S(n),je(r,e)}}}function Rs(e){let t,n,r,s,o=[],i=new Map,a=e[4]&&js(e),l=e[0];const c=e=>e[9];for(let t=0;t<l.length;t+=1){let n=Ls(e,l,t),r=c(n);i.set(r,o[t]=As(r,n))}return{c(){t=C("div"),a&&a.c(),n=T(),r=C("div");for(let e=0;e<o.length;e+=1)o[e].c();A(r,"class","flex"),A(t,"class","z-10 fixed right-6 bottom-6")},m(e,i){_(e,t,i),a&&a.m(t,null),x(t,n),x(t,r);for(let e=0;e<o.length;e+=1)o[e].m(r,null);s=!0},p(e,[s]){e[4]?a?(a.p(e,s),16&s&&ge(a,1)):(a=js(e),a.c(),ge(a,1),a.m(t,n)):a&&(pe(),be(a,1,1,(()=>{a=null})),me()),33&s&&(l=e[0],pe(),o=_e(o,s,c,1,e,l,i,r,ke,As,null,Ls),me())},i(e){if(!s){ge(a);for(let e=0;e<l.length;e+=1)ge(o[e]);s=!0}},o(e){be(a);for(let e=0;e<o.length;e+=1)be(o[e]);s=!1},d(e){e&&S(t),a&&a.d();for(let e=0;e<o.length;e+=1)o[e].d()}}}function Bs(e,t,n){let r,s,o,{disabled:i=!1}=t,{buttonData:a}=t;return e.$$set=e=>{"disabled"in e&&n(1,i=e.disabled),"buttonData"in e&&n(0,a=e.buttonData)},e.$$.update=()=>{4&e.$$.dirty&&n(4,r=Boolean(s))},[a,i,s,o,r,function(e,t){n(2,s=e),n(3,o=t)},function(e,t,r,s){r[s]=e,n(0,a)}]}class Ns extends Re{constructor(e){super(),Ae(this,e,Bs,Rs,a,{disabled:1,buttonData:0})}}function Ds(e,t,n){const r=e.slice();return r[11]=t[n],r[13]=n,r}function Is(e,t){let n,r,s,o,i,a=t[11].metaData.name+"",l=Ms(t[11])+"";return{key:e,first:null,c(){n=C("li"),r=E(a),s=E(" ("),o=E(l),i=E(")\n              "),A(n,"class","pl-2"),this.first=n},m(e,t){_(e,n,t),x(n,r),x(n,s),x(n,o),x(n,i)},p(e,n){t=e,1&n&&a!==(a=t[11].metaData.name+"")&&B(r,a),1&n&&l!==(l=Ms(t[11])+"")&&B(o,l)},d(e){e&&S(n)}}}function Os(e){let t,n,r,s,o,i,a,l,c,u,d,f,h,p=[],m=new Map,g=e[0];const b=e=>e[13];for(let t=0;t<g.length;t+=1){let n=Ds(e,g,t),r=b(n);m.set(r,p[t]=Is(r,n))}function y(t){e[5](t)}function v(t){e[6](t)}let $={label:'type "delete" to confirm',name:"deletion-confirmation-input",placeholder:"Delete",focusOnMount:!0,fillWidth:!0,validators:[{test:Fs,message:'Value must be "Delete"'}]};return void 0!==e[1]&&($.value=e[1]),void 0!==e[2].nextButtonEnabled&&($.isValid=e[2].nextButtonEnabled),l=new vn({props:$}),J.push((()=>Ee(l,"value",y))),J.push((()=>Ee(l,"isValid",v))),{c(){t=C("div"),n=C("p"),n.textContent="Are you sure you want to permanently delete the following projects?",r=T(),s=C("div"),o=C("ul");for(let e=0;e<p.length;e+=1)p[e].c();i=T(),a=C("div"),Te(l.$$.fragment),d=T(),f=C("p"),f.textContent="Deleted projects cannot be recovered. Once they're gone, they're gone.",A(n,"class","mb-4"),A(o,"class","list-disc pl-8 flex flex-col"),A(s,"class","max-h-24 overflow-x-hidden overflow-y-auto"),A(a,"class","my-6"),A(f,"class","text-subtle text-xs")},m(e,c){_(e,t,c),x(t,n),x(t,r),x(t,s),x(s,o);for(let e=0;e<p.length;e+=1)p[e].m(o,null);x(t,i),x(t,a),Le(l,a,null),x(t,d),x(t,f),h=!0},p(e,t){1&t&&(g=e[0],p=_e(p,t,b,1,e,g,m,o,we,Is,null,Ds));const n={};!c&&2&t&&(c=!0,n.value=e[1],se((()=>c=!1))),!u&&4&t&&(u=!0,n.isValid=e[2].nextButtonEnabled,se((()=>u=!1))),l.$set(n)},i(e){h||(ge(l.$$.fragment,e),h=!0)},o(e){be(l.$$.fragment,e),h=!1},d(e){e&&S(t);for(let e=0;e<p.length;e+=1)p[e].d();je(l)}}}function Ps(e){let t,n,r,s;function o(t){e[7](t)}let i={pageNumber:1,$$slots:{default:[Os]},$$scope:{ctx:e}};return void 0!==e[2]&&(i.state=e[2]),n=new Pn({props:i}),J.push((()=>Ee(n,"state",o))),{c(){t=C("div"),Te(n.$$.fragment),A(t,"slot","content"),A(t,"class","w-full")},m(e,r){_(e,t,r),Le(n,t,null),s=!0},p(e,t){const s={};16391&t&&(s.$$scope={dirty:t,ctx:e}),!r&&4&t&&(r=!0,s.state=e[2],se((()=>r=!1))),n.$set(s)},i(e){s||(ge(n.$$.fragment,e),s=!0)},o(e){be(n.$$.fragment,e),s=!1},d(e){e&&S(t),je(n)}}}function zs(e){let t,n,r;function s(t){e[8](t)}let o={title:"Delete Projects",numPages:1,centerVertically:!0,completeButton:"Delete",onLastPageComplete:e[3],$$slots:{content:[Ps]},$$scope:{ctx:e}};return void 0!==e[2]&&(o.state=e[2]),t=new Nn({props:o}),J.push((()=>Ee(t,"state",s))),{c(){Te(t.$$.fragment)},m(e,n){Le(t,e,n),r=!0},p(e,[r]){const s={};16391&r&&(s.$$scope={dirty:r,ctx:e}),!n&&4&r&&(n=!0,s.state=e[2],se((()=>n=!1))),t.$set(s)},i(e){r||(ge(t.$$.fragment,e),r=!0)},o(e){be(t.$$.fragment,e),r=!1},d(e){je(t,e)}}}function Ms(e){return 1===e.metaData.numEntries?"1 string":`${e.metaData.numEntries} strings`}const Fs=e=>"delete"===e.toLowerCase().trim();function Hs(e,t,n){let r,{onComplete:s}=t,{projects:o}=t,i="",a={currentPage:1,nextButtonEnabled:!1};const l=[pt.subscribe((e=>{e&&(r=e)}))];return K((()=>{l.forEach((e=>e()))})),e.$$set=e=>{"onComplete"in e&&n(4,s=e.onComplete),"projects"in e&&n(0,o=e.projects)},[o,i,a,function(){r.deleteProjects(o),s()},s,function(e){i=e,n(1,i)},function(t){e.$$.not_equal(a.nextButtonEnabled,t)&&(a.nextButtonEnabled=t,n(2,a))},function(e){a=e,n(2,a)},function(e){a=e,n(2,a)}]}class Us extends Re{constructor(e){super(),Ae(this,e,Hs,zs,a,{onComplete:4,projects:0})}}var Ws="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function qs(e){var t={exports:{}};return e(t,t.exports),t.exports}function Gs(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets option of @rollup/plugin-commonjs appropriately for this require call to behave properly.')}var Ks=qs((function(e,t){!function(){function t(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function n(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){a(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function s(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof Ws&&Ws.global===Ws?Ws:void 0,i=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(e,t,i){var a=o.URL||o.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?s(l):r(l.href)?n(e,t,i):s(l,l.target="_blank")):(l.href=a.createObjectURL(e),setTimeout((function(){a.revokeObjectURL(l.href)}),4e4),setTimeout((function(){s(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,o,i){if(o=o||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,i),o);else if(r(e))n(e,o,i);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout((function(){s(a)}))}}:function(e,t,r,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),"string"==typeof e)return n(e,t,r);var a="application/octet-stream"===e.type,l=/constructor/i.test(o.HTMLElement)||o.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&l||i)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=e:location=e,s=null},u.readAsDataURL(e)}else{var d=o.URL||o.webkitURL,f=d.createObjectURL(e);s?s.location=f:location.href=f,s=null,setTimeout((function(){d.revokeObjectURL(f)}),4e4)}});o.saveAs=a.saveAs=a,e.exports=a}()})),Vs=qs((function(e,t){e.exports=function e(t,n,r){function s(i,a){if(!n[i]){if(!t[i]){if(!a&&Gs)return Gs(i);if(o)return o(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[i]={exports:{}};t[i][0].call(c.exports,(function(e){return s(t[i][1][e]||e)}),c,c.exports,e,t,n,r)}return n[i].exports}for(var o=Gs,i=0;i<r.length;i++)s(r[i]);return s}({1:[function(e,t,n){var r=e("./utils"),s=e("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,s,i,a,l,c,u=[],d=0,f=e.length,h=f,p="string"!==r.getTypeOf(e);d<e.length;)h=f-d,s=p?(t=e[d++],n=d<f?e[d++]:0,d<f?e[d++]:0):(t=e.charCodeAt(d++),n=d<f?e.charCodeAt(d++):0,d<f?e.charCodeAt(d++):0),i=t>>2,a=(3&t)<<4|n>>4,l=1<h?(15&n)<<2|s>>6:64,c=2<h?63&s:64,u.push(o.charAt(i)+o.charAt(a)+o.charAt(l)+o.charAt(c));return u.join("")},n.decode=function(e){var t,n,r,i,a,l,c=0,u=0,d="data:";if(e.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var f,h=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===o.charAt(64)&&h--,e.charAt(e.length-2)===o.charAt(64)&&h--,h%1!=0)throw new Error("Invalid base64 input, bad content length.");for(f=s.uint8array?new Uint8Array(0|h):new Array(0|h);c<e.length;)t=o.indexOf(e.charAt(c++))<<2|(i=o.indexOf(e.charAt(c++)))>>4,n=(15&i)<<4|(a=o.indexOf(e.charAt(c++)))>>2,r=(3&a)<<6|(l=o.indexOf(e.charAt(c++))),f[u++]=t,64!==a&&(f[u++]=n),64!==l&&(f[u++]=r);return f}},{"./support":30,"./utils":32}],2:[function(e,t,n){var r=e("./external"),s=e("./stream/DataWorker"),o=e("./stream/Crc32Probe"),i=e("./stream/DataLengthProbe");function a(e,t,n,r,s){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=s}a.prototype={getContentWorker:function(){var e=new s(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new i("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new s(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},a.createWorkerFrom=function(e,t,n){return e.pipe(new o).pipe(new i("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new i("compressedSize")).withStreamInfo("compression",t)},t.exports=a},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){var r=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(e){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){var r=e("./utils"),s=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==r.getTypeOf(e)?function(e,t,n,r){var o=s,i=r+n;e^=-1;for(var a=r;a<i;a++)e=e>>>8^o[255&(e^t[a])];return-1^e}(0|t,e,e.length,0):function(e,t,n,r){var o=s,i=r+n;e^=-1;for(var a=r;a<i;a++)e=e>>>8^o[255&(e^t.charCodeAt(a))];return-1^e}(0|t,e,e.length,0):0}},{"./utils":32}],5:[function(e,t,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){var r=null;r="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:r}},{lie:37}],7:[function(e,t,n){var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,s=e("pako"),o=e("./utils"),i=e("./stream/GenericWorker"),a=r?"uint8array":"array";function l(e,t){i.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",o.inherits(l,i),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(a,e.data),!1)},l.prototype.flush=function(){i.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new l("Deflate",e)},n.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){function r(e,t){var n,r="";for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r}function s(e,t,n,s,i,u){var d,f,h=e.file,p=e.compression,m=u!==a.utf8encode,g=o.transformTo("string",u(h.name)),b=o.transformTo("string",a.utf8encode(h.name)),y=h.comment,v=o.transformTo("string",u(y)),$=o.transformTo("string",a.utf8encode(y)),x=b.length!==h.name.length,w=$.length!==y.length,k="",_="",S="",C=h.dir,E=h.date,T={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(T.crc32=e.crc32,T.compressedSize=e.compressedSize,T.uncompressedSize=e.uncompressedSize);var L=0;t&&(L|=8),m||!x&&!w||(L|=2048);var j=0,A=0;C&&(j|=16),"UNIX"===i?(A=798,j|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(h.unixPermissions,C)):(A=20,j|=function(e){return 63&(e||0)}(h.dosPermissions)),d=E.getUTCHours(),d<<=6,d|=E.getUTCMinutes(),d<<=5,d|=E.getUTCSeconds()/2,f=E.getUTCFullYear()-1980,f<<=4,f|=E.getUTCMonth()+1,f<<=5,f|=E.getUTCDate(),x&&(_=r(1,1)+r(l(g),4)+b,k+="up"+r(_.length,2)+_),w&&(S=r(1,1)+r(l(v),4)+$,k+="uc"+r(S.length,2)+S);var R="";return R+="\n\0",R+=r(L,2),R+=p.magic,R+=r(d,2),R+=r(f,2),R+=r(T.crc32,4),R+=r(T.compressedSize,4),R+=r(T.uncompressedSize,4),R+=r(g.length,2),R+=r(k.length,2),{fileRecord:c.LOCAL_FILE_HEADER+R+g+k,dirRecord:c.CENTRAL_FILE_HEADER+r(A,2)+R+r(v.length,2)+"\0\0\0\0"+r(j,4)+r(s,4)+g+k+v}}var o=e("../utils"),i=e("../stream/GenericWorker"),a=e("../utf8"),l=e("../crc32"),c=e("../signature");function u(e,t,n,r){i.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(u,i),u.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,i.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},u.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=s(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=s(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:function(e){return c.DATA_DESCRIPTOR+r(e.crc32,4)+r(e.compressedSize,4)+r(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,s=function(e,t,n,s,i){var a=o.transformTo("string",i(s));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(e,2)+r(e,2)+r(t,4)+r(n,4)+r(a.length,2)+a}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:s,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},u.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(e){var t=this._sources;if(!i.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},u.prototype.lock=function(){i.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=u},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){var r=e("../compressions"),s=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var o=new s(t.streamFiles,n,t.platform,t.encodeFileName),i=0;try{e.forEach((function(e,n){i++;var s=function(e,t){var n=e||t,s=r[n];if(!s)throw new Error(n+" is not a valid compression method !");return s}(n.options.compression,t.compression),a=n.options.compressionOptions||t.compressionOptions||{},l=n.dir,c=n.date;n._compressWorker(s,a).withStreamInfo("file",{name:e,dir:l,date:c,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(o)})),o.entriesCount=i}catch(e){o.error(e)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new r;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(r.prototype=e("./object")).loadAsync=e("./load"),r.support=e("./support"),r.defaults=e("./defaults"),r.version="3.10.0",r.loadAsync=function(e,t){return(new r).loadAsync(e,t)},r.external=e("./external"),t.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){var r=e("./utils"),s=e("./external"),o=e("./utf8"),i=e("./zipEntries"),a=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function c(e){return new s.Promise((function(t,n){var r=e.decompressed.getContentWorker().pipe(new a);r.on("error",(function(e){n(e)})).on("end",(function(){r.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var n=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),l.isNode&&l.isStream(e)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new i(t);return n.load(e),n})).then((function(e){var n=[s.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var o=0;o<r.length;o++)n.push(c(r[o]));return s.Promise.all(n)})).then((function(e){for(var s=e.shift(),o=s.files,i=0;i<o.length;i++){var a=o[i],l=a.fileNameStr,c=r.resolve(a.fileNameStr);n.file(c,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:t.createFolders}),a.dir||(n.file(c).unsafeOriginalName=l)}return s.zipComment.length&&(n.comment=s.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){var r=e("../utils"),s=e("../stream/GenericWorker");function o(e,t){s.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(o,s),o.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},o.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){var r=e("readable-stream").Readable;function s(e,t,n){r.call(this,t),this._helper=e;var s=this;e.on("data",(function(e,t){s.push(e)||s._helper.pause(),n&&n(t)})).on("error",(function(e){s.emit("error",e)})).on("end",(function(){s.push(null)}))}e("../utils").inherits(s,r),s.prototype._read=function(){this._helper.resume()},t.exports=s},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){function r(e,t,n){var r,s=o.getTypeOf(t),a=o.extend(n||{},l);a.date=a.date||new Date,null!==a.compression&&(a.compression=a.compression.toUpperCase()),"string"==typeof a.unixPermissions&&(a.unixPermissions=parseInt(a.unixPermissions,8)),a.unixPermissions&&16384&a.unixPermissions&&(a.dir=!0),a.dosPermissions&&16&a.dosPermissions&&(a.dir=!0),a.dir&&(e=m(e)),a.createFolders&&(r=p(e))&&g.call(this,r,!0);var d="string"===s&&!1===a.binary&&!1===a.base64;n&&void 0!==n.binary||(a.binary=!d),(t instanceof c&&0===t.uncompressedSize||a.dir||!t||0===t.length)&&(a.base64=!1,a.binary=!0,t="",a.compression="STORE",s="string");var b=null;b=t instanceof c||t instanceof i?t:f.isNode&&f.isStream(t)?new h(e,t):o.prepareContent(e,t,a.binary,a.optimizedBinaryString,a.base64);var y=new u(e,b,a);this.files[e]=y}var s=e("./utf8"),o=e("./utils"),i=e("./stream/GenericWorker"),a=e("./stream/StreamHelper"),l=e("./defaults"),c=e("./compressedObject"),u=e("./zipObject"),d=e("./generate"),f=e("./nodejsUtils"),h=e("./nodejs/NodejsStreamInputAdapter"),p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},m=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},g=function(e,t){return t=void 0!==t?t:l.createFolders,e=m(e),this.files[e]||r.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function b(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,r;for(t in this.files)r=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,r)},filter:function(e){var t=[];return this.forEach((function(n,r){e(n,r)&&t.push(r)})),t},file:function(e,t,n){if(1!==arguments.length)return e=this.root+e,r.call(this,e,t,n),this;if(b(e)){var s=e;return this.filter((function(e,t){return!t.dir&&s.test(e)}))}var o=this.files[this.root+e];return o&&!o.dir?o:null},folder:function(e){if(!e)return this;if(b(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=this.root+e,n=g.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=o.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");o.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";t=d.generateWorker(this,n,r)}catch(e){(t=new i("error")).error(e)}return new a(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){var r=e("./DataReader");function s(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(s,r),s.prototype.byteAt=function(e){return this.data[this.zero+e]},s.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),s=e.charCodeAt(3),o=this.length-4;0<=o;--o)if(this.data[o]===t&&this.data[o+1]===n&&this.data[o+2]===r&&this.data[o+3]===s)return o-this.zero;return-1},s.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),s=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&n===o[1]&&r===o[2]&&s===o[3]},s.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=s},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){var r=e("../utils");function s(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=s},{"../utils":32}],19:[function(e,t,n){var r=e("./Uint8ArrayReader");function s(e){r.call(this,e)}e("../utils").inherits(s,r),s.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){var r=e("./DataReader");function s(e){r.call(this,e)}e("../utils").inherits(s,r),s.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},s.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},s.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},s.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=s},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){var r=e("./ArrayReader");function s(e){r.call(this,e)}e("../utils").inherits(s,r),s.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){var r=e("../utils"),s=e("../support"),o=e("./ArrayReader"),i=e("./StringReader"),a=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),"string"!==t||s.uint8array?"nodebuffer"===t?new a(e):s.uint8array?new l(r.transformTo("uint8array",e)):new o(r.transformTo("array",e)):new i(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t,n){var r=e("./GenericWorker"),s=e("../utils");function o(e){r.call(this,"ConvertWorker to "+e),this.destType=e}s.inherits(o,r),o.prototype.processChunk=function(e){this.push({data:s.transformTo(this.destType,e.data),meta:e.meta})},t.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){var r=e("./GenericWorker"),s=e("../crc32");function o(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(o,r),o.prototype.processChunk=function(e){this.streamInfo.crc32=s(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){var r=e("../utils"),s=e("./GenericWorker");function o(e){s.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(o,s),o.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}s.prototype.processChunk.call(this,e)},t.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){var r=e("../utils"),s=e("./GenericWorker");function o(e){s.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}r.inherits(o,s),o.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){function r(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=r},{}],29:[function(e,t,n){var r=e("../utils"),s=e("./ConvertWorker"),o=e("./GenericWorker"),i=e("../base64"),a=e("../support"),l=e("../external"),c=null;if(a.nodestream)try{c=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function u(e,t){return new l.Promise((function(n,s){var o=[],a=e._internalType,l=e._outputType,c=e._mimeType;e.on("data",(function(e,n){o.push(e),t&&t(n)})).on("error",(function(e){o=[],s(e)})).on("end",(function(){try{var e=function(e,t,n){switch(e){case"blob":return r.newBlob(r.transformTo("arraybuffer",t),n);case"base64":return i.encode(t);default:return r.transformTo(e,t)}}(l,function(e,t){var n,r=0,s=null,o=0;for(n=0;n<t.length;n++)o+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(s=new Uint8Array(o),n=0;n<t.length;n++)s.set(t[n],r),r+=t[n].length;return s;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(a,o),c);n(e)}catch(e){s(e)}o=[]})).resume()}))}function d(e,t,n){var i=t;switch(t){case"blob":case"arraybuffer":i="uint8array";break;case"base64":i="string"}try{this._internalType=i,this._outputType=t,this._mimeType=n,r.checkSupport(i),this._worker=e.pipe(new s(i)),e.lock()}catch(e){this._worker=new o("error"),this._worker.error(e)}}d.prototype={accumulate:function(e){return u(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,(function(e){t.call(n,e.data,e.meta)})):this._worker.on(e,(function(){r.delay(t,arguments,n)})),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=0===new Blob([r],{type:"application/zip"}).size}catch(e){try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(r),n.blob=0===s.getBlob("application/zip").size}catch(e){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(e){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){for(var r=e("./utils"),s=e("./support"),o=e("./nodejsUtils"),i=e("./stream/GenericWorker"),a=new Array(256),l=0;l<256;l++)a[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function c(){i.call(this,"utf-8 decode"),this.leftOver=null}function u(){i.call(this,"utf-8 encode")}a[254]=a[254]=1,n.utf8encode=function(e){return s.nodebuffer?o.newBufferFrom(e,"utf-8"):function(e){var t,n,r,o,i,a=e.length,l=0;for(o=0;o<a;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=s.uint8array?new Uint8Array(l):new Array(l),o=i=0;i<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?t[i++]=n:(n<2048?t[i++]=192|n>>>6:(n<65536?t[i++]=224|n>>>12:(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63),t[i++]=128|n>>>6&63),t[i++]=128|63&n);return t}(e)},n.utf8decode=function(e){return s.nodebuffer?r.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,s,o,i=e.length,l=new Array(2*i);for(t=n=0;t<i;)if((s=e[t++])<128)l[n++]=s;else if(4<(o=a[s]))l[n++]=65533,t+=o-1;else{for(s&=2===o?31:3===o?15:7;1<o&&t<i;)s=s<<6|63&e[t++],o--;1<o?l[n++]=65533:s<65536?l[n++]=s:(s-=65536,l[n++]=55296|s>>10&1023,l[n++]=56320|1023&s)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),r.applyFromCharCode(l)}(e=r.transformTo(s.uint8array?"uint8array":"array",e))},r.inherits(c,i),c.prototype.processChunk=function(e){var t=r.transformTo(s.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var o=t;(t=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),t.set(o,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var i=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}(t),l=t;i!==t.length&&(s.uint8array?(l=t.subarray(0,i),this.leftOver=t.subarray(i,t.length)):(l=t.slice(0,i),this.leftOver=t.slice(i,t.length))),this.push({data:n.utf8decode(l),meta:e.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=c,r.inherits(u,i),u.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){var r=e("./support"),s=e("./base64"),o=e("./nodejsUtils"),i=e("./external");function a(e){return e}function l(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}e("setimmediate"),n.newBlob=function(e,t){n.checkSupport("blob");try{return new Blob([e],{type:t})}catch(n){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(e),r.getBlob(t)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(e,t,n){var r=[],s=0,o=e.length;if(o<=n)return String.fromCharCode.apply(null,e);for(;s<o;)"array"===t||"nodebuffer"===t?r.push(String.fromCharCode.apply(null,e.slice(s,Math.min(s+n,o)))):r.push(String.fromCharCode.apply(null,e.subarray(s,Math.min(s+n,o)))),s+=n;return r.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(e){return!1}}()}};function u(e){var t=65536,r=n.getTypeOf(e),s=!0;if("uint8array"===r?s=c.applyCanBeUsed.uint8array:"nodebuffer"===r&&(s=c.applyCanBeUsed.nodebuffer),s)for(;1<t;)try{return c.stringifyByChunk(e,r,t)}catch(e){t=Math.floor(t/2)}return c.stringifyByChar(e)}function d(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=u;var f={};f.string={string:a,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return f.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,o.allocBuffer(e.length))}},f.array={string:u,array:a,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(e)}},f.arraybuffer={string:function(e){return u(new Uint8Array(e))},array:function(e){return d(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:a,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(new Uint8Array(e))}},f.uint8array={string:u,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:a,nodebuffer:function(e){return o.newBufferFrom(e)}},f.nodebuffer={string:u,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return f.nodebuffer.uint8array(e).buffer},uint8array:function(e){return d(e,new Uint8Array(e.length))},nodebuffer:a},n.transformTo=function(e,t){if(t=t||"",!e)return t;n.checkSupport(e);var r=n.getTypeOf(t);return f[r][e](t)},n.resolve=function(e){for(var t=e.split("/"),n=[],r=0;r<t.length;r++){var s=t[r];"."===s||""===s&&0!==r&&r!==t.length-1||(".."===s?n.pop():n.push(s))}return n.join("/")},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":r.nodebuffer&&o.isBuffer(e)?"nodebuffer":r.uint8array&&e instanceof Uint8Array?"uint8array":r.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!r[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)r+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return r},n.delay=function(e,t,n){setImmediate((function(){e.apply(n||null,t||[])}))},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,o,a,c){return i.Promise.resolve(t).then((function(e){return r.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new i.Promise((function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},r.readAsArrayBuffer(e)})):e})).then((function(t){var u=n.getTypeOf(t);return u?("arraybuffer"===u?t=n.transformTo("uint8array",t):"string"===u&&(c?t=s.decode(t):o&&!0!==a&&(t=function(e){return l(e,r.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):i.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,n){var r=e("./reader/readerFor"),s=e("./utils"),o=e("./signature"),i=e("./zipEntry"),a=(e("./utf8"),e("./support"));function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(t)+", expected "+s.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=a.uint8array?"uint8array":"array",n=s.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(e=new i({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(0<r)this.isSignature(t,o.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){var r=e("./reader/readerFor"),s=e("./utils"),o=e("./compressedObject"),i=e("./crc32"),a=e("./utf8"),l=e("./compressions"),c=e("./support");function u(e,t){this.options=e,this.loadOptions=t}u.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(l.hasOwnProperty(t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=r(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,r,s=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<s;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),this.extraFields[t]={id:t,length:n,value:r};e.setIndex(s)},handleUTF8:function(){var e=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=s.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var o=s.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)||i(this.fileName)!==t.readInt(4)?null:a.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)||i(this.fileComment)!==t.readInt(4)?null:a.utf8decode(t.readData(e.length-5))}return null}},t.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){function r(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var s=e("./stream/StreamHelper"),o=e("./stream/DataWorker"),i=e("./utf8"),a=e("./compressedObject"),l=e("./stream/GenericWorker");r.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var o=!this._dataBinary;o&&!r&&(t=t.pipe(new i.Utf8EncodeWorker)),!o&&r&&(t=t.pipe(new i.Utf8DecodeWorker))}catch(e){(t=new l("error")).error(e)}return new s(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof a&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new i.Utf8EncodeWorker)),a.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof l?this._data:new o(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<c.length;d++)r.prototype[c[d]]=u;t.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,n){(function(e){var n,r,s=e.MutationObserver||e.WebKitMutationObserver;if(s){var o=0,i=new s(u),a=e.document.createTextNode("");i.observe(a,{characterData:!0}),n=function(){a.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var l=new e.MessageChannel;l.port1.onmessage=u,n=function(){l.port2.postMessage(0)}}var c=[];function u(){var e,t;r=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}r=!1}t.exports=function(e){1!==c.push(e)||r||n()}}).call(this,void 0!==Ws?Ws:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){var r=e("immediate");function s(){}var o={},i=["REJECTED"],a=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==s&&h(this,e)}function u(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function d(e,t,n){r((function(){var r;try{r=t(n)}catch(r){return o.reject(e,r)}r===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,r)}))}function f(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function h(e,t){var n=!1;function r(t){n||(n=!0,o.reject(e,t))}function s(t){n||(n=!0,o.resolve(e,t))}var i=p((function(){t(s,r)}));"error"===i.status&&r(i.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}(t.exports=c).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===a||"function"!=typeof t&&this.state===i)return this;var n=new this.constructor(s);return this.state!==l?d(n,this.state===a?e:t,this.outcome):this.queue.push(new u(n,e,t)),n},u.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){o.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=p(f,t);if("error"===n.status)return o.reject(e,n.value);var r=n.value;if(r)h(e,r);else{e.state=a,e.outcome=t;for(var s=-1,i=e.queue.length;++s<i;)e.queue[s].callFulfilled(t)}return e},o.reject=function(e,t){e.state=i,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:o.resolve(new this(s),e)},c.reject=function(e){var t=new this(s);return o.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var i=new Array(n),a=0,l=-1,c=new this(s);++l<n;)u(e[l],l);return c;function u(e,s){t.resolve(e).then((function(e){i[s]=e,++a!==n||r||(r=!0,o.resolve(c,i))}),(function(e){r||(r=!0,o.reject(c,e))}))}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var i,a=-1,l=new this(s);++a<n;)i=e[a],t.resolve(i).then((function(e){r||(r=!0,o.resolve(l,e))}),(function(e){r||(r=!0,o.reject(l,e))}));return l}},{immediate:36}],38:[function(e,t,n){var r={};(0,e("./lib/utils/common").assign)(r,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){var r=e("./zlib/deflate"),s=e("./utils/common"),o=e("./utils/strings"),i=e("./zlib/messages"),a=e("./zlib/zstream"),l=Object.prototype.toString,c=0,u=-1,d=0,f=8;function h(e){if(!(this instanceof h))return new h(e);this.options=s.assign({level:u,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==c)throw new Error(i[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var p;if(p="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=r.deflateSetDictionary(this.strm,p))!==c)throw new Error(i[n]);this._dict_set=!0}}function p(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg||i[n.err];return n.result}h.prototype.push=function(e,t){var n,i,a=this.strm,u=this.options.chunkSize;if(this.ended)return!1;i=t===~~t?t:!0===t?4:0,"string"==typeof e?a.input=o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new s.Buf8(u),a.next_out=0,a.avail_out=u),1!==(n=r.deflate(a,i))&&n!==c)return this.onEnd(n),!(this.ended=!0);0!==a.avail_out&&(0!==a.avail_in||4!==i&&2!==i)||("string"===this.options.to?this.onData(o.buf2binstring(s.shrinkBuf(a.output,a.next_out))):this.onData(s.shrinkBuf(a.output,a.next_out)))}while((0<a.avail_in||0===a.avail_out)&&1!==n);return 4===i?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c):2!==i||(this.onEnd(c),!(a.avail_out=0))},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=h,n.deflate=p,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,p(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){var r=e("./zlib/inflate"),s=e("./utils/common"),o=e("./utils/strings"),i=e("./zlib/constants"),a=e("./zlib/messages"),l=e("./zlib/zstream"),c=e("./zlib/gzheader"),u=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==i.Z_OK)throw new Error(a[n]);this.header=new c,r.inflateGetHeader(this.strm,this.header)}function f(e,t){var n=new d(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}d.prototype.push=function(e,t){var n,a,l,c,d,f,h=this.strm,p=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;a=t===~~t?t:!0===t?i.Z_FINISH:i.Z_NO_FLUSH,"string"==typeof e?h.input=o.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new s.Buf8(p),h.next_out=0,h.avail_out=p),(n=r.inflate(h,i.Z_NO_FLUSH))===i.Z_NEED_DICT&&m&&(f="string"==typeof m?o.string2buf(m):"[object ArrayBuffer]"===u.call(m)?new Uint8Array(m):m,n=r.inflateSetDictionary(this.strm,f)),n===i.Z_BUF_ERROR&&!0===g&&(n=i.Z_OK,g=!1),n!==i.Z_STREAM_END&&n!==i.Z_OK)return this.onEnd(n),!(this.ended=!0);h.next_out&&(0!==h.avail_out&&n!==i.Z_STREAM_END&&(0!==h.avail_in||a!==i.Z_FINISH&&a!==i.Z_SYNC_FLUSH)||("string"===this.options.to?(l=o.utf8border(h.output,h.next_out),c=h.next_out-l,d=o.buf2string(h.output,l),h.next_out=c,h.avail_out=p-c,c&&s.arraySet(h.output,h.output,l,c,0),this.onData(d)):this.onData(s.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(g=!0)}while((0<h.avail_in||0===h.avail_out)&&n!==i.Z_STREAM_END);return n===i.Z_STREAM_END&&(a=i.Z_FINISH),a===i.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===i.Z_OK):a!==i.Z_SYNC_FLUSH||(this.onEnd(i.Z_OK),!(h.avail_out=0))},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===i.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=d,n.inflate=f,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},n.ungzip=f},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var s={arraySet:function(e,t,n,r,s){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),s);else for(var o=0;o<r;o++)e[s+o]=t[n+o]},flattenChunks:function(e){var t,n,r,s,o,i;for(t=r=0,n=e.length;t<n;t++)r+=e[t].length;for(i=new Uint8Array(r),t=s=0,n=e.length;t<n;t++)o=e[t],i.set(o,s),s+=o.length;return i}},o={arraySet:function(e,t,n,r,s){for(var o=0;o<r;o++)e[s+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,s)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(r)},{}],42:[function(e,t,n){var r=e("./common"),s=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var i=new r.Buf8(256),a=0;a<256;a++)i[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;function l(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&s))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n}i[254]=i[254]=1,n.string2buf=function(e){var t,n,s,o,i,a=e.length,l=0;for(o=0;o<a;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(s=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(s-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),o=i=0;i<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(s=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(s-56320),o++),n<128?t[i++]=n:(n<2048?t[i++]=192|n>>>6:(n<65536?t[i++]=224|n>>>12:(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63),t[i++]=128|n>>>6&63),t[i++]=128|63&n);return t},n.buf2binstring=function(e){return l(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,s=t.length;n<s;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,s,o,a=t||e.length,c=new Array(2*a);for(n=r=0;n<a;)if((s=e[n++])<128)c[r++]=s;else if(4<(o=i[s]))c[r++]=65533,n+=o-1;else{for(s&=2===o?31:3===o?15:7;1<o&&n<a;)s=s<<6|63&e[n++],o--;1<o?c[r++]=65533:s<65536?c[r++]=s:(s-=65536,c[r++]=55296|s>>10&1023,c[r++]=56320|1023&s)}return l(c,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+i[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){t.exports=function(e,t,n,r){for(var s=65535&e|0,o=e>>>16&65535|0,i=0;0!==n;){for(n-=i=2e3<n?2e3:n;o=o+(s=s+t[r++]|0)|0,--i;);s%=65521,o%=65521}return s|o<<16|0}},{}],44:[function(e,t,n){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,s){var o=r,i=s+n;e^=-1;for(var a=s;a<i;a++)e=e>>>8^o[255&(e^t[a])];return-1^e}},{}],46:[function(e,t,n){var r,s=e("../utils/common"),o=e("./trees"),i=e("./adler32"),a=e("./crc32"),l=e("./messages"),c=0,u=4,d=0,f=-2,h=-1,p=4,m=2,g=8,b=9,y=286,v=30,$=19,x=2*y+1,w=15,k=3,_=258,S=_+k+1,C=42,E=113,T=1,L=2,j=3,A=4;function R(e,t){return e.msg=l[t],t}function B(e){return(e<<1)-(4<e?9:0)}function N(e){for(var t=e.length;0<=--t;)e[t]=0}function D(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(s.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function I(e,t){o._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,D(e.strm)}function O(e,t){e.pending_buf[e.pending++]=t}function P(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function z(e,t){var n,r,s=e.max_chain_length,o=e.strstart,i=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-S?e.strstart-(e.w_size-S):0,c=e.window,u=e.w_mask,d=e.prev,f=e.strstart+_,h=c[o+i-1],p=c[o+i];e.prev_length>=e.good_match&&(s>>=2),a>e.lookahead&&(a=e.lookahead);do{if(c[(n=t)+i]===p&&c[n+i-1]===h&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<f);if(r=_-(f-o),o=f-_,i<r){if(e.match_start=t,a<=(i=r))break;h=c[o+i-1],p=c[o+i]}}}while((t=d[t&u])>l&&0!=--s);return i<=e.lookahead?i:e.lookahead}function M(e){var t,n,r,o,l,c,u,d,f,h,p=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-S)){for(s.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=n=e.hash_size;r=e.head[--t],e.head[t]=p<=r?r-p:0,--n;);for(t=n=p;r=e.prev[--t],e.prev[t]=p<=r?r-p:0,--n;);o+=p}if(0===e.strm.avail_in)break;if(c=e.strm,u=e.window,d=e.strstart+e.lookahead,h=void 0,(f=o)<(h=c.avail_in)&&(h=f),n=0===h?0:(c.avail_in-=h,s.arraySet(u,c.input,c.next_in,h,d),1===c.state.wrap?c.adler=i(c.adler,u,h,d):2===c.state.wrap&&(c.adler=a(c.adler,u,h,d)),c.next_in+=h,c.total_in+=h,h),e.lookahead+=n,e.lookahead+e.insert>=k)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+k-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<k)););}while(e.lookahead<S&&0!==e.strm.avail_in)}function F(e,t){for(var n,r;;){if(e.lookahead<S){if(M(e),e.lookahead<S&&t===c)return T;if(0===e.lookahead)break}if(n=0,e.lookahead>=k&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-S&&(e.match_length=z(e,n)),e.match_length>=k)if(r=o._tr_tally(e,e.strstart-e.match_start,e.match_length-k),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=k){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(I(e,!1),0===e.strm.avail_out))return T}return e.insert=e.strstart<k-1?e.strstart:k-1,t===u?(I(e,!0),0===e.strm.avail_out?j:A):e.last_lit&&(I(e,!1),0===e.strm.avail_out)?T:L}function H(e,t){for(var n,r,s;;){if(e.lookahead<S){if(M(e),e.lookahead<S&&t===c)return T;if(0===e.lookahead)break}if(n=0,e.lookahead>=k&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=k-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-S&&(e.match_length=z(e,n),e.match_length<=5&&(1===e.strategy||e.match_length===k&&4096<e.strstart-e.match_start)&&(e.match_length=k-1)),e.prev_length>=k&&e.match_length<=e.prev_length){for(s=e.strstart+e.lookahead-k,r=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-k),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=s&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=k-1,e.strstart++,r&&(I(e,!1),0===e.strm.avail_out))return T}else if(e.match_available){if((r=o._tr_tally(e,0,e.window[e.strstart-1]))&&I(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return T}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<k-1?e.strstart:k-1,t===u?(I(e,!0),0===e.strm.avail_out?j:A):e.last_lit&&(I(e,!1),0===e.strm.avail_out)?T:L}function U(e,t,n,r,s){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=s}function W(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*x),this.dyn_dtree=new s.Buf16(2*(2*v+1)),this.bl_tree=new s.Buf16(2*(2*$+1)),N(this.dyn_ltree),N(this.dyn_dtree),N(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(w+1),this.heap=new s.Buf16(2*y+1),N(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*y+1),N(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function q(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=m,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?C:E,e.adler=2===t.wrap?0:1,t.last_flush=c,o._tr_init(t),d):R(e,f)}function G(e){var t=q(e);return t===d&&function(e){e.window_size=2*e.w_size,N(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=k-1,e.match_available=0,e.ins_h=0}(e.state),t}function K(e,t,n,r,o,i){if(!e)return f;var a=1;if(t===h&&(t=6),r<0?(a=0,r=-r):15<r&&(a=2,r-=16),o<1||b<o||n!==g||r<8||15<r||t<0||9<t||i<0||p<i)return R(e,f);8===r&&(r=9);var l=new W;return(e.state=l).strm=e,l.wrap=a,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+k-1)/k),l.window=new s.Buf8(2*l.w_size),l.head=new s.Buf16(l.hash_size),l.prev=new s.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new s.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=i,l.method=n,G(e)}r=[new U(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(M(e),0===e.lookahead&&t===c)return T;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,I(e,!1),0===e.strm.avail_out))return T;if(e.strstart-e.block_start>=e.w_size-S&&(I(e,!1),0===e.strm.avail_out))return T}return e.insert=0,t===u?(I(e,!0),0===e.strm.avail_out?j:A):(e.strstart>e.block_start&&(I(e,!1),e.strm.avail_out),T)})),new U(4,4,8,4,F),new U(4,5,16,8,F),new U(4,6,32,32,F),new U(4,4,16,16,H),new U(8,16,32,32,H),new U(8,16,128,128,H),new U(8,32,128,256,H),new U(32,128,258,1024,H),new U(32,258,258,4096,H)],n.deflateInit=function(e,t){return K(e,t,g,15,8,0)},n.deflateInit2=K,n.deflateReset=G,n.deflateResetKeep=q,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?f:(e.state.gzhead=t,d):f},n.deflate=function(e,t){var n,s,i,l;if(!e||!e.state||5<t||t<0)return e?R(e,f):f;if(s=e.state,!e.output||!e.input&&0!==e.avail_in||666===s.status&&t!==u)return R(e,0===e.avail_out?-5:f);if(s.strm=e,n=s.last_flush,s.last_flush=t,s.status===C)if(2===s.wrap)e.adler=0,O(s,31),O(s,139),O(s,8),s.gzhead?(O(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),O(s,255&s.gzhead.time),O(s,s.gzhead.time>>8&255),O(s,s.gzhead.time>>16&255),O(s,s.gzhead.time>>24&255),O(s,9===s.level?2:2<=s.strategy||s.level<2?4:0),O(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(O(s,255&s.gzhead.extra.length),O(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(e.adler=a(e.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=69):(O(s,0),O(s,0),O(s,0),O(s,0),O(s,0),O(s,9===s.level?2:2<=s.strategy||s.level<2?4:0),O(s,3),s.status=E);else{var h=g+(s.w_bits-8<<4)<<8;h|=(2<=s.strategy||s.level<2?0:s.level<6?1:6===s.level?2:3)<<6,0!==s.strstart&&(h|=32),h+=31-h%31,s.status=E,P(s,h),0!==s.strstart&&(P(s,e.adler>>>16),P(s,65535&e.adler)),e.adler=1}if(69===s.status)if(s.gzhead.extra){for(i=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>i&&(e.adler=a(e.adler,s.pending_buf,s.pending-i,i)),D(e),i=s.pending,s.pending!==s.pending_buf_size));)O(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>i&&(e.adler=a(e.adler,s.pending_buf,s.pending-i,i)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=73)}else s.status=73;if(73===s.status)if(s.gzhead.name){i=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>i&&(e.adler=a(e.adler,s.pending_buf,s.pending-i,i)),D(e),i=s.pending,s.pending===s.pending_buf_size)){l=1;break}l=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,O(s,l)}while(0!==l);s.gzhead.hcrc&&s.pending>i&&(e.adler=a(e.adler,s.pending_buf,s.pending-i,i)),0===l&&(s.gzindex=0,s.status=91)}else s.status=91;if(91===s.status)if(s.gzhead.comment){i=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>i&&(e.adler=a(e.adler,s.pending_buf,s.pending-i,i)),D(e),i=s.pending,s.pending===s.pending_buf_size)){l=1;break}l=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,O(s,l)}while(0!==l);s.gzhead.hcrc&&s.pending>i&&(e.adler=a(e.adler,s.pending_buf,s.pending-i,i)),0===l&&(s.status=103)}else s.status=103;if(103===s.status&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&D(e),s.pending+2<=s.pending_buf_size&&(O(s,255&e.adler),O(s,e.adler>>8&255),e.adler=0,s.status=E)):s.status=E),0!==s.pending){if(D(e),0===e.avail_out)return s.last_flush=-1,d}else if(0===e.avail_in&&B(t)<=B(n)&&t!==u)return R(e,-5);if(666===s.status&&0!==e.avail_in)return R(e,-5);if(0!==e.avail_in||0!==s.lookahead||t!==c&&666!==s.status){var p=2===s.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(M(e),0===e.lookahead)){if(t===c)return T;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(I(e,!1),0===e.strm.avail_out))return T}return e.insert=0,t===u?(I(e,!0),0===e.strm.avail_out?j:A):e.last_lit&&(I(e,!1),0===e.strm.avail_out)?T:L}(s,t):3===s.strategy?function(e,t){for(var n,r,s,i,a=e.window;;){if(e.lookahead<=_){if(M(e),e.lookahead<=_&&t===c)return T;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=k&&0<e.strstart&&(r=a[s=e.strstart-1])===a[++s]&&r===a[++s]&&r===a[++s]){i=e.strstart+_;do{}while(r===a[++s]&&r===a[++s]&&r===a[++s]&&r===a[++s]&&r===a[++s]&&r===a[++s]&&r===a[++s]&&r===a[++s]&&s<i);e.match_length=_-(i-s),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=k?(n=o._tr_tally(e,1,e.match_length-k),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(I(e,!1),0===e.strm.avail_out))return T}return e.insert=0,t===u?(I(e,!0),0===e.strm.avail_out?j:A):e.last_lit&&(I(e,!1),0===e.strm.avail_out)?T:L}(s,t):r[s.level].func(s,t);if(p!==j&&p!==A||(s.status=666),p===T||p===j)return 0===e.avail_out&&(s.last_flush=-1),d;if(p===L&&(1===t?o._tr_align(s):5!==t&&(o._tr_stored_block(s,0,0,!1),3===t&&(N(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),D(e),0===e.avail_out))return s.last_flush=-1,d}return t!==u?d:s.wrap<=0?1:(2===s.wrap?(O(s,255&e.adler),O(s,e.adler>>8&255),O(s,e.adler>>16&255),O(s,e.adler>>24&255),O(s,255&e.total_in),O(s,e.total_in>>8&255),O(s,e.total_in>>16&255),O(s,e.total_in>>24&255)):(P(s,e.adler>>>16),P(s,65535&e.adler)),D(e),0<s.wrap&&(s.wrap=-s.wrap),0!==s.pending?d:1)},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==C&&69!==t&&73!==t&&91!==t&&103!==t&&t!==E&&666!==t?R(e,f):(e.state=null,t===E?R(e,-3):d):f},n.deflateSetDictionary=function(e,t){var n,r,o,a,l,c,u,h,p=t.length;if(!e||!e.state)return f;if(2===(a=(n=e.state).wrap)||1===a&&n.status!==C||n.lookahead)return f;for(1===a&&(e.adler=i(e.adler,t,p,0)),n.wrap=0,p>=n.w_size&&(0===a&&(N(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new s.Buf8(n.w_size),s.arraySet(h,t,p-n.w_size,n.w_size,0),t=h,p=n.w_size),l=e.avail_in,c=e.next_in,u=e.input,e.avail_in=p,e.next_in=0,e.input=t,M(n);n.lookahead>=k;){for(r=n.strstart,o=n.lookahead-(k-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+k-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--o;);n.strstart=r,n.lookahead=k-1,M(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=k-1,n.match_available=0,e.next_in=c,e.input=u,e.avail_in=l,n.wrap=a,d},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){t.exports=function(e,t){var n,r,s,o,i,a,l,c,u,d,f,h,p,m,g,b,y,v,$,x,w,k,_,S,C;n=e.state,r=e.next_in,S=e.input,s=r+(e.avail_in-5),o=e.next_out,C=e.output,i=o-(t-e.avail_out),a=o+(e.avail_out-257),l=n.dmax,c=n.wsize,u=n.whave,d=n.wnext,f=n.window,h=n.hold,p=n.bits,m=n.lencode,g=n.distcode,b=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{p<15&&(h+=S[r++]<<p,p+=8,h+=S[r++]<<p,p+=8),v=m[h&b];t:for(;;){if(h>>>=$=v>>>24,p-=$,0==($=v>>>16&255))C[o++]=65535&v;else{if(!(16&$)){if(0==(64&$)){v=m[(65535&v)+(h&(1<<$)-1)];continue t}if(32&$){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}x=65535&v,($&=15)&&(p<$&&(h+=S[r++]<<p,p+=8),x+=h&(1<<$)-1,h>>>=$,p-=$),p<15&&(h+=S[r++]<<p,p+=8,h+=S[r++]<<p,p+=8),v=g[h&y];n:for(;;){if(h>>>=$=v>>>24,p-=$,!(16&($=v>>>16&255))){if(0==(64&$)){v=g[(65535&v)+(h&(1<<$)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(w=65535&v,p<($&=15)&&(h+=S[r++]<<p,(p+=8)<$&&(h+=S[r++]<<p,p+=8)),l<(w+=h&(1<<$)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(h>>>=$,p-=$,($=o-i)<w){if(u<($=w-$)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(_=f,(k=0)===d){if(k+=c-$,$<x){for(x-=$;C[o++]=f[k++],--$;);k=o-w,_=C}}else if(d<$){if(k+=c+d-$,($-=d)<x){for(x-=$;C[o++]=f[k++],--$;);if(k=0,d<x){for(x-=$=d;C[o++]=f[k++],--$;);k=o-w,_=C}}}else if(k+=d-$,$<x){for(x-=$;C[o++]=f[k++],--$;);k=o-w,_=C}for(;2<x;)C[o++]=_[k++],C[o++]=_[k++],C[o++]=_[k++],x-=3;x&&(C[o++]=_[k++],1<x&&(C[o++]=_[k++]))}else{for(k=o-w;C[o++]=C[k++],C[o++]=C[k++],C[o++]=C[k++],2<(x-=3););x&&(C[o++]=C[k++],1<x&&(C[o++]=C[k++]))}break}}break}}while(r<s&&o<a);r-=x=p>>3,h&=(1<<(p-=x<<3))-1,e.next_in=r,e.next_out=o,e.avail_in=r<s?s-r+5:5-(r-s),e.avail_out=o<a?a-o+257:257-(o-a),n.hold=h,n.bits=p}},{}],49:[function(e,t,n){var r=e("../utils/common"),s=e("./adler32"),o=e("./crc32"),i=e("./inffast"),a=e("./inftrees"),l=1,c=2,u=0,d=-2,f=1,h=852,p=592;function m(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function g(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=f,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(h),t.distcode=t.distdyn=new r.Buf32(p),t.sane=1,t.back=-1,u):d}function y(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,b(e)):d}function v(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?d:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,y(e))):d}function $(e,t){var n,r;return e?(r=new g,(e.state=r).window=null,(n=v(e,t))!==u&&(e.state=null),n):d}var x,w,k=!0;function _(e){if(k){var t;for(x=new r.Buf32(512),w=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(a(l,e.lens,0,288,x,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;a(c,e.lens,0,32,w,0,e.work,{bits:5}),k=!1}e.lencode=x,e.lenbits=9,e.distcode=w,e.distbits=5}function S(e,t,n,s){var o,i=e.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new r.Buf8(i.wsize)),s>=i.wsize?(r.arraySet(i.window,t,n-i.wsize,i.wsize,0),i.wnext=0,i.whave=i.wsize):(s<(o=i.wsize-i.wnext)&&(o=s),r.arraySet(i.window,t,n-s,o,i.wnext),(s-=o)?(r.arraySet(i.window,t,n-s,s,0),i.wnext=s,i.whave=i.wsize):(i.wnext+=o,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=o))),0}n.inflateReset=y,n.inflateReset2=v,n.inflateResetKeep=b,n.inflateInit=function(e){return $(e,15)},n.inflateInit2=$,n.inflate=function(e,t){var n,h,p,g,b,y,v,$,x,w,k,C,E,T,L,j,A,R,B,N,D,I,O,P,z=0,M=new r.Buf8(4),F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return d;12===(n=e.state).mode&&(n.mode=13),b=e.next_out,p=e.output,v=e.avail_out,g=e.next_in,h=e.input,y=e.avail_in,$=n.hold,x=n.bits,w=y,k=v,I=u;e:for(;;)switch(n.mode){case f:if(0===n.wrap){n.mode=13;break}for(;x<16;){if(0===y)break e;y--,$+=h[g++]<<x,x+=8}if(2&n.wrap&&35615===$){M[n.check=0]=255&$,M[1]=$>>>8&255,n.check=o(n.check,M,2,0),x=$=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&$)<<8)+($>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&$)){e.msg="unknown compression method",n.mode=30;break}if(x-=4,D=8+(15&($>>>=4)),0===n.wbits)n.wbits=D;else if(D>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<D,e.adler=n.check=1,n.mode=512&$?10:12,x=$=0;break;case 2:for(;x<16;){if(0===y)break e;y--,$+=h[g++]<<x,x+=8}if(n.flags=$,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=$>>8&1),512&n.flags&&(M[0]=255&$,M[1]=$>>>8&255,n.check=o(n.check,M,2,0)),x=$=0,n.mode=3;case 3:for(;x<32;){if(0===y)break e;y--,$+=h[g++]<<x,x+=8}n.head&&(n.head.time=$),512&n.flags&&(M[0]=255&$,M[1]=$>>>8&255,M[2]=$>>>16&255,M[3]=$>>>24&255,n.check=o(n.check,M,4,0)),x=$=0,n.mode=4;case 4:for(;x<16;){if(0===y)break e;y--,$+=h[g++]<<x,x+=8}n.head&&(n.head.xflags=255&$,n.head.os=$>>8),512&n.flags&&(M[0]=255&$,M[1]=$>>>8&255,n.check=o(n.check,M,2,0)),x=$=0,n.mode=5;case 5:if(1024&n.flags){for(;x<16;){if(0===y)break e;y--,$+=h[g++]<<x,x+=8}n.length=$,n.head&&(n.head.extra_len=$),512&n.flags&&(M[0]=255&$,M[1]=$>>>8&255,n.check=o(n.check,M,2,0)),x=$=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(y<(C=n.length)&&(C=y),C&&(n.head&&(D=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,h,g,C,D)),512&n.flags&&(n.check=o(n.check,h,C,g)),y-=C,g+=C,n.length-=C),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===y)break e;for(C=0;D=h[g+C++],n.head&&D&&n.length<65536&&(n.head.name+=String.fromCharCode(D)),D&&C<y;);if(512&n.flags&&(n.check=o(n.check,h,C,g)),y-=C,g+=C,D)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===y)break e;for(C=0;D=h[g+C++],n.head&&D&&n.length<65536&&(n.head.comment+=String.fromCharCode(D)),D&&C<y;);if(512&n.flags&&(n.check=o(n.check,h,C,g)),y-=C,g+=C,D)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;x<16;){if(0===y)break e;y--,$+=h[g++]<<x,x+=8}if($!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}x=$=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;x<32;){if(0===y)break e;y--,$+=h[g++]<<x,x+=8}e.adler=n.check=m($),x=$=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=b,e.avail_out=v,e.next_in=g,e.avail_in=y,n.hold=$,n.bits=x,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){$>>>=7&x,x-=7&x,n.mode=27;break}for(;x<3;){if(0===y)break e;y--,$+=h[g++]<<x,x+=8}switch(n.last=1&$,x-=1,3&($>>>=1)){case 0:n.mode=14;break;case 1:if(_(n),n.mode=20,6!==t)break;$>>>=2,x-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}$>>>=2,x-=2;break;case 14:for($>>>=7&x,x-=7&x;x<32;){if(0===y)break e;y--,$+=h[g++]<<x,x+=8}if((65535&$)!=($>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&$,x=$=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(C=n.length){if(y<C&&(C=y),v<C&&(C=v),0===C)break e;r.arraySet(p,h,g,C,b),y-=C,g+=C,v-=C,b+=C,n.length-=C;break}n.mode=12;break;case 17:for(;x<14;){if(0===y)break e;y--,$+=h[g++]<<x,x+=8}if(n.nlen=257+(31&$),$>>>=5,x-=5,n.ndist=1+(31&$),$>>>=5,x-=5,n.ncode=4+(15&$),$>>>=4,x-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;x<3;){if(0===y)break e;y--,$+=h[g++]<<x,x+=8}n.lens[F[n.have++]]=7&$,$>>>=3,x-=3}for(;n.have<19;)n.lens[F[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,O={bits:n.lenbits},I=a(0,n.lens,0,19,n.lencode,0,n.work,O),n.lenbits=O.bits,I){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;j=(z=n.lencode[$&(1<<n.lenbits)-1])>>>16&255,A=65535&z,!((L=z>>>24)<=x);){if(0===y)break e;y--,$+=h[g++]<<x,x+=8}if(A<16)$>>>=L,x-=L,n.lens[n.have++]=A;else{if(16===A){for(P=L+2;x<P;){if(0===y)break e;y--,$+=h[g++]<<x,x+=8}if($>>>=L,x-=L,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}D=n.lens[n.have-1],C=3+(3&$),$>>>=2,x-=2}else if(17===A){for(P=L+3;x<P;){if(0===y)break e;y--,$+=h[g++]<<x,x+=8}x-=L,D=0,C=3+(7&($>>>=L)),$>>>=3,x-=3}else{for(P=L+7;x<P;){if(0===y)break e;y--,$+=h[g++]<<x,x+=8}x-=L,D=0,C=11+(127&($>>>=L)),$>>>=7,x-=7}if(n.have+C>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;C--;)n.lens[n.have++]=D}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,O={bits:n.lenbits},I=a(l,n.lens,0,n.nlen,n.lencode,0,n.work,O),n.lenbits=O.bits,I){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,O={bits:n.distbits},I=a(c,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,O),n.distbits=O.bits,I){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=y&&258<=v){e.next_out=b,e.avail_out=v,e.next_in=g,e.avail_in=y,n.hold=$,n.bits=x,i(e,k),b=e.next_out,p=e.output,v=e.avail_out,g=e.next_in,h=e.input,y=e.avail_in,$=n.hold,x=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;j=(z=n.lencode[$&(1<<n.lenbits)-1])>>>16&255,A=65535&z,!((L=z>>>24)<=x);){if(0===y)break e;y--,$+=h[g++]<<x,x+=8}if(j&&0==(240&j)){for(R=L,B=j,N=A;j=(z=n.lencode[N+(($&(1<<R+B)-1)>>R)])>>>16&255,A=65535&z,!(R+(L=z>>>24)<=x);){if(0===y)break e;y--,$+=h[g++]<<x,x+=8}$>>>=R,x-=R,n.back+=R}if($>>>=L,x-=L,n.back+=L,n.length=A,0===j){n.mode=26;break}if(32&j){n.back=-1,n.mode=12;break}if(64&j){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&j,n.mode=22;case 22:if(n.extra){for(P=n.extra;x<P;){if(0===y)break e;y--,$+=h[g++]<<x,x+=8}n.length+=$&(1<<n.extra)-1,$>>>=n.extra,x-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;j=(z=n.distcode[$&(1<<n.distbits)-1])>>>16&255,A=65535&z,!((L=z>>>24)<=x);){if(0===y)break e;y--,$+=h[g++]<<x,x+=8}if(0==(240&j)){for(R=L,B=j,N=A;j=(z=n.distcode[N+(($&(1<<R+B)-1)>>R)])>>>16&255,A=65535&z,!(R+(L=z>>>24)<=x);){if(0===y)break e;y--,$+=h[g++]<<x,x+=8}$>>>=R,x-=R,n.back+=R}if($>>>=L,x-=L,n.back+=L,64&j){e.msg="invalid distance code",n.mode=30;break}n.offset=A,n.extra=15&j,n.mode=24;case 24:if(n.extra){for(P=n.extra;x<P;){if(0===y)break e;y--,$+=h[g++]<<x,x+=8}n.offset+=$&(1<<n.extra)-1,$>>>=n.extra,x-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===v)break e;if(C=k-v,n.offset>C){if((C=n.offset-C)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}E=C>n.wnext?(C-=n.wnext,n.wsize-C):n.wnext-C,C>n.length&&(C=n.length),T=n.window}else T=p,E=b-n.offset,C=n.length;for(v<C&&(C=v),v-=C,n.length-=C;p[b++]=T[E++],--C;);0===n.length&&(n.mode=21);break;case 26:if(0===v)break e;p[b++]=n.length,v--,n.mode=21;break;case 27:if(n.wrap){for(;x<32;){if(0===y)break e;y--,$|=h[g++]<<x,x+=8}if(k-=v,e.total_out+=k,n.total+=k,k&&(e.adler=n.check=n.flags?o(n.check,p,k,b-k):s(n.check,p,k,b-k)),k=v,(n.flags?$:m($))!==n.check){e.msg="incorrect data check",n.mode=30;break}x=$=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;x<32;){if(0===y)break e;y--,$+=h[g++]<<x,x+=8}if($!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}x=$=0}n.mode=29;case 29:I=1;break e;case 30:I=-3;break e;case 31:return-4;default:return d}return e.next_out=b,e.avail_out=v,e.next_in=g,e.avail_in=y,n.hold=$,n.bits=x,(n.wsize||k!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&S(e,e.output,e.next_out,k-e.avail_out)?(n.mode=31,-4):(w-=e.avail_in,k-=e.avail_out,e.total_in+=w,e.total_out+=k,n.total+=k,n.wrap&&k&&(e.adler=n.check=n.flags?o(n.check,p,k,e.next_out-k):s(n.check,p,k,e.next_out-k)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==w&&0===k||4===t)&&I===u&&(I=-5),I)},n.inflateEnd=function(e){if(!e||!e.state)return d;var t=e.state;return t.window&&(t.window=null),e.state=null,u},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?d:((n.head=t).done=!1,u):d},n.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?d:11===n.mode&&s(1,t,r,0)!==n.check?-3:S(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,u):d},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){var r=e("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],i=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,l,c,u,d,f){var h,p,m,g,b,y,v,$,x,w=f.bits,k=0,_=0,S=0,C=0,E=0,T=0,L=0,j=0,A=0,R=0,B=null,N=0,D=new r.Buf16(16),I=new r.Buf16(16),O=null,P=0;for(k=0;k<=15;k++)D[k]=0;for(_=0;_<l;_++)D[t[n+_]]++;for(E=w,C=15;1<=C&&0===D[C];C--);if(C<E&&(E=C),0===C)return c[u++]=20971520,c[u++]=20971520,f.bits=1,0;for(S=1;S<C&&0===D[S];S++);for(E<S&&(E=S),k=j=1;k<=15;k++)if(j<<=1,(j-=D[k])<0)return-1;if(0<j&&(0===e||1!==C))return-1;for(I[1]=0,k=1;k<15;k++)I[k+1]=I[k]+D[k];for(_=0;_<l;_++)0!==t[n+_]&&(d[I[t[n+_]]++]=_);if(y=0===e?(B=O=d,19):1===e?(B=s,N-=257,O=o,P-=257,256):(B=i,O=a,-1),k=S,b=u,L=_=R=0,m=-1,g=(A=1<<(T=E))-1,1===e&&852<A||2===e&&592<A)return 1;for(;;){for(v=k-L,x=d[_]<y?($=0,d[_]):d[_]>y?($=O[P+d[_]],B[N+d[_]]):($=96,0),h=1<<k-L,S=p=1<<T;c[b+(R>>L)+(p-=h)]=v<<24|$<<16|x|0,0!==p;);for(h=1<<k-1;R&h;)h>>=1;if(0!==h?(R&=h-1,R+=h):R=0,_++,0==--D[k]){if(k===C)break;k=t[n+d[_]]}if(E<k&&(R&g)!==m){for(0===L&&(L=E),b+=S,j=1<<(T=k-L);T+L<C&&!((j-=D[T+L])<=0);)T++,j<<=1;if(A+=1<<T,1===e&&852<A||2===e&&592<A)return 1;c[m=R&g]=E<<24|T<<16|b-u|0}}return 0!==R&&(c[b+R]=k-L<<24|64<<16|0),f.bits=E,0}},{"../utils/common":41}],51:[function(e,t,n){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){var r=e("../utils/common"),s=0,o=1;function i(e){for(var t=e.length;0<=--t;)e[t]=0}var a=0,l=29,c=256,u=c+1+l,d=30,f=19,h=2*u+1,p=15,m=16,g=7,b=256,y=16,v=17,$=18,x=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],w=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],_=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S=new Array(2*(u+2));i(S);var C=new Array(2*d);i(C);var E=new Array(512);i(E);var T=new Array(256);i(T);var L=new Array(l);i(L);var j,A,R,B=new Array(d);function N(e,t,n,r,s){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=s,this.has_stree=e&&e.length}function D(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function I(e){return e<256?E[e]:E[256+(e>>>7)]}function O(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function P(e,t,n){e.bi_valid>m-n?(e.bi_buf|=t<<e.bi_valid&65535,O(e,e.bi_buf),e.bi_buf=t>>m-e.bi_valid,e.bi_valid+=n-m):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function z(e,t,n){P(e,n[2*t],n[2*t+1])}function M(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function F(e,t,n){var r,s,o=new Array(p+1),i=0;for(r=1;r<=p;r++)o[r]=i=i+n[r-1]<<1;for(s=0;s<=t;s++){var a=e[2*s+1];0!==a&&(e[2*s]=M(o[a]++,a))}}function H(e){var t;for(t=0;t<u;t++)e.dyn_ltree[2*t]=0;for(t=0;t<d;t++)e.dyn_dtree[2*t]=0;for(t=0;t<f;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*b]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function U(e){8<e.bi_valid?O(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function W(e,t,n,r){var s=2*t,o=2*n;return e[s]<e[o]||e[s]===e[o]&&r[t]<=r[n]}function q(e,t,n){for(var r=e.heap[n],s=n<<1;s<=e.heap_len&&(s<e.heap_len&&W(t,e.heap[s+1],e.heap[s],e.depth)&&s++,!W(t,r,e.heap[s],e.depth));)e.heap[n]=e.heap[s],n=s,s<<=1;e.heap[n]=r}function G(e,t,n){var r,s,o,i,a=0;if(0!==e.last_lit)for(;r=e.pending_buf[e.d_buf+2*a]<<8|e.pending_buf[e.d_buf+2*a+1],s=e.pending_buf[e.l_buf+a],a++,0===r?z(e,s,t):(z(e,(o=T[s])+c+1,t),0!==(i=x[o])&&P(e,s-=L[o],i),z(e,o=I(--r),n),0!==(i=w[o])&&P(e,r-=B[o],i)),a<e.last_lit;);z(e,b,t)}function K(e,t){var n,r,s,o=t.dyn_tree,i=t.stat_desc.static_tree,a=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=h,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(s=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[s]=0,e.opt_len--,a&&(e.static_len-=i[2*s+1]);for(t.max_code=c,n=e.heap_len>>1;1<=n;n--)q(e,o,n);for(s=l;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],q(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*s]=o[2*n]+o[2*r],e.depth[s]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=s,e.heap[1]=s++,q(e,o,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,s,o,i,a,l=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,m=t.stat_desc.extra_base,g=t.stat_desc.max_length,b=0;for(o=0;o<=p;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<h;n++)g<(o=l[2*l[2*(r=e.heap[n])+1]+1]+1)&&(o=g,b++),l[2*r+1]=o,c<r||(e.bl_count[o]++,i=0,m<=r&&(i=f[r-m]),a=l[2*r],e.opt_len+=a*(o+i),d&&(e.static_len+=a*(u[2*r+1]+i)));if(0!==b){do{for(o=g-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[g]--,b-=2}while(0<b);for(o=g;0!==o;o--)for(r=e.bl_count[o];0!==r;)c<(s=e.heap[--n])||(l[2*s+1]!==o&&(e.opt_len+=(o-l[2*s+1])*l[2*s],l[2*s+1]=o),r--)}}(e,t),F(o,c,e.bl_count)}function V(e,t,n){var r,s,o=-1,i=t[1],a=0,l=7,c=4;for(0===i&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)s=i,i=t[2*(r+1)+1],++a<l&&s===i||(a<c?e.bl_tree[2*s]+=a:0!==s?(s!==o&&e.bl_tree[2*s]++,e.bl_tree[2*y]++):a<=10?e.bl_tree[2*v]++:e.bl_tree[2*$]++,o=s,c=(a=0)===i?(l=138,3):s===i?(l=6,3):(l=7,4))}function Z(e,t,n){var r,s,o=-1,i=t[1],a=0,l=7,c=4;for(0===i&&(l=138,c=3),r=0;r<=n;r++)if(s=i,i=t[2*(r+1)+1],!(++a<l&&s===i)){if(a<c)for(;z(e,s,e.bl_tree),0!=--a;);else 0!==s?(s!==o&&(z(e,s,e.bl_tree),a--),z(e,y,e.bl_tree),P(e,a-3,2)):a<=10?(z(e,v,e.bl_tree),P(e,a-3,3)):(z(e,$,e.bl_tree),P(e,a-11,7));o=s,c=(a=0)===i?(l=138,3):s===i?(l=6,3):(l=7,4)}}i(B);var J=!1;function Y(e,t,n,s){P(e,(a<<1)+(s?1:0),3),function(e,t,n,s){U(e),s&&(O(e,n),O(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}n._tr_init=function(e){J||(function(){var e,t,n,r,s,o=new Array(p+1);for(r=n=0;r<l-1;r++)for(L[r]=n,e=0;e<1<<x[r];e++)T[n++]=r;for(T[n-1]=r,r=s=0;r<16;r++)for(B[r]=s,e=0;e<1<<w[r];e++)E[s++]=r;for(s>>=7;r<d;r++)for(B[r]=s<<7,e=0;e<1<<w[r]-7;e++)E[256+s++]=r;for(t=0;t<=p;t++)o[t]=0;for(e=0;e<=143;)S[2*e+1]=8,e++,o[8]++;for(;e<=255;)S[2*e+1]=9,e++,o[9]++;for(;e<=279;)S[2*e+1]=7,e++,o[7]++;for(;e<=287;)S[2*e+1]=8,e++,o[8]++;for(F(S,u+1,o),e=0;e<d;e++)C[2*e+1]=5,C[2*e]=M(e,5);j=new N(S,x,c+1,u,p),A=new N(C,w,0,d,p),R=new N(new Array(0),k,0,f,g)}(),J=!0),e.l_desc=new D(e.dyn_ltree,j),e.d_desc=new D(e.dyn_dtree,A),e.bl_desc=new D(e.bl_tree,R),e.bi_buf=0,e.bi_valid=0,H(e)},n._tr_stored_block=Y,n._tr_flush_block=function(e,t,n,r){var i,a,l=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return s;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return o;for(t=32;t<c;t++)if(0!==e.dyn_ltree[2*t])return o;return s}(e)),K(e,e.l_desc),K(e,e.d_desc),l=function(e){var t;for(V(e,e.dyn_ltree,e.l_desc.max_code),V(e,e.dyn_dtree,e.d_desc.max_code),K(e,e.bl_desc),t=f-1;3<=t&&0===e.bl_tree[2*_[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=i&&(i=a)):i=a=n+5,n+4<=i&&-1!==t?Y(e,t,n,r):4===e.strategy||a===i?(P(e,2+(r?1:0),3),G(e,S,C)):(P(e,4+(r?1:0),3),function(e,t,n,r){var s;for(P(e,t-257,5),P(e,n-1,5),P(e,r-4,4),s=0;s<r;s++)P(e,e.bl_tree[2*_[s]+1],3);Z(e,e.dyn_ltree,t-1),Z(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),G(e,e.dyn_ltree,e.dyn_dtree)),H(e),r&&U(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(T[n]+c+1)]++,e.dyn_dtree[2*I(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){P(e,2,3),z(e,b,S),function(e){16===e.bi_valid?(O(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,n){t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,n){(function(e){!function(e,t){if(!e.setImmediate){var n,r,s,o,i=1,a={},l=!1,c=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,n="[object process]"==={}.toString.call(e.process)?function(e){process.nextTick((function(){f(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(o="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",h,!1):e.attachEvent("onmessage",h),function(t){e.postMessage(o+t,"*")}):e.MessageChannel?((s=new MessageChannel).port1.onmessage=function(e){f(e.data)},function(e){s.port2.postMessage(e)}):c&&"onreadystatechange"in c.createElement("script")?(r=c.documentElement,function(e){var t=c.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):function(e){setTimeout(f,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var s={callback:e,args:t};return a[i]=s,n(i),i++},u.clearImmediate=d}function d(e){delete a[e]}function f(e){if(l)setTimeout(f,0,e);else{var n=a[e];if(n){l=!0;try{!function(e){var n=e.callback,r=e.args;switch(r.length){case 0:n();break;case 1:n(r[0]);break;case 2:n(r[0],r[1]);break;case 3:n(r[0],r[1],r[2]);break;default:n.apply(t,r)}}(n)}finally{d(e),l=!1}}}}function h(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&f(+t.data.slice(o.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,void 0!==Ws?Ws:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)}));
/*!

    JSZip v3.10.0 - A JavaScript class for generating and reading zip files
    <http://stuartk.com/jszip>

    (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
    Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

    JSZip uses the library pako released under the MIT license :
    https://github.com/nodeca/pako/blob/main/LICENSE
    */const{models:Zs,enums:Js,formatting:Ys}=window.S4TK,Xs="StblStudioDownload";async function Qs(e,t,n,r){return new Promise((async(s,o)=>{try{const o=e.map((e=>function(e,t,n,r){switch(n){case"package":return[eo(e,t)];case"stbl":return function(e,t,n){return t.map((t=>{const r=e.stbl.getStringTable(t);return{filename:no(e,t,"stbl",n),data:new Blob([r.getBuffer()])}}))}(e,t,r);case"json":return function(e,t,n){return t.map((t=>{const r=e.stbl.getJson(t,!0);let s;if(nt.useObjectJson){const e={};r.forEach((({key:t,value:n})=>e[t]=n)),s=JSON.stringify(e,null,2)}else s=JSON.stringify(r,null,2);return{filename:no(e,t,"json",n),data:new Blob([s])}}))}(e,t,r)}}(e,t,n,r)));if(1===o.length){const[t]=o;if(1===t.length)s(t[0]);else{const n=ro(e[0].metaData.name);s(await to(n,t))}}else 1===o[0].length&&"project"===r?s(await to(Xs,o.map((e=>e[0])))):s(await async function(e,t,n){return new Promise((async r=>{const s=new Vs;t.forEach(((e,t)=>{const r=s.folder(n[t]);e.forEach((e=>{r.file(e.filename,e.data)}))})),r({filename:e+".zip",data:await s.generateAsync({type:"blob"})})}))}(Xs,o,e.map((e=>ro(e.metaData.name)))))}catch(e){o(e)}}))}function eo(e,t){const n=new Zs.Package(t.map((t=>({key:so(e,t),value:e.stbl.getStringTable(t)}))));return{filename:`${ro(e.metaData.name)}.package`,data:new Blob([n.getBuffer()])}}async function to(e,t){return new Promise((async n=>{const r=new Vs;t.forEach((e=>r.file(e.filename,e.data))),n({filename:e+".zip",data:await r.generateAsync({type:"blob"})})}))}function no(e,t,n,r){let s;if("project"===r)s=`${ro(e.metaData.name)}_${Js.StringTableLocale[t]}`;else{const n=so(e,t);s="s4s"===r?`${Ys.formatResourceKey(n,"!")}.${Js.StringTableLocale[t]}`:`S4_${Ys.formatResourceKey(n,"_")}`}return`${s}.${n}`}function ro(e){return e.replace(/\W/g,"")}function so(e,t){return{type:Js.BinaryResourceType.StringTable,group:e.metaData.group,instance:Js.StringTableLocale.setHighByte(t,e.metaData.instance)}}function oo(e){let t,n;return{c(){t=C("p"),n=E(e[1])},m(e,r){_(e,t,r),x(t,n)},p(e,t){2&t&&B(n,e[1])},d(e){e&&S(t)}}}function io(e){let t,n,r,s,o,i,a,l,c,u,d,f,h,p,m=e[1]&&oo(e);function g(t){e[12](t)}let b={label:"download as",name:"file-type-select",fillWidth:!0,options:e[5]};function y(t){e[13](t)}void 0!==e[2].downloadFileType&&(b.selected=e[2].downloadFileType),s=new nr({props:b}),J.push((()=>Ee(s,"selected",g)));let v={label:"locales",name:"locales-select",fillWidth:!0,options:e[6]};function $(t){e[14](t)}void 0!==e[2].downloadLocales&&(v.selected=e[2].downloadLocales),a=new nr({props:v}),J.push((()=>Ee(a,"selected",y)));let w={label:"naming convention",name:"naming-convention-select",disabled:e[3],fillWidth:!0,options:e[7]};return void 0!==e[2].downloadNamingConvention&&(w.selected=e[2].downloadNamingConvention),u=new nr({props:w}),J.push((()=>Ee(u,"selected",$))),{c(){t=C("div"),m&&m.c(),n=T(),r=C("div"),Te(s.$$.fragment),i=T(),Te(a.$$.fragment),c=T(),Te(u.$$.fragment),f=T(),h=C("p"),h.textContent="If downloading multiple files, they will be zipped.",A(r,"class","w-full flex flex-wrap sm:flex-nowrap gap-4"),A(h,"class","text-subtle text-xs"),A(t,"class","flex flex-col gap-6")},m(e,o){_(e,t,o),m&&m.m(t,null),x(t,n),x(t,r),Le(s,r,null),x(r,i),Le(a,r,null),x(r,c),Le(u,r,null),x(t,f),x(t,h),p=!0},p(e,r){e[1]?m?m.p(e,r):(m=oo(e),m.c(),m.m(t,n)):m&&(m.d(1),m=null);const i={};!o&&4&r&&(o=!0,i.selected=e[2].downloadFileType,se((()=>o=!1))),s.$set(i);const c={};!l&&4&r&&(l=!0,c.selected=e[2].downloadLocales,se((()=>l=!1))),a.$set(c);const f={};8&r&&(f.disabled=e[3]),!d&&4&r&&(d=!0,f.selected=e[2].downloadNamingConvention,se((()=>d=!1))),u.$set(f)},i(e){p||(ge(s.$$.fragment,e),ge(a.$$.fragment,e),ge(u.$$.fragment,e),p=!0)},o(e){be(s.$$.fragment,e),be(a.$$.fragment,e),be(u.$$.fragment,e),p=!1},d(e){e&&S(t),m&&m.d(),je(s),je(a),je(u)}}}function ao(e){let t,n,r,s;function o(t){e[15](t)}let i={pageNumber:1,$$slots:{default:[io]},$$scope:{ctx:e}};return void 0!==e[4]&&(i.state=e[4]),n=new Pn({props:i}),J.push((()=>Ee(n,"state",o))),{c(){t=C("div"),Te(n.$$.fragment),A(t,"slot","content"),A(t,"class","w-full py-2")},m(e,r){_(e,t,r),Le(n,t,null),s=!0},p(e,t){const s={};524302&t&&(s.$$scope={dirty:t,ctx:e}),!r&&16&t&&(r=!0,s.state=e[4],se((()=>r=!1))),n.$set(s)},i(e){s||(ge(n.$$.fragment,e),s=!0)},o(e){be(n.$$.fragment,e),s=!1},d(e){e&&S(t),je(n)}}}function lo(e){let t,n,r;function s(t){e[16](t)}let o={numPages:1,onLastPageComplete:e[8],title:e[0],completeButton:"Download",$$slots:{content:[ao]},$$scope:{ctx:e}};return void 0!==e[4]&&(o.state=e[4]),t=new Nn({props:o}),J.push((()=>Ee(t,"state",s))),{c(){Te(t.$$.fragment)},m(e,n){Le(t,e,n),r=!0},p(e,[r]){const s={};1&r&&(s.title=e[0]),524318&r&&(s.$$scope={dirty:r,ctx:e}),!n&&16&r&&(n=!0,s.state=e[4],se((()=>n=!1))),t.$set(s)},i(e){r||(ge(t.$$.fragment,e),r=!0)},o(e){be(t.$$.fragment,e),r=!1},d(e){je(t,e)}}}function co(e,t,n){const{enums:r}=window.S4TK;let{title:s}=t,{detail:o=null}=t,{onComplete:i}=t,{project:a=null}=t,{projects:l=null}=t,c=!1;const u=l??[a],d=[{value:Je.allLocales,text:"All Locales"},...r.StringTableLocale.all().map((e=>({value:e,text:ir(e)})))];let f={currentPage:1,nextButtonEnabled:!0};return e.$$set=e=>{"title"in e&&n(0,s=e.title),"detail"in e&&n(1,o=e.detail),"onComplete"in e&&n(9,i=e.onComplete),"project"in e&&n(10,a=e.project),"projects"in e&&n(11,l=e.projects)},e.$$.update=()=>{12&e.$$.dirty&&(n(3,c="package"===nt.downloadFileType),c&&n(2,nt.downloadNamingConvention="project",nt))},[s,o,nt,c,f,[{value:"package",text:"Package"},{value:"stbl",text:"String Table"},{value:"json",text:"JSON"}],d,[{value:"s4s",text:"S4S"},{value:"s4pi",text:"S4PI"},{value:"project",text:"Project Name"}],async function(){Qs(u,nt.downloadLocales===Je.allLocales?r.StringTableLocale.all():[nt.downloadLocales],nt.downloadFileType,nt.downloadNamingConvention).then((({filename:e,data:t})=>{Ks.saveAs(t,e),i()})).catch((e=>{alert("Something went wrong and your file(s) could not be downloaded. Please report this."),console.error(e),i()}))},i,a,l,function(t){e.$$.not_equal(nt.downloadFileType,t)&&(nt.downloadFileType=t,n(2,nt),n(3,c))},function(t){e.$$.not_equal(nt.downloadLocales,t)&&(nt.downloadLocales=t,n(2,nt),n(3,c))},function(t){e.$$.not_equal(nt.downloadNamingConvention,t)&&(nt.downloadNamingConvention=t,n(2,nt),n(3,c))},function(e){f=e,n(4,f)},function(e){f=e,n(4,f)}]}class uo extends Re{constructor(e){super(),Ae(this,e,co,lo,a,{title:0,detail:1,onComplete:9,project:10,projects:11})}}function fo(e){let t,n;return t=new uo({props:{onComplete:e[0],title:"Download Projects",detail:"Download the "+e[2]+" you have selected.",projects:e[3]}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.onComplete=e[0]),4&n&&(r.detail="Download the "+e[2]+" you have selected."),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function ho(e){let t,n,r=e[1]&&fo(e);return{c(){r&&r.c(),t=L()},m(e,s){r&&r.m(e,s),_(e,t,s),n=!0},p(e,[n]){e[1]?r?(r.p(e,n),2&n&&ge(r,1)):(r=fo(e),r.c(),ge(r,1),r.m(t.parentNode,t)):r&&(pe(),be(r,1,1,(()=>{r=null})),me())},i(e){n||(ge(r),n=!0)},o(e){be(r),n=!1},d(e){r&&r.d(e),e&&S(t)}}}function po(e,t,n){let r,{onComplete:s}=t,{selectionGroup:o}=t;const i=o.allSelectedItems;let a=!1;return G((async()=>{for(let e=0;e<i.length;++e)await i[e].loadStringTable();n(1,a=!0)})),e.$$set=e=>{"onComplete"in e&&n(0,s=e.onComplete),"selectionGroup"in e&&n(4,o=e.selectionGroup)},n(2,r=1===i.length?"1 project":`${i.length} projects`),[s,a,r,i,o]}class mo extends Re{constructor(e){super(),Ae(this,e,po,ho,a,{onComplete:0,selectionGroup:4})}}function go(e,t){return new RegExp(`^(0x|0X)?([0-9A-F]{${t}})$`,"i").test(e)}function bo(e){let t,n,r;return{c(){t=C("input"),A(t,"class","hover:cursor-pointer"),A(t,"type","checkbox")},m(s,o){_(s,t,o),t.checked=e[0],n||(r=j(t,"change",e[5]),n=!0)},p(e,n){1&n&&(t.checked=e[0])},d(e){e&&S(t),n=!1,r()}}}function yo(e){let t,n,r;return{c(){t=C("input"),A(t,"class","hover:cursor-pointer"),A(t,"type","checkbox")},m(s,o){_(s,t,o),t.checked=e[1].checked,n||(r=j(t,"change",e[4]),n=!0)},p(e,n){2&n&&(t.checked=e[1].checked)},d(e){e&&S(t),n=!1,r()}}}function vo(t){let n,r,s,o;function i(e,t){return e[1]?yo:bo}let a=i(t),l=a(t);return{c(){n=C("div"),r=C("label"),l.c(),s=T(),o=E(t[2]),A(r,"class","hover:cursor-pointer"),A(n,"class","flex whitespace-nowrap"),I(n,"w-full",t[3]),I(n,"items-center",t[3])},m(e,t){_(e,n,t),x(n,r),l.m(r,null),x(r,s),x(r,o)},p(e,[t]){a===(a=i(e))&&l?l.p(e,t):(l.d(1),l=a(e),l&&(l.c(),l.m(r,s))),4&t&&B(o,e[2]),8&t&&I(n,"w-full",e[3]),8&t&&I(n,"items-center",e[3])},i:e,o:e,d(e){e&&S(n),l.d()}}}function $o(e,t,n){let{label:r}=t,{fillAndCenter:s=!1}=t,{checked:o}=t,{checkable:i}=t;return e.$$set=e=>{"label"in e&&n(2,r=e.label),"fillAndCenter"in e&&n(3,s=e.fillAndCenter),"checked"in e&&n(0,o=e.checked),"checkable"in e&&n(1,i=e.checkable)},[o,i,r,s,function(){i.checked=this.checked,n(1,i)},function(){o=this.checked,n(0,o)}]}class xo extends Re{constructor(e){super(),Ae(this,e,$o,vo,a,{label:2,fillAndCenter:3,checked:0,checkable:1})}}var wo=qs((function(e,t){function n(e){return a(e),i(e,8,!1)}function r(e){return a(e),i(e,8,!1)}function s(e){return function(e){if(e<0n||e>0xffffffffffffffffn)throw new Error(`Expected value to be a positive, 64-bit integer, but got ${e}.`)}(e),i(e,16,!1)}function o(e,t,o,i=":"){return`${n(e)}${i}${r(t)}${i}${s(o)}`}function i(e,t,n=!1){return`${n?"0x":""}${e.toString(16).padStart(t,"0").toUpperCase()}`}function a(e){if(Number.isNaN(e)||e<0||e>4294967295)throw new Error(`Expected value to be a positive, 32-bit integer, but got ${e}.`)}Object.defineProperty(t,"__esModule",{value:!0}),t.formatAsHexString=t.formatResourceKey=t.formatResourceTGI=t.formatResourceInstance=t.formatResourceGroup=t.formatResourceType=t.formatStringKey=void 0,t.formatStringKey=function(e){return a(e),i(e,8,!0)},t.formatResourceType=n,t.formatResourceGroup=r,t.formatResourceInstance=s,t.formatResourceTGI=o,t.formatResourceKey=function(e,t=":"){return o(e.type,e.group,e.instance,t)},t.formatAsHexString=i}));function ko(e,t,n){const r=e.slice();return r[37]=t[n],r[38]=t,r[39]=n,r}function _o(e){let t,n;return{c(){t=C("p"),n=E(e[7]),A(t,"class","text-subtle text-xs mb-2")},m(e,r){_(e,t,r),x(t,n)},p(e,t){128&t[0]&&B(n,e[7])},d(e){e&&S(t)}}}function So(e){let t,n,r,s,o,i,a,l,c,u,d,f,h,p,m,g,b,y,v,$,w,k=Boolean(e[7]);function E(t){e[18](t)}function L(t){e[19](t)}let j={label:"project name",name:"project-name-input",placeholder:"Project name...",fillWidth:!0,focusOnMount:!0,validators:[{test:Ao,message:"Must be non-empty"},{test:Ro,message:"Cannot exceed 50 characters"},{test:e[17],message:"Names must be unique"}]};function R(t){e[21](t)}function B(t){e[22](t)}void 0!==e[2]&&(j.value=e[2]),void 0!==e[10]&&(j.isValid=e[10]),n=new vn({props:j}),J.push((()=>Ee(n,"value",E))),J.push((()=>Ee(n,"isValid",L)));let N={label:"group",name:"project-group-input",placeholder:"Group",fillWidth:!0,monospace:!0,validators:[{test:e[20],message:"Must be 8-digit hex"}]};function D(t){e[26](t)}function I(t){e[27](t)}void 0!==e[3]&&(N.value=e[3]),void 0!==e[11]&&(N.isValid=e[11]),a=new vn({props:N}),J.push((()=>Ee(a,"value",R))),J.push((()=>Ee(a,"isValid",B)));let O={label:"instance",name:"project-instance-input",placeholder:"Instance",fillWidth:!0,monospace:!0,validators:[{test:e[23],message:"Must be 14-digit hex"},{test:e[24],message:"Must be non-zero"},{isWarning:!0,test:e[25],message:"Instances should be unique"}]};function P(t){e[28](t)}void 0!==e[4]&&(O.value=e[4]),void 0!==e[12]&&(O.isValid=e[12]),d=new vn({props:O}),J.push((()=>Ee(d,"value",D))),J.push((()=>Ee(d,"isValid",I)));let z={label:"primary locale",fillWidth:!0};void 0!==e[1]&&(z.selected=e[1]),m=new cr({props:z}),J.push((()=>Ee(m,"selected",P)));let M=k&&_o(e);return{c(){t=C("div"),Te(n.$$.fragment),o=T(),i=C("div"),Te(a.$$.fragment),u=T(),Te(d.$$.fragment),p=T(),Te(m.$$.fragment),b=T(),y=C("div"),M&&M.c(),v=T(),$=C("p"),$.textContent="The 2-digit locale code will automatically be prepended to the instance.",A(i,"class","flex gap-4 flex-wrap sm:flex-nowrap"),A($,"class","text-subtle text-xs"),A(y,"class","mt-2"),A(t,"class","w-full flex flex-col gap-4")},m(e,r){_(e,t,r),Le(n,t,null),x(t,o),x(t,i),Le(a,i,null),x(i,u),Le(d,i,null),x(i,p),Le(m,i,null),x(t,b),x(t,y),M&&M.m(y,null),x(y,v),x(y,$),w=!0},p(e,t){const o={};8704&t[0]&&(o.validators=[{test:Ao,message:"Must be non-empty"},{test:Ro,message:"Cannot exceed 50 characters"},{test:e[17],message:"Names must be unique"}]),!r&&4&t[0]&&(r=!0,o.value=e[2],se((()=>r=!1))),!s&&1024&t[0]&&(s=!0,o.isValid=e[10],se((()=>s=!1))),n.$set(o);const i={};!l&&8&t[0]&&(l=!0,i.value=e[3],se((()=>l=!1))),!c&&2048&t[0]&&(c=!0,i.isValid=e[11],se((()=>c=!1))),a.$set(i);const u={};8704&t[0]&&(u.validators=[{test:e[23],message:"Must be 14-digit hex"},{test:e[24],message:"Must be non-zero"},{isWarning:!0,test:e[25],message:"Instances should be unique"}]),!f&&16&t[0]&&(f=!0,u.value=e[4],se((()=>f=!1))),!h&&4096&t[0]&&(h=!0,u.isValid=e[12],se((()=>h=!1))),d.$set(u);const p={};!g&&2&t[0]&&(g=!0,p.selected=e[1],se((()=>g=!1))),m.$set(p),128&t[0]&&(k=Boolean(e[7])),k?M?M.p(e,t):(M=_o(e),M.c(),M.m(y,v)):M&&(M.d(1),M=null)},i(e){w||(ge(n.$$.fragment,e),ge(a.$$.fragment,e),ge(d.$$.fragment,e),ge(m.$$.fragment,e),w=!0)},o(e){be(n.$$.fragment,e),be(a.$$.fragment,e),be(d.$$.fragment,e),be(m.$$.fragment,e),w=!1},d(e){e&&S(t),je(n),je(a),je(d),je(m),M&&M.d()}}}function Co(e){let t,n;return{c(){t=C("p"),n=E(e[8]),A(t,"class","mb-6")},m(e,r){_(e,t,r),x(t,n)},p(e,t){256&t[0]&&B(n,e[8])},d(e){e&&S(t)}}}function Eo(e){let t,n,r;function s(t){e[32](t,e[37],e[38],e[39])}let o={label:e[37].displayName};return void 0!==e[37]&&(o.checkable=e[37]),t=new xo({props:o}),J.push((()=>Ee(t,"checkable",s))),{c(){Te(t.$$.fragment)},m(e,n){Le(t,e,n),r=!0},p(r,s){e=r;const o={};32&s[0]&&(o.label=e[37].displayName),!n&&32&s[0]&&(n=!0,o.checkable=e[37],se((()=>n=!1))),t.$set(o)},i(e){r||(ge(t.$$.fragment,e),r=!0)},o(e){be(t.$$.fragment,e),r=!1},d(e){je(t,e)}}}function To(e,t){let n,r,s,o=t[37].locale!==t[1]&&Eo(t);return{key:e,first:null,c(){n=L(),o&&o.c(),r=L(),this.first=n},m(e,t){_(e,n,t),o&&o.m(e,t),_(e,r,t),s=!0},p(e,n){(t=e)[37].locale!==t[1]?o?(o.p(t,n),34&n[0]&&ge(o,1)):(o=Eo(t),o.c(),ge(o,1),o.m(r.parentNode,r)):o&&(pe(),be(o,1,1,(()=>{o=null})),me())},i(e){s||(ge(o),s=!0)},o(e){be(o),s=!1},d(e){e&&S(n),o&&o.d(e),e&&S(r)}}}function Lo(e){let t,n,r,s,i,a,l,c,u,d,f,h,p,m=Boolean(e[8]),g=[],b=new Map,y=m&&Co(e),v=e[5];const $=e=>e[39];for(let t=0;t<v.length;t+=1){let n=ko(e,v,t),r=$(n);b.set(r,g[t]=To(r,n))}return{c(){t=C("div"),y&&y.c(),n=T(),r=C("div"),s=C("div"),i=C("button"),i.textContent="select all",a=T(),l=C("button"),l.textContent="deselect all",c=T(),u=C("div");for(let e=0;e<g.length;e+=1)g[e].c();A(i,"class","uppercase text-sm text-subtle hover:text-black dark:hover:text-white"),A(l,"class","uppercase text-sm text-subtle hover:text-black dark:hover:text-white"),A(s,"class","flex gap-4 mb-3"),A(u,"class","flex flex-wrap gap-3 text-sm"),A(t,"class","w-full")},m(o,d){_(o,t,d),y&&y.m(t,null),x(t,n),x(t,r),x(r,s),x(s,i),x(s,a),x(s,l),x(r,c),x(r,u);for(let e=0;e<g.length;e+=1)g[e].m(u,null);f=!0,h||(p=[j(i,"click",e[30]),j(l,"click",e[31])],h=!0)},p(r,s){e=r,256&s[0]&&(m=Boolean(e[8])),m?y?y.p(e,s):(y=Co(e),y.c(),y.m(t,n)):y&&(y.d(1),y=null),34&s[0]&&(v=e[5],pe(),g=_e(g,s,$,1,e,v,b,u,ke,To,null,ko),me())},i(e){if(!f){for(let e=0;e<v.length;e+=1)ge(g[e]);d||re((()=>{d=ve(t,ft,{duration:nt.reduceMotion?0:500}),d.start()})),f=!0}},o(e){for(let e=0;e<g.length;e+=1)be(g[e]);f=!1},d(e){e&&S(t),y&&y.d();for(let e=0;e<g.length;e+=1)g[e].d();h=!1,o(p)}}}function jo(e){let t,n,r,s,o,i;function a(t){e[29](t)}let l={pageNumber:e[6],$$slots:{default:[So]},$$scope:{ctx:e}};function c(t){e[33](t)}void 0!==e[0]&&(l.state=e[0]),t=new Pn({props:l}),J.push((()=>Ee(t,"state",a)));let u={pageNumber:e[6]+1,$$slots:{default:[Lo]},$$scope:{ctx:e}};return void 0!==e[0]&&(u.state=e[0]),s=new Pn({props:u}),J.push((()=>Ee(s,"state",c))),{c(){Te(t.$$.fragment),r=T(),Te(s.$$.fragment)},m(e,n){Le(t,e,n),_(e,r,n),Le(s,e,n),i=!0},p(e,r){const i={};64&r[0]&&(i.pageNumber=e[6]),16030&r[0]|512&r[1]&&(i.$$scope={dirty:r,ctx:e}),!n&&1&r[0]&&(n=!0,i.state=e[0],se((()=>n=!1))),t.$set(i);const a={};64&r[0]&&(a.pageNumber=e[6]+1),290&r[0]|512&r[1]&&(a.$$scope={dirty:r,ctx:e}),!o&&1&r[0]&&(o=!0,a.state=e[0],se((()=>o=!1))),s.$set(a)},i(e){i||(ge(t.$$.fragment,e),ge(s.$$.fragment,e),i=!0)},o(e){be(t.$$.fragment,e),be(s.$$.fragment,e),i=!1},d(e){je(t,e),e&&S(r),je(s,e)}}}const Ao=e=>e.trim().length>0,Ro=e=>e.trim().length<=50;function Bo(e,t,n){const{enums:r}=window.S4TK;let s,{startingPageNumber:o=1}=t,{multipageState:i}=t,{firstPageValid:a}=t,{tgiChoicesDetail:l=null}=t,{localeChoicesDetail:c=null}=t,{uuid:u}=t,{projectName:d}=t,{groupHexString:f}=t,{instanceHexString:h}=t,{primaryLocale:p}=t,{localeChoices:m}=t,{checkedLocales:g=new Set}=t,b=!1,y=!1,v=!1;const $=[pt.subscribe((e=>{n(13,s=e)}))];function x(e){m.forEach((t=>{t.checked=e})),n(5,m)}function w(){n(5,m=r.StringTableLocale.all().map((e=>({checked:g.has(e)||e===p,displayName:ir(e),locale:e})))),n(16,g=new Set(m.filter((e=>e.checked)).map((e=>e.locale))))}K((()=>{$.forEach((e=>e()))}));return e.$$set=e=>{"startingPageNumber"in e&&n(6,o=e.startingPageNumber),"multipageState"in e&&n(0,i=e.multipageState),"firstPageValid"in e&&n(15,a=e.firstPageValid),"tgiChoicesDetail"in e&&n(7,l=e.tgiChoicesDetail),"localeChoicesDetail"in e&&n(8,c=e.localeChoicesDetail),"uuid"in e&&n(9,u=e.uuid),"projectName"in e&&n(2,d=e.projectName),"groupHexString"in e&&n(3,f=e.groupHexString),"instanceHexString"in e&&n(4,h=e.instanceHexString),"primaryLocale"in e&&n(1,p=e.primaryLocale),"localeChoices"in e&&n(5,m=e.localeChoices),"checkedLocales"in e&&n(16,g=e.checkedLocales)},e.$$.update=()=>{7168&e.$$.dirty[0]&&n(15,a=b&&y&&v),2&e.$$.dirty[0]&&w(),65&e.$$.dirty[0]&&i.currentPage>=o+1&&w()},[i,p,d,f,h,m,o,l,c,u,b,y,v,s,x,a,g,e=>!s.projects.some((t=>t.uuid!==u&&t.metaData.name===e)),function(e){d=e,n(2,d)},function(e){b=e,n(10,b)},e=>go(e,8),function(e){f=e,n(3,f)},function(e){y=e,n(11,y)},e=>go(e,14),e=>0n!==BigInt(e.startsWith("0x")?e:`0x${e}`),e=>!s.projects.some((t=>t.uuid!==u&&wo.formatAsHexString(t.metaData.instance,14,!1)===e.replace("0x","").toUpperCase())),function(e){h=e,n(4,h)},function(e){v=e,n(12,v)},function(e){p=e,n(1,p)},function(e){i=e,n(0,i)},()=>x(!0),()=>x(!1),function(e,t,r,s){r[s]=e,n(5,m)},function(e){i=e,n(0,i)}]}class No extends Re{constructor(e){super(),Ae(this,e,Bo,jo,a,{startingPageNumber:6,multipageState:0,firstPageValid:15,tgiChoicesDetail:7,localeChoicesDetail:8,uuid:9,projectName:2,groupHexString:3,instanceHexString:4,primaryLocale:1,localeChoices:5,checkedLocales:16},null,[-1,-1])}}function Do(e){let t,n,r,s,o,i,a,l,c,u;function d(t){e[9](t)}function f(t){e[10](t)}function h(t){e[11](t)}function p(t){e[12](t)}function m(t){e[13](t)}function g(t){e[14](t)}function b(t){e[15](t)}let y={uuid:e[6],tgiChoicesDetail:"The instance is the hash of the UUID by default, but it can be changed\n      manually.",localeChoicesDetail:"Select any locales you want to track translations for. You can still download locales that are not included, but they will contain the same text as your primary locale."};return void 0!==e[5]&&(y.multipageState=e[5]),void 0!==e[5].nextButtonEnabled&&(y.firstPageValid=e[5].nextButtonEnabled),void 0!==e[0]&&(y.projectName=e[0]),void 0!==e[1]&&(y.groupHexString=e[1]),void 0!==e[2]&&(y.instanceHexString=e[2]),void 0!==e[3]&&(y.primaryLocale=e[3]),void 0!==e[4]&&(y.localeChoices=e[4]),n=new No({props:y}),J.push((()=>Ee(n,"multipageState",d))),J.push((()=>Ee(n,"firstPageValid",f))),J.push((()=>Ee(n,"projectName",h))),J.push((()=>Ee(n,"groupHexString",p))),J.push((()=>Ee(n,"instanceHexString",m))),J.push((()=>Ee(n,"primaryLocale",g))),J.push((()=>Ee(n,"localeChoices",b))),{c(){t=C("div"),Te(n.$$.fragment),A(t,"slot","content"),A(t,"class","w-full")},m(e,r){_(e,t,r),Le(n,t,null),u=!0},p(e,t){const u={};!r&&32&t&&(r=!0,u.multipageState=e[5],se((()=>r=!1))),!s&&32&t&&(s=!0,u.firstPageValid=e[5].nextButtonEnabled,se((()=>s=!1))),!o&&1&t&&(o=!0,u.projectName=e[0],se((()=>o=!1))),!i&&2&t&&(i=!0,u.groupHexString=e[1],se((()=>i=!1))),!a&&4&t&&(a=!0,u.instanceHexString=e[2],se((()=>a=!1))),!l&&8&t&&(l=!0,u.primaryLocale=e[3],se((()=>l=!1))),!c&&16&t&&(c=!0,u.localeChoices=e[4],se((()=>c=!1))),n.$set(u)},i(e){u||(ge(n.$$.fragment,e),u=!0)},o(e){be(n.$$.fragment,e),u=!1},d(e){e&&S(t),je(n)}}}function Io(e){let t,n,r;function s(t){e[16](t)}let o={title:"New Project",subtitle:"UUID: "+e[6],numPages:2,minimumContentHeight:"220",centerVertically:!0,completeButton:"Create",onLastPageComplete:e[7],$$slots:{content:[Do]},$$scope:{ctx:e}};return void 0!==e[5]&&(o.state=e[5]),t=new Nn({props:o}),J.push((()=>Ee(t,"state",s))),{c(){Te(t.$$.fragment)},m(e,n){Le(t,e,n),r=!0},p(e,[r]){const s={};4194367&r&&(s.$$scope={dirty:r,ctx:e}),!n&&32&r&&(n=!0,s.state=e[5],se((()=>n=!1))),t.$set(s)},i(e){r||(ge(t.$$.fragment,e),r=!0)},o(e){be(t.$$.fragment,e),r=!1},d(e){je(t,e)}}}function Oo(e,t,n){const{enums:r}=window.S4TK,{fnv64:s}=window.S4TK.hashing,{formatAsHexString:o}=window.S4TK.formatting;let{onComplete:i}=t;const a=hs();let l,c,u="",d="80000000",f=o(r.StringTableLocale.getInstanceBase(s(a,!1)),14,!1),h=nt.defaultLocale,p={currentPage:1,nextButtonEnabled:!1};const m=[pt.subscribe((e=>{e&&(c=e)}))];return K((()=>{m.forEach((e=>e()))})),e.$$set=e=>{"onComplete"in e&&n(8,i=e.onComplete)},[u,d,f,h,l,p,a,function(){const e=new ss(h,new Set(l.filter((e=>e.checked)).map((e=>e.locale)))),t=new $s(a,{name:u,group:parseInt(d,16),instance:BigInt(f.startsWith("0x")?f:`0x${f}`),flags:0,numEntries:e.numEntries,numLocales:e.numLocales,primaryLocale:h},e);c.addProject(t),i()},i,function(e){p=e,n(5,p)},function(t){e.$$.not_equal(p.nextButtonEnabled,t)&&(p.nextButtonEnabled=t,n(5,p))},function(e){u=e,n(0,u)},function(e){d=e,n(1,d)},function(e){f=e,n(2,f)},function(e){h=e,n(3,h)},function(e){l=e,n(4,l)},function(e){p=e,n(5,p)}]}class Po extends Re{constructor(e){super(),Ae(this,e,Oo,Io,a,{onComplete:8})}}
/* @license
    Papa Parse
    v5.4.1
    https://github.com/mholt/PapaParse
    License: MIT
    */var zo=qs((function(e,t){e.exports=function e(){var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},n=!t.document&&!!t.postMessage,r=t.IS_PAPA_WORKER||!1,s={},o=0,i={parse:function(n,r){var a=(r=r||{}).dynamicTyping||!1;if(x(a)&&(r.dynamicTypingFunction=a,a={}),r.dynamicTyping=a,r.transform=!!x(r.transform)&&r.transform,r.worker&&i.WORKERS_SUPPORTED){var l=function(){if(!i.WORKERS_SUPPORTED)return!1;var n,r,a=(n=t.URL||t.webkitURL||null,r=e.toString(),i.BLOB_URL||(i.BLOB_URL=n.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",r,")();"],{type:"text/javascript"})))),l=new t.Worker(a);return l.onmessage=g,l.id=o++,s[l.id]=l}();return l.userStep=r.step,l.userChunk=r.chunk,l.userComplete=r.complete,l.userError=r.error,r.step=x(r.step),r.chunk=x(r.chunk),r.complete=x(r.complete),r.error=x(r.error),delete r.worker,void l.postMessage({input:n,config:r,workerId:l.id})}var h=null;return i.NODE_STREAM_INPUT,"string"==typeof n?(n=function(e){return 65279===e.charCodeAt(0)?e.slice(1):e}(n),h=r.download?new c(r):new d(r)):!0===n.readable&&x(n.read)&&x(n.on)?h=new f(r):(t.File&&n instanceof File||n instanceof Object)&&(h=new u(r)),h.stream(n)},unparse:function(e,t){var n=!1,r=!0,s=",",o="\r\n",a='"',l=a+a,c=!1,u=null,d=!1;!function(){if("object"==typeof t){if("string"!=typeof t.delimiter||i.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(s=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(c=t.skipEmptyLines),"string"==typeof t.newline&&(o=t.newline),"string"==typeof t.quoteChar&&(a=t.quoteChar),"boolean"==typeof t.header&&(r=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");u=t.columns}void 0!==t.escapeChar&&(l=t.escapeChar+a),("boolean"==typeof t.escapeFormulae||t.escapeFormulae instanceof RegExp)&&(d=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var f=new RegExp(p(a),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return h(null,e,c);if("object"==typeof e[0])return h(u||Object.keys(e[0]),e,c)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||u),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),h(e.fields||[],e.data||[],c);throw new Error("Unable to serialize unrecognized input");function h(e,t,n){var i="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var a=Array.isArray(e)&&0<e.length,l=!Array.isArray(t[0]);if(a&&r){for(var c=0;c<e.length;c++)0<c&&(i+=s),i+=m(e[c],c);0<t.length&&(i+=o)}for(var u=0;u<t.length;u++){var d=a?e.length:t[u].length,f=!1,h=a?0===Object.keys(t[u]).length:0===t[u].length;if(n&&!a&&(f="greedy"===n?""===t[u].join("").trim():1===t[u].length&&0===t[u][0].length),"greedy"===n&&a){for(var p=[],g=0;g<d;g++){var b=l?e[g]:g;p.push(t[u][b])}f=""===p.join("").trim()}if(!f){for(var y=0;y<d;y++){0<y&&!h&&(i+=s);var v=a&&l?e[y]:y;i+=m(t[u][v],y)}u<t.length-1&&(!n||0<d&&!h)&&(i+=o)}}return i}function m(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var r=!1;d&&"string"==typeof e&&d.test(e)&&(e="'"+e,r=!0);var o=e.toString().replace(f,l);return(r=r||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1}(o,i.BAD_DELIMITERS)||-1<o.indexOf(s)||" "===o.charAt(0)||" "===o.charAt(o.length-1))?a+o+a:o}}};if(i.RECORD_SEP=String.fromCharCode(30),i.UNIT_SEP=String.fromCharCode(31),i.BYTE_ORDER_MARK="\ufeff",i.BAD_DELIMITERS=["\r","\n",'"',i.BYTE_ORDER_MARK],i.WORKERS_SUPPORTED=!n&&!!t.Worker,i.NODE_STREAM_INPUT=1,i.LocalChunkSize=10485760,i.RemoteChunkSize=5242880,i.DefaultDelimiter=",",i.Parser=m,i.ParserHandle=h,i.NetworkStreamer=c,i.FileStreamer=u,i.StringStreamer=d,i.ReadableStreamStreamer=f,t.jQuery){var a=t.jQuery;a.fn.parse=function(e){var n=e.config||{},r=[];return this.each((function(e){if("INPUT"!==a(this).prop("tagName").toUpperCase()||"file"!==a(this).attr("type").toLowerCase()||!t.FileReader||!this.files||0===this.files.length)return!0;for(var s=0;s<this.files.length;s++)r.push({file:this.files[s],inputElem:this,instanceConfig:a.extend({},n)})})),s(),this;function s(){if(0!==r.length){var t,n,s,l,c=r[0];if(x(e.before)){var u=e.before(c.file,c.inputElem);if("object"==typeof u){if("abort"===u.action)return t="AbortError",n=c.file,s=c.inputElem,l=u.reason,void(x(e.error)&&e.error({name:t},n,s,l));if("skip"===u.action)return void o();"object"==typeof u.config&&(c.instanceConfig=a.extend(c.instanceConfig,u.config))}else if("skip"===u)return void o()}var d=c.instanceConfig.complete;c.instanceConfig.complete=function(e){x(d)&&d(e,c.file,c.inputElem),o()},i.parse(c.file,c.instanceConfig)}else x(e.complete)&&e.complete()}function o(){r.splice(0,1),s()}}}function l(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=v(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new h(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,n){if(this.isFirstChunk&&x(this._config.beforeFirstChunk)){var s=this._config.beforeFirstChunk(e);void 0!==s&&(e=s)}this.isFirstChunk=!1,this._halted=!1;var o=this._partialLine+e;this._partialLine="";var a=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var l=a.meta.cursor;this._finished||(this._partialLine=o.substring(l-this._baseIndex),this._baseIndex=l),a&&a.data&&(this._rowCount+=a.data.length);var c=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)t.postMessage({results:a,workerId:i.WORKER_ID,finished:c});else if(x(this._config.chunk)&&!n){if(this._config.chunk(a,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);a=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(a.data),this._completeResults.errors=this._completeResults.errors.concat(a.errors),this._completeResults.meta=a.meta),this._completed||!c||!x(this._config.complete)||a&&a.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),c||a&&a.meta.paused||this._nextChunk(),a}this._halted=!0},this._sendError=function(e){x(this._config.error)?this._config.error(e):r&&this._config.error&&t.postMessage({workerId:i.WORKER_ID,error:e,finished:!1})}}function c(e){var t;(e=e||{}).chunkSize||(e.chunkSize=i.RemoteChunkSize),l.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),n||(t.onload=$(this._chunkLoaded,this),t.onerror=$(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var r in e)t.setRequestHeader(r,e[r])}if(this._config.chunkSize){var s=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+s)}try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader("Content-Range");return null===t?-1:parseInt(t.substring(t.lastIndexOf("/")+1))}(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){var n=t.statusText||e;this._sendError(new Error(n))}}function u(e){var t,n;(e=e||{}).chunkSize||(e.chunkSize=i.LocalChunkSize),l.call(this,e);var r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=$(this._chunkLoaded,this),t.onerror=$(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var s=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,s)}var o=t.readAsText(e,this._config.encoding);r||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function d(e){var t;l.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,n=this._config.chunkSize;return n?(e=t.substring(0,n),t=t.substring(n)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function f(e){l.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=$((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}}),this),this._streamError=$((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=$((function(){this._streamCleanUp(),r=!0,this._streamData("")}),this),this._streamCleanUp=$((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function h(e){var t,n,r,s=Math.pow(2,53),o=-s,a=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,l=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,c=this,u=0,d=0,f=!1,h=!1,g=[],b={data:[],errors:[],meta:{}};if(x(e.step)){var y=e.step;e.step=function(t){if(b=t,k())w();else{if(w(),0===b.data.length)return;u+=t.data.length,e.preview&&u>e.preview?n.abort():(b.data=b.data[0],y(b,c))}}}function $(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function w(){return b&&r&&(S("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+i.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines&&(b.data=b.data.filter((function(e){return!$(e)}))),k()&&function(){if(b)if(Array.isArray(b.data[0])){for(var t=0;k()&&t<b.data.length;t++)b.data[t].forEach(n);b.data.splice(0,1)}else b.data.forEach(n);function n(t,n){x(e.transformHeader)&&(t=e.transformHeader(t,n)),g.push(t)}}(),function(){if(!b||!e.header&&!e.dynamicTyping&&!e.transform)return b;function t(t,n){var r,s=e.header?{}:[];for(r=0;r<t.length;r++){var o=r,i=t[r];e.header&&(o=r>=g.length?"__parsed_extra":g[r]),e.transform&&(i=e.transform(i,o)),i=_(o,i),"__parsed_extra"===o?(s[o]=s[o]||[],s[o].push(i)):s[o]=i}return e.header&&(r>g.length?S("FieldMismatch","TooManyFields","Too many fields: expected "+g.length+" fields but parsed "+r,d+n):r<g.length&&S("FieldMismatch","TooFewFields","Too few fields: expected "+g.length+" fields but parsed "+r,d+n)),s}var n=1;return!b.data.length||Array.isArray(b.data[0])?(b.data=b.data.map(t),n=b.data.length):b.data=t(b.data,0),e.header&&b.meta&&(b.meta.fields=g),d+=n,b}()}function k(){return e.header&&0===g.length}function _(t,n){return r=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[r]&&(e.dynamicTyping[r]=e.dynamicTypingFunction(r)),!0===(e.dynamicTyping[r]||e.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(e){if(a.test(e)){var t=parseFloat(e);if(o<t&&t<s)return!0}return!1}(n)?parseFloat(n):l.test(n)?new Date(n):""===n?null:n):n;var r}function S(e,t,n,r){var s={type:e,code:t,message:n};void 0!==r&&(s.row=r),b.errors.push(s)}this.parse=function(s,o,a){var l=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var n=new RegExp(p(t)+"([^]*?)"+p(t),"gm"),r=(e=e.replace(n,"")).split("\r"),s=e.split("\n"),o=1<s.length&&s[0].length<r[0].length;if(1===r.length||o)return"\n";for(var i=0,a=0;a<r.length;a++)"\n"===r[a][0]&&i++;return i>=r.length/2?"\r\n":"\r"}(s,l)),r=!1,e.delimiter)x(e.delimiter)&&(e.delimiter=e.delimiter(s),b.meta.delimiter=e.delimiter);else{var c=function(t,n,r,s,o){var a,l,c,u;o=o||[",","\t","|",";",i.RECORD_SEP,i.UNIT_SEP];for(var d=0;d<o.length;d++){var f=o[d],h=0,p=0,g=0;c=void 0;for(var b=new m({comments:s,delimiter:f,newline:n,preview:10}).parse(t),y=0;y<b.data.length;y++)if(r&&$(b.data[y]))g++;else{var v=b.data[y].length;p+=v,void 0!==c?0<v&&(h+=Math.abs(v-c),c=v):c=v}0<b.data.length&&(p/=b.data.length-g),(void 0===l||h<=l)&&(void 0===u||u<p)&&1.99<p&&(l=h,a=f,u=p)}return{successful:!!(e.delimiter=a),bestDelimiter:a}}(s,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);c.successful?e.delimiter=c.bestDelimiter:(r=!0,e.delimiter=i.DefaultDelimiter),b.meta.delimiter=e.delimiter}var u=v(e);return e.preview&&e.header&&u.preview++,t=s,n=new m(u),b=n.parse(t,o,a),w(),f?{meta:{paused:!0}}:b||{meta:{paused:!1}}},this.paused=function(){return f},this.pause=function(){f=!0,n.abort(),t=x(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){c.streamer._halted?(f=!1,c.streamer.parseChunk(t,!0)):setTimeout(c.resume,3)},this.aborted=function(){return h},this.abort=function(){h=!0,n.abort(),b.meta.aborted=!0,x(e.complete)&&e.complete(b),t=""}}function p(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(e){var t,n=(e=e||{}).delimiter,r=e.newline,s=e.comments,o=e.step,a=e.preview,l=e.fastMode,c=t=void 0===e.quoteChar||null===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(c=e.escapeChar),("string"!=typeof n||-1<i.BAD_DELIMITERS.indexOf(n))&&(n=","),s===n)throw new Error("Comment character same as delimiter");!0===s?s="#":("string"!=typeof s||-1<i.BAD_DELIMITERS.indexOf(s))&&(s=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var u=0,d=!1;this.parse=function(i,f,h){if("string"!=typeof i)throw new Error("Input must be a string");var m=i.length,g=n.length,b=r.length,y=s.length,v=x(o),$=[],w=[],k=[],_=u=0;if(!i)return G();if(e.header&&!f){var S=i.split(r)[0].split(n),C=[],E={},T=!1;for(var L in S){var j=S[L];x(e.transformHeader)&&(j=e.transformHeader(j,L));var A=j,R=E[j]||0;for(0<R&&(T=!0,A=j+"_"+R),E[j]=R+1;C.includes(A);)A=A+"_"+R;C.push(A)}if(T){var B=i.split(r);B[0]=C.join(n),i=B.join(r)}}if(l||!1!==l&&-1===i.indexOf(t)){for(var N=i.split(r),D=0;D<N.length;D++){if(k=N[D],u+=k.length,D!==N.length-1)u+=r.length;else if(h)return G();if(!s||k.substring(0,y)!==s){if(v){if($=[],H(k.split(n)),K(),d)return G()}else H(k.split(n));if(a&&a<=D)return $=$.slice(0,a),G(!0)}}return G()}for(var I=i.indexOf(n,u),O=i.indexOf(r,u),P=new RegExp(p(c)+p(t),"g"),z=i.indexOf(t,u);;)if(i[u]!==t)if(s&&0===k.length&&i.substring(u,u+y)===s){if(-1===O)return G();u=O+b,O=i.indexOf(r,u),I=i.indexOf(n,u)}else if(-1!==I&&(I<O||-1===O))k.push(i.substring(u,I)),u=I+g,I=i.indexOf(n,u);else{if(-1===O)break;if(k.push(i.substring(u,O)),q(O+b),v&&(K(),d))return G();if(a&&$.length>=a)return G(!0)}else for(z=u,u++;;){if(-1===(z=i.indexOf(t,z+1)))return h||w.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:$.length,index:u}),W();if(z===m-1)return W(i.substring(u,z).replace(P,t));if(t!==c||i[z+1]!==c){if(t===c||0===z||i[z-1]!==c){-1!==I&&I<z+1&&(I=i.indexOf(n,z+1)),-1!==O&&O<z+1&&(O=i.indexOf(r,z+1));var M=U(-1===O?I:Math.min(I,O));if(i.substr(z+1+M,g)===n){k.push(i.substring(u,z).replace(P,t)),i[u=z+1+M+g]!==t&&(z=i.indexOf(t,u)),I=i.indexOf(n,u),O=i.indexOf(r,u);break}var F=U(O);if(i.substring(z+1+F,z+1+F+b)===r){if(k.push(i.substring(u,z).replace(P,t)),q(z+1+F+b),I=i.indexOf(n,u),z=i.indexOf(t,u),v&&(K(),d))return G();if(a&&$.length>=a)return G(!0);break}w.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:$.length,index:u}),z++}}else z++}return W();function H(e){$.push(e),_=u}function U(e){var t=0;if(-1!==e){var n=i.substring(z+1,e);n&&""===n.trim()&&(t=n.length)}return t}function W(e){return h||(void 0===e&&(e=i.substring(u)),k.push(e),u=m,H(k),v&&K()),G()}function q(e){u=e,H(k),k=[],O=i.indexOf(r,u)}function G(e){return{data:$,errors:w,meta:{delimiter:n,linebreak:r,aborted:d,truncated:!!e,cursor:_+(f||0)}}}function K(){o(G()),$=[],w=[]}},this.abort=function(){d=!0},this.getCharIndex=function(){return u}}function g(e){var t=e.data,n=s[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var o={abort:function(){r=!0,b(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(x(n.userStep)){for(var i=0;i<t.results.data.length&&(n.userStep({data:t.results.data[i],errors:t.results.errors,meta:t.results.meta},o),!r);i++);delete t.results}else x(n.userChunk)&&(n.userChunk(t.results,o,t.file),delete t.results)}t.finished&&!r&&b(t.workerId,t.results)}function b(e,t){var n=s[e];x(n.userComplete)&&n.userComplete(t),n.terminate(),delete s[e]}function y(){throw new Error("Not implemented.")}function v(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=v(e[n]);return t}function $(e,t){return function(){e.apply(t,arguments)}}function x(e){return"function"==typeof e}return r&&(t.onmessage=function(e){var n=e.data;if(void 0===i.WORKER_ID&&n&&(i.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:i.WORKER_ID,results:i.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var r=i.parse(n.input,n.config);r&&t.postMessage({workerId:i.WORKER_ID,results:r,finished:!0})}}),(c.prototype=Object.create(l.prototype)).constructor=c,(u.prototype=Object.create(l.prototype)).constructor=u,(d.prototype=Object.create(d.prototype)).constructor=d,(f.prototype=Object.create(l.prototype)).constructor=f,i}()}));function Mo(e){const t="string"==typeof e?e:e.toString();return JSON.parse(t).map(((e,t)=>{let n,r;for(const t in e){const s=t.toLowerCase();if("key"===s){const r=e[t];"string"==typeof r?n=parseInt(e[t],16):"number"==typeof r&&(n=e[t])}else"value"!==s&&"string"!==s||(r=e[t])}if(void 0===n)throw new Error(`Entry at index ${t} does not have a key.`);if(n<0||n>4294967295)throw new Error(`Key of entry at index ${t} is out of bounds (${n}).`);if(void 0===r)throw new Error(`Entry at index ${t} does not have a string value.`);return{key:n,value:r}}))}const{enums:Fo,models:Ho,hashing:Uo}=window.S4TK,{Buffer:Wo}=window.S4TK.Node;async function qo(e,t){return new Promise((async(n,r)=>{const s=new Map;t.forEach((e=>{const t=s.get(e.locale)??[];s.has(e.locale)||s.set(e.locale,t),t.push(e)})),s.has(e)||s.set(e,[{locale:e,instanceBase:0n,stbl:[]}]);const o=new Set,i=new Set,a=[];s.forEach(((t,n)=>{const r=new Map;t.forEach((({stbl:t})=>{t.forEach((({key:t,value:s})=>{if(!r.get(t)?.has(s)){const e=r.get(t)??new Set;r.has(t)||r.set(t,e),e.add(s)}n===e?o.add(t):i.add(t)}))}));const s=[];r.forEach(((e,t)=>{e.forEach((e=>{s.push({key:t,value:e})}))})),a.push({locale:n,instanceBase:0n,stbl:s})}));const l=a.find((({locale:t})=>t===e));i.forEach((e=>{o.has(e)||l.stbl.push({key:e,value:""})}));const c=[],u=new Map;l.stbl.forEach((({key:t,value:n},r)=>{u.set(t,r),c.push({key:t,values:new Map([[e,n]])})})),a.forEach((({locale:t,stbl:n})=>{n.forEach((({key:n,value:r})=>{if(!r)return;const s=u.get(n),o=c[s];r!==o.values.get(e)&&o.values.set(t,r)}))}));n(new ss(e,new Set(s.keys()),c))}))}function Go(e,t){const n=function(e){const t=e.split(".");return t[t.length-1]}(e);if("package"===n)return function(e){return Ho.Package.extractResources(e,{resourceFilter:e=>e===Fo.BinaryResourceType.StringTable}).map((({key:e,value:t})=>({locale:Fo.StringTableLocale.getLocale(e.instance),instanceBase:Fo.StringTableLocale.getInstanceBase(e.instance),stbl:t.toJsonObject(!1,!1)})))}(t);if("txt"===n)return[Ko(t)];if("csv"===n)return function(e){const t=zo.parse(e.toString(),{header:!0,transformHeader:e=>Fo.StringTableLocale[e],delimiter:",",comments:"#",skipEmptyLines:!0}),n=new Map;t.meta.fields.forEach((e=>{if("number"!=typeof e)throw new Error("Unrecognized locale name found in CSV.");n.set(e,[])}));const r=[...n.keys()],s=[];t.data.forEach((e=>{s.push(Uo.fnv32(hs())),r.forEach((t=>{n.get(t).push(e[t])}))}));const o=[];return n.forEach(((e,t)=>{const n=e.map(((e,t)=>({key:s[t],value:e})));o.push({locale:t,instanceBase:0n,stbl:n})})),o}(t);{const r=function(e){try{const{g:t,i:n}=/(?<t>[a-fA-F\d]{8})[_!]?(?<g>[a-fA-F\d]{8})[_!]?(?<i>[a-fA-F\d]{16})/.exec(e).groups;return{type:Fo.BinaryResourceType.StringTable,group:parseInt(t,16),instance:BigInt("0x"+n)}}catch(e){const t=Fo.StringTableLocale.setHighByte(nt.defaultLocale,0n);return{type:Fo.BinaryResourceType.StringTable,group:2147483648,instance:t}}}(e),s=Fo.StringTableLocale.getInstanceBase(r.instance),o=Fo.StringTableLocale.getLocale(r.instance);let i;return o in Fo.StringTableLocale||(r.instance=Fo.StringTableLocale.setHighByte(nt.defaultLocale,r.instance)),i="json"===n?Mo(t):Ho.StringTableResource.from(t).toJsonObject(!1,!1),[{locale:o,instanceBase:s,stbl:i}]}}function Ko(e){const t=[];return e.toString().split("\n").forEach((e=>{e.trim()&&t.push({key:Uo.fnv32(hs()),value:e})})),{locale:nt.defaultLocale,instanceBase:0n,stbl:t}}function Vo(t){let n,r,s,o,i=t[5]&&Zo(t);return{c(){n=C("div"),r=C("label"),s=E(t[2]),o=T(),i&&i.c(),A(r,"for","file-upload"),A(r,"class","text-subtle uppercase font-bold text-sm"),A(n,"class","flex items-center mb-2")},m(e,t){_(e,n,t),x(n,r),x(r,s),x(n,o),i&&i.m(n,null)},p(e,t){4&t&&B(s,e[2]),e[5]?i?(i.p(e,t),32&t&&ge(i,1)):(i=Zo(e),i.c(),ge(i,1),i.m(n,null)):i&&(i.d(1),i=null)},i(e){ge(i)},o:e,d(e){e&&S(n),i&&i.d()}}}function Zo(t){let n,r,s,o;return{c(){n=C("p"),r=E("• "),s=E(t[4]),A(n,"class","text-sm text-red-600 dark:text-red-400 my-0 ml-2")},m(e,t){_(e,n,t),x(n,r),x(n,s)},p(e,t){16&t&&B(s,e[4])},i(e){o||re((()=>{o=ve(n,ft,{}),o.start()}))},o:e,d(e){e&&S(n)}}}function Jo(t){let n,r,s,o,i,a=Boolean(t[2]),l=a&&Vo(t);return{c(){n=C("div"),l&&l.c(),r=T(),s=C("input"),A(s,"name","file-upload"),A(s,"type","file"),A(s,"class","w-full border h-10 p-2 rounded hover:cursor-pointer svelte-hr4wkz"),A(s,"accept",t[1]),s.multiple=t[3],I(s,"border-gray-700",!t[5]),I(s,"dark:border-gray-300",!t[5]),I(s,"border-red-600",t[5]),I(s,"dark:border-red-400",t[5])},m(e,a){_(e,n,a),l&&l.m(n,null),x(n,r),x(n,s),o||(i=j(s,"change",t[6]),o=!0)},p(e,[t]){4&t&&(a=Boolean(e[2])),a?l?(l.p(e,t),4&t&&ge(l,1)):(l=Vo(e),l.c(),ge(l,1),l.m(n,r)):l&&(l.d(1),l=null),2&t&&A(s,"accept",e[1]),8&t&&(s.multiple=e[3]),32&t&&I(s,"border-gray-700",!e[5]),32&t&&I(s,"dark:border-gray-300",!e[5]),32&t&&I(s,"border-red-600",e[5]),32&t&&I(s,"dark:border-red-400",e[5])},i(e){ge(l)},o:e,d(e){e&&S(n),l&&l.d(),o=!1,i()}}}function Yo(e,t,n){let r,{accept:s}=t,{files:o}=t,{label:i=""}=t,{multiple:a=!1}=t,{errorMessage:l=""}=t;return e.$$set=e=>{"accept"in e&&n(1,s=e.accept),"files"in e&&n(0,o=e.files),"label"in e&&n(2,i=e.label),"multiple"in e&&n(3,a=e.multiple),"errorMessage"in e&&n(4,l=e.errorMessage)},e.$$.update=()=>{16&e.$$.dirty&&n(5,r=Boolean(l))},[o,s,i,a,l,r,function(){o=this.files,n(0,o)}]}class Xo extends Re{constructor(e){super(),Ae(this,e,Yo,Jo,a,{accept:1,files:0,label:2,multiple:3,errorMessage:4})}}function Qo(e,t,n){const r=e.slice();return r[14]=t[n],r[16]=n,r}function ei(e){let t,n,r,s,i,a,l,c,u,d,f,h,p,m,g,b,y,v,$,w;function k(t){e[6](t)}let L={accept:".package,.stbl,.binary,.json,.txt,.csv",label:"upload files",multiple:!0,errorMessage:e[4]};return void 0!==e[3]&&(L.files=e[3]),s=new Xo({props:L}),J.push((()=>Ee(s,"files",k))),{c(){t=C("div"),n=C("div"),n.innerHTML='<p>Upload string table(s) as binary, JSON, or within packages. For bulk\n        strings that need unique keys generated, use plain text (single locale)\n        or CSV (multiple locales).</p> \n      <p class="mt-1 text-xs text-subtle">Feel free to upload entire packages; unneeded files will be ignored.</p>',r=T(),Te(s.$$.fragment),a=T(),l=C("div"),c=C("p"),c.innerHTML='<strong class="text-subtle">Tip</strong>: The best way to ensure that\n        multiple locales are handled properly is by uploading them in packages.',u=T(),d=C("p"),f=E("Need help? Read about expected "),h=C("button"),h.textContent="JSON",p=E(",\n        "),m=C("button"),m.textContent="CSV",g=E(", and\n        "),b=C("button"),b.textContent="plain text",y=E(" syntax."),A(c,"class","text-xs text-subtle mb-2"),A(h,"class","text-secondary underline hover:no-underline"),A(m,"class","text-secondary underline hover:no-underline"),A(b,"class","text-secondary underline hover:no-underline"),A(d,"class","text-xs text-subtle"),A(t,"class","w-full flex flex-col gap-6")},m(o,i){_(o,t,i),x(t,n),x(t,r),Le(s,t,null),x(t,a),x(t,l),x(l,c),x(l,u),x(l,d),x(d,f),x(d,h),x(d,p),x(d,m),x(d,g),x(d,b),x(d,y),v=!0,$||(w=[j(h,"click",e[7]),j(m,"click",e[8]),j(b,"click",e[9])],$=!0)},p(e,t){const n={};16&t&&(n.errorMessage=e[4]),!i&&8&t&&(i=!0,n.files=e[3],se((()=>i=!1))),s.$set(n)},i(e){v||(ge(s.$$.fragment,e),v=!0)},o(e){be(s.$$.fragment,e),v=!1},d(e){e&&S(t),je(s),$=!1,o(w)}}}function ti(e){let t,n,r,s,o,i,a=e[1].errors.length+"",l=[],c=new Map,u=e[1].errors;const d=e=>e[16];for(let t=0;t<u.length;t+=1){let n=Qo(e,u,t),r=d(n);c.set(r,l[t]=ri(r,n))}return{c(){t=C("p"),n=E(a),r=E(" file(s) either could not be read or did not contain\n        any string tables."),s=T(),o=C("div"),i=C("ul");for(let e=0;e<l.length;e+=1)l[e].c();A(t,"class","mb-1"),A(i,"class","list-disc pl-8 flex flex-col"),A(o,"class","max-h-24 overflow-x-hidden overflow-y-auto")},m(e,a){_(e,t,a),x(t,n),x(t,r),_(e,s,a),_(e,o,a),x(o,i);for(let e=0;e<l.length;e+=1)l[e].m(i,null)},p(e,t){2&t&&a!==(a=e[1].errors.length+"")&&B(n,a),2&t&&(u=e[1].errors,l=_e(l,t,d,1,e,u,c,i,we,ri,null,Qo))},d(e){e&&S(t),e&&S(s),e&&S(o);for(let e=0;e<l.length;e+=1)l[e].d()}}}function ni(t){let n;return{c(){n=C("p"),n.textContent="No uploaded files had errors."},m(e,t){_(e,n,t)},p:e,d(e){e&&S(n)}}}function ri(e,t){let n,r,s,o,i,a,l=t[14].filename+"",c=t[14].message+"";return{key:e,first:null,c(){n=C("li"),r=C("span"),s=E(l),o=E("\n              = "),i=E(c),a=T(),A(r,"class","text-accent-primary-light dark:text-accent-primary-dark hacker-text-lime"),A(n,"class","pl-2"),this.first=n},m(e,t){_(e,n,t),x(n,r),x(r,s),x(n,o),x(n,i),x(n,a)},p(e,n){t=e,2&n&&l!==(l=t[14].filename+"")&&B(s,l),2&n&&c!==(c=t[14].message+"")&&B(i,c)},d(e){e&&S(n)}}}function si(t){let n,r,s,o,i,a,l,c,u,d=t[1].stbls.length+"",f=t[3].length-t[1].errors.length+"";function h(e,t){return 0===e[1].errors.length?ni:ti}let p=h(t),m=p(t);return{c(){n=C("div"),r=C("p"),s=E("Found "),o=E(d),i=E(" valid string table(s) in "),a=E(f),l=E(" file(s)."),c=T(),m.c(),A(r,"class","mb-3"),A(n,"class","w-full")},m(e,t){_(e,n,t),x(n,r),x(r,s),x(r,o),x(r,i),x(r,a),x(r,l),x(n,c),m.m(n,null)},p(e,r){t=e,2&r&&d!==(d=t[1].stbls.length+"")&&B(o,d),10&r&&f!==(f=t[3].length-t[1].errors.length+"")&&B(a,f),p===(p=h(t))&&m?m.p(t,r):(m.d(1),m=p(t),m&&(m.c(),m.m(n,null)))},i(e){u||re((()=>{u=ve(n,ft,{duration:nt.reduceMotion?0:500}),u.start()}))},o:e,d(e){e&&S(n),m.d()}}}function oi(e){let t,n;return t=new Vt({props:{onClose:e[12],args:{route:e[5],suppressBack:!0}}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.onClose=e[12]),32&n&&(r.args={route:e[5],suppressBack:!0}),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function ii(e){let t,n,r,s,o,i,a,l,c=Boolean(e[5]);function u(t){e[10](t)}let d={pageNumber:e[2],$$slots:{default:[ei]},$$scope:{ctx:e}};function f(t){e[11](t)}void 0!==e[0]&&(d.state=e[0]),t=new Pn({props:d}),J.push((()=>Ee(t,"state",u)));let h={pageNumber:e[2]+1,$$slots:{default:[si]},$$scope:{ctx:e}};void 0!==e[0]&&(h.state=e[0]),s=new Pn({props:h}),J.push((()=>Ee(s,"state",f)));let p=c&&oi(e);return{c(){Te(t.$$.fragment),r=T(),Te(s.$$.fragment),i=T(),p&&p.c(),a=L()},m(e,n){Le(t,e,n),_(e,r,n),Le(s,e,n),_(e,i,n),p&&p.m(e,n),_(e,a,n),l=!0},p(e,[r]){const i={};4&r&&(i.pageNumber=e[2]),131128&r&&(i.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,i.state=e[0],se((()=>n=!1))),t.$set(i);const l={};4&r&&(l.pageNumber=e[2]+1),131082&r&&(l.$$scope={dirty:r,ctx:e}),!o&&1&r&&(o=!0,l.state=e[0],se((()=>o=!1))),s.$set(l),32&r&&(c=Boolean(e[5])),c?p?(p.p(e,r),32&r&&ge(p,1)):(p=oi(e),p.c(),ge(p,1),p.m(a.parentNode,a)):p&&(pe(),be(p,1,1,(()=>{p=null})),me())},i(e){l||(ge(t.$$.fragment,e),ge(s.$$.fragment,e),ge(p),l=!0)},o(e){be(t.$$.fragment,e),be(s.$$.fragment,e),be(p),l=!1},d(e){je(t,e),e&&S(r),je(s,e),e&&S(i),p&&p.d(e),e&&S(a)}}}function ai(e,t,n){let r,s,{startingPageNumber:o=1}=t,{multipageState:i}=t,{parseResult:a}=t,l=null;async function c(){n(4,r=void 0),s.length<1?n(4,r="No files to read"):async function(e){return new Promise((async t=>{const n=[],r=[];for(let t=0;t<e.length;t++){const s=e[t];try{const e=Wo.from(await s.arrayBuffer()),t=Go(s.name,e);if(!t.length)throw new Error("No string tables found.");r.push(...t)}catch(e){console.error(`Error while reading "${s.name}"\n${e}`),n.push({filename:s.name,message:e})}}const s=new Set,o=new Set;r.forEach((({locale:e,instanceBase:t})=>{o.add(e),s.add(t)})),t({errors:n,stbls:r,instances:s,locales:o})}))}(s).then((e=>{n(1,a=e),e.stbls.length>=1?(e.errors.length>=1?n(0,i.currentPage++,i):n(0,i.currentPage=3,i),n(0,i.nextButtonEnabled=!0,i)):n(4,r="No valid STBLs found")})).catch((e=>{console.error(e),n(4,r="Something went wrong")}))}return e.$$set=e=>{"startingPageNumber"in e&&n(2,o=e.startingPageNumber),"multipageState"in e&&n(0,i=e.multipageState),"parseResult"in e&&n(1,a=e.parseResult)},e.$$.update=()=>{8&e.$$.dirty&&s&&c()},[i,a,o,s,r,l,function(e){s=e,n(3,s)},()=>n(5,l="/json"),()=>n(5,l="/csv"),()=>n(5,l="/plain-text"),function(e){i=e,n(0,i)},function(e){i=e,n(0,i)},()=>n(5,l=null)]}class li extends Re{constructor(e){super(),Ae(this,e,ai,ii,a,{startingPageNumber:2,multipageState:0,parseResult:1})}}function ci(t){let n;return{c(){n=C("p"),n.textContent="There is 1 instance base in the uploaded STBL(s)."},m(e,t){_(e,n,t)},p:e,d(e){e&&S(n)}}}function ui(e){let t,n,r,s,o=e[9].length+"";return{c(){t=C("p"),n=E("There are "),r=E(o),s=E(" instance bases in the uploaded STBLs.\n            Which should this project use?")},m(e,o){_(e,t,o),x(t,n),x(t,r),x(t,s)},p(e,t){512&t[0]&&o!==(o=e[9].length+"")&&B(r,o)},d(e){e&&S(t)}}}function di(e){let t,n,r,s,o,i,a,l,c,u,d;function f(e,t){return e[9].length>1?ui:ci}let h=f(e),p=h(e);function m(t){e[16](t)}let g={name:"instance-select",label:"existing instances",disabled:e[8],fillWidth:!0,options:e[9]};function b(t){e[17](t)}void 0!==e[7]&&(g.selected=e[7]),r=new nr({props:g}),J.push((()=>Ee(r,"selected",m)));let y={label:"Alternatively, you can hash this project's UUID:"};return void 0!==e[8]&&(y.checked=e[8]),i=new Yt({props:y}),J.push((()=>Ee(i,"checked",b))),{c(){t=C("div"),p.c(),n=T(),Te(r.$$.fragment),o=T(),Te(i.$$.fragment),l=T(),c=C("p"),c.textContent="...or, you can set it manually on the next page.",A(c,"class","text-subtle text-xs"),A(t,"class","flex flex-col gap-6")},m(e,s){_(e,t,s),p.m(t,null),x(t,n),Le(r,t,null),x(t,o),Le(i,t,null),x(t,l),x(t,c),d=!0},p(o,l){h===(h=f(e=o))&&p?p.p(e,l):(p.d(1),p=h(e),p&&(p.c(),p.m(t,n)));const c={};256&l[0]&&(c.disabled=e[8]),512&l[0]&&(c.options=e[9]),!s&&128&l[0]&&(s=!0,c.selected=e[7],se((()=>s=!1))),r.$set(c);const u={};!a&&256&l[0]&&(a=!0,u.checked=e[8],se((()=>a=!1))),i.$set(u)},i(e){d||(ge(r.$$.fragment,e),ge(i.$$.fragment,e),u||re((()=>{u=ve(t,ft,{duration:nt.reduceMotion?0:500}),u.start()})),d=!0)},o(e){be(r.$$.fragment,e),be(i.$$.fragment,e),d=!1},d(e){e&&S(t),p.d(),je(r),je(i)}}}function fi(e){let t,n,r,s,o,i,a,l,c,u,d,f,h,p,m,g,b;function y(t){e[14](t)}function v(t){e[15](t)}let $={startingPageNumber:1};function w(t){e[18](t)}void 0!==e[6]&&($.multipageState=e[6]),void 0!==e[0]&&($.parseResult=e[0]),n=new li({props:$}),J.push((()=>Ee(n,"multipageState",y))),J.push((()=>Ee(n,"parseResult",v)));let k={pageNumber:3,$$slots:{default:[di]},$$scope:{ctx:e}};function E(t){e[19](t)}function L(t){e[20](t)}function j(t){e[21](t)}function R(t){e[22](t)}function B(t){e[23](t)}function N(t){e[24](t)}function D(t){e[25](t)}void 0!==e[6]&&(k.state=e[6]),i=new Pn({props:k}),J.push((()=>Ee(i,"state",w)));let I={uuid:e[10],startingPageNumber:4,checkedLocales:e[0]?.locales,tgiChoicesDetail:"The instance is the hash of the UUID by default, but it can be changed\n      manually.",localeChoicesDetail:"Select any locales you want to track translations for. You can still download locales that are not included, but they will contain the same text as your primary locale."};return void 0!==e[6]&&(I.multipageState=e[6]),void 0!==e[6].nextButtonEnabled&&(I.firstPageValid=e[6].nextButtonEnabled),void 0!==e[1]&&(I.projectName=e[1]),void 0!==e[2]&&(I.groupHexString=e[2]),void 0!==e[3]&&(I.instanceHexString=e[3]),void 0!==e[4]&&(I.primaryLocale=e[4]),void 0!==e[5]&&(I.localeChoices=e[5]),c=new No({props:I}),J.push((()=>Ee(c,"multipageState",E))),J.push((()=>Ee(c,"firstPageValid",L))),J.push((()=>Ee(c,"projectName",j))),J.push((()=>Ee(c,"groupHexString",R))),J.push((()=>Ee(c,"instanceHexString",B))),J.push((()=>Ee(c,"primaryLocale",N))),J.push((()=>Ee(c,"localeChoices",D))),{c(){t=C("div"),Te(n.$$.fragment),o=T(),Te(i.$$.fragment),l=T(),Te(c.$$.fragment),A(t,"slot","content"),A(t,"class","w-full")},m(e,r){_(e,t,r),Le(n,t,null),x(t,o),Le(i,t,null),x(t,l),Le(c,t,null),b=!0},p(e,t){const o={};!r&&64&t[0]&&(r=!0,o.multipageState=e[6],se((()=>r=!1))),!s&&1&t[0]&&(s=!0,o.parseResult=e[0],se((()=>s=!1))),n.$set(o);const l={};896&t[0]|4&t[1]&&(l.$$scope={dirty:t,ctx:e}),!a&&64&t[0]&&(a=!0,l.state=e[6],se((()=>a=!1))),i.$set(l);const b={};1&t[0]&&(b.checkedLocales=e[0]?.locales),!u&&64&t[0]&&(u=!0,b.multipageState=e[6],se((()=>u=!1))),!d&&64&t[0]&&(d=!0,b.firstPageValid=e[6].nextButtonEnabled,se((()=>d=!1))),!f&&2&t[0]&&(f=!0,b.projectName=e[1],se((()=>f=!1))),!h&&4&t[0]&&(h=!0,b.groupHexString=e[2],se((()=>h=!1))),!p&&8&t[0]&&(p=!0,b.instanceHexString=e[3],se((()=>p=!1))),!m&&16&t[0]&&(m=!0,b.primaryLocale=e[4],se((()=>m=!1))),!g&&32&t[0]&&(g=!0,b.localeChoices=e[5],se((()=>g=!1))),c.$set(b)},i(e){b||(ge(n.$$.fragment,e),ge(i.$$.fragment,e),ge(c.$$.fragment,e),b=!0)},o(e){be(n.$$.fragment,e),be(i.$$.fragment,e),be(c.$$.fragment,e),b=!1},d(e){e&&S(t),je(n),je(i),je(c)}}}function hi(e){let t,n,r;function s(t){e[26](t)}let o={title:"Upload Project",subtitle:"UUID: "+e[10],numPages:5,minimumContentHeight:"230",centerVertically:!0,completeButton:"Create",canClickBack:!1,onLastPageComplete:e[11],onPageComplete:e[12],$$slots:{content:[fi]},$$scope:{ctx:e}};return void 0!==e[6]&&(o.state=e[6]),t=new Nn({props:o}),J.push((()=>Ee(t,"state",s))),{c(){Te(t.$$.fragment)},m(e,n){Le(t,e,n),r=!0},p(e,r){const s={};1023&r[0]|4&r[1]&&(s.$$scope={dirty:r,ctx:e}),!n&&64&r[0]&&(n=!0,s.state=e[6],se((()=>n=!1))),t.$set(s)},i(e){r||(ge(t.$$.fragment,e),r=!0)},o(e){be(t.$$.fragment,e),r=!1},d(e){je(t,e)}}}function pi(e,t,n){const{enums:r}=window.S4TK,{fnv64:s}=window.S4TK.hashing,{formatAsHexString:o}=window.S4TK.formatting;let{onComplete:i}=t;const a=hs();let l,c,u,d="",f="80000000",h=o(r.StringTableLocale.getInstanceBase(s(a,!1)),14,!1),p=nt.defaultLocale,m={currentPage:1,nextButtonEnabled:!1},g=null,b=0,y=!1;const v=[pt.subscribe((e=>{e&&(c=e)}))];return K((()=>{v.forEach((e=>e()))})),e.$$set=e=>{"onComplete"in e&&n(13,i=e.onComplete)},e.$$.update=()=>{1&e.$$.dirty[0]&&g&&function(){const e=[...g.instances];if(n(9,u=e.map(((e,t)=>({value:t,text:o(e,14,!1)})))),g.locales.has(nt.defaultLocale))n(4,p=nt.defaultLocale);else{const[e]=g.locales;n(4,p=e)}}()},[g,d,f,h,p,l,m,b,y,u,a,async function(){const e=await qo(p,g.stbls),t=new $s(a,{name:d,group:parseInt(f,16),instance:BigInt(h.startsWith("0x")?h:`0x${h}`),flags:0,numEntries:e.numEntries,numLocales:e.numLocales,primaryLocale:p},e);c.addProject(t),i()},function(e){3===e&&(n(6,m.nextButtonEnabled=!1,m),y||n(3,h=o([...g.instances][b],14,!1)))},i,function(e){m=e,n(6,m)},function(e){g=e,n(0,g)},function(e){b=e,n(7,b)},function(e){y=e,n(8,y)},function(e){m=e,n(6,m)},function(e){m=e,n(6,m)},function(t){e.$$.not_equal(m.nextButtonEnabled,t)&&(m.nextButtonEnabled=t,n(6,m))},function(e){d=e,n(1,d)},function(e){f=e,n(2,f)},function(e){h=e,n(3,h)},function(e){p=e,n(4,p)},function(e){l=e,n(5,l)},function(e){m=e,n(6,m)}]}class mi extends Re{constructor(e){super(),Ae(this,e,pi,hi,a,{onComplete:13},null,[-1,-1])}}function gi(e){let t,n;return t=new on({props:{onClose:e[4],$$slots:{default:[bi]},$$scope:{ctx:e}}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};518&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function bi(e){let t,r,s;const o=[{onComplete:e[4]},e[2]];var i=e[1];function a(e){let t={};for(let e=0;e<o.length;e+=1)t=n(t,o[e]);return{props:t}}return i&&(t=new i(a())),{c(){t&&Te(t.$$.fragment),r=L()},m(e,n){t&&Le(t,e,n),_(e,r,n),s=!0},p(e,n){const s=20&n?Se(o,[16&n&&{onComplete:e[4]},4&n&&Ce(e[2])]):{};if(i!==(i=e[1])){if(t){pe();const e=t;be(e.$$.fragment,1,0,(()=>{je(e,1)})),me()}i?(t=new i(a()),Te(t.$$.fragment),ge(t.$$.fragment,1),Le(t,r.parentNode,r)):t=null}else i&&t.$set(s)},i(e){s||(t&&ge(t.$$.fragment,e),s=!0)},o(e){t&&be(t.$$.fragment,e),s=!1},d(e){e&&S(r),t&&je(t,e)}}}function yi(e){let t,n,r,s;t=new Ns({props:{buttonData:e[3]}});let o=e[0]&&gi(e);return{c(){Te(t.$$.fragment),n=T(),o&&o.c(),r=L()},m(e,i){Le(t,e,i),_(e,n,i),o&&o.m(e,i),_(e,r,i),s=!0},p(e,[n]){const s={};8&n&&(s.buttonData=e[3]),t.$set(s),e[0]?o?(o.p(e,n),1&n&&ge(o,1)):(o=gi(e),o.c(),ge(o,1),o.m(r.parentNode,r)):o&&(pe(),be(o,1,1,(()=>{o=null})),me())},i(e){s||(ge(t.$$.fragment,e),ge(o),s=!0)},o(e){be(t.$$.fragment,e),be(o),s=!1},d(e){je(t,e),e&&S(n),o&&o.d(e),e&&S(r)}}}function vi(e,t,n){let{selectionGroup:r}=t;const s=e=>()=>{c||e()};let o,i,a,l,c=!1;const u=[pt.subscribe((e=>{e&&n(6,l=e)}))];return K((()=>{u.forEach((e=>e()))})),e.$$set=e=>{"selectionGroup"in e&&n(5,r=e.selectionGroup)},e.$$.update=()=>{96&e.$$.dirty&&n(3,a=r?.selectMode?[{color:"Cyan",title:"Download",icon:"download",keybinding:"s",disabled:r.numSelected<1,onClick:s((()=>{nt.rickGif?window.open(Ye.rickRoll,"_blank"):(n(1,o=mo),n(2,i={selectionGroup:r}),n(0,c=!0))}))},{color:"Orange",title:"Toggle Pin",icon:"pin",keybinding:"p",disabled:r.numSelected<1,onClick:s((()=>{l.toggleProjectPins(r.allSelectedItems)}))},{color:"Red",title:"Delete",icon:"trash",keybinding:"d",disabled:r.numSelected<1,onClick:s((()=>{n(1,o=Us),n(2,i={projects:r.allSelectedItems}),n(0,c=!0)}))}]:[{color:"Azure",title:"Save Workspace",icon:"desktop-download",keybinding:"s",onClick:s((()=>{nt.rickGif?window.open(Ye.rickRoll,"_blank"):l.toJson().then((e=>{const t=new Blob([JSON.stringify(e)]);Ks.saveAs(t,"StblStudioWorkspace.json")}))}))},{color:"Purple",title:"Upload Project",icon:"upload",keybinding:"u",onClick:s((()=>{n(1,o=mi),n(2,i={}),n(0,c=!0)}))},{color:"Green",title:"New Project",icon:"plus",keybinding:"n",onClick:s((()=>{n(1,o=Po),n(2,i={}),n(0,c=!0)}))}])},[c,o,i,a,function(){n(0,c=!1),n(1,o=void 0),n(2,i=void 0)},r,l]}class $i extends Re{constructor(e){super(),Ae(this,e,vi,yi,a,{selectionGroup:5})}}function xi(e){let t,n,r;function s(t){e[12](t)}let o={numPages:2,minimumContentHeight:"180",centerVertically:!0,onLastPageComplete:e[5],completeButton:"Get Started",$$slots:{content:[Ci],header:[ki]},$$scope:{ctx:e}};return void 0!==e[3]&&(o.state=e[3]),t=new Nn({props:o}),J.push((()=>Ee(t,"state",s))),{c(){Te(t.$$.fragment)},m(e,n){Le(t,e,n),r=!0},p(e,r){const s={};16392&r&&(s.$$scope={dirty:r,ctx:e}),!n&&8&r&&(n=!0,s.state=e[3],se((()=>n=!1))),t.$set(s)},i(e){r||(ge(t.$$.fragment,e),r=!0)},o(e){be(t.$$.fragment,e),r=!1},d(e){je(t,e)}}}function wi(e){let t,n,r,s,o,i,a,l,c,u,d,f=Boolean(e[1]);function h(t){e[8](t)}function p(t){e[9](t)}let m={accept:".json",label:"workspace json only"};void 0!==e[0]&&(m.files=e[0]),void 0!==e[1]&&(m.errorMessage=e[1]),i=new Xo({props:m}),J.push((()=>Ee(i,"files",h))),J.push((()=>Ee(i,"errorMessage",p)));let g=f&&Ei();return{c(){t=C("div"),n=C("div"),n.innerHTML='<div class="max-w-min"><h2 class="font-bold whitespace-nowrap text-2xl mb-2 text-gradient drop-shadow">Welcome Back</h2></div> \n      <p class="mt-8">Upload your workspace JSON file to pick up where you left off.</p>',s=T(),o=C("div"),Te(i.$$.fragment),c=T(),g&&g.c(),A(o,"class","mt-8"),A(t,"class","w-full")},m(e,r){_(e,t,r),x(t,n),x(t,s),x(t,o),Le(i,o,null),x(o,c),g&&g.m(o,null),d=!0},p(t,n){e=t;const r={};!a&&1&n&&(a=!0,r.files=e[0],se((()=>a=!1))),!l&&2&n&&(l=!0,r.errorMessage=e[1],se((()=>l=!1))),i.$set(r),2&n&&(f=Boolean(e[1])),f?g||(g=Ei(),g.c(),g.m(o,null)):g&&(g.d(1),g=null)},i(t){d||(r||re((()=>{r=ve(n,ht,{y:-15,duration:e[4]}),r.start()})),ge(i.$$.fragment,t),u||re((()=>{u=ve(o,ht,{y:20,duration:e[4]}),u.start()})),d=!0)},o(e){be(i.$$.fragment,e),d=!1},d(e){e&&S(t),je(i),g&&g.d()}}}function ki(t){let n;return{c(){n=C("div"),n.innerHTML='<p>Welcome to</p> \n      <h2 class="font-bold text-2xl mb-2 text-gradient drop-shadow">String Table Studio</h2> \n      <p class="text-sm text-subtle">Powered by <a class="text-secondary" href="https://sims4toolkit.com" target="_blank">Sims 4 Toolkit</a></p>',A(n,"slot","header")},m(e,t){_(e,n,t)},p:e,d(e){e&&S(n)}}}function _i(t){let n;return{c(){n=C("div"),n.innerHTML='<p>String Table Studio is a web app that makes it easy to create, edit,\n            and translate string tables for Sims 4 mods. View the <a class="text-secondary" href="https://github.com/sims4toolkit/stbl-studio-web/blob/main/README.md" target="_blank">feature list</a> to learn more about what it can do.</p> \n          <p class="mt-4">If you&#39;re transferring from another device or browser, upload your\n            workspace JSON file to pick up where you left off. Otherwise, click\n            &quot;Next&quot; to create a new workspace.</p>',A(n,"class","flex flex-col gap-4")},m(e,t){_(e,n,t)},p:e,d(e){e&&S(n)}}}function Si(t){let n,r;return{c(){n=C("div"),n.innerHTML='<p>Before proceeding, please keep in mind:</p> \n          <ul class="list-disc pl-8 flex flex-col gap-2"><li class="pl-2">All data that you create or upload on this website is stored\n              locally on your computer, not on the internet. If you clear your\n              browser&#39;s storage, you will lose your data.</li> \n            <li class="pl-2">You can download your data at any time, and use it to backup,\n              restore, or move your entire workspace to another browser or\n              device.</li> \n            <li class="pl-2">Your data is your responsibility. I am not at fault for any\n              losses.</li></ul>',A(n,"class","flex flex-col gap-4")},m(e,t){_(e,n,t)},p:e,i(e){r||re((()=>{r=ve(n,ft,{}),r.start()}))},o:e,d(e){e&&S(n)}}}function Ci(e){let t,n,r,s,o,i,a;function l(t){e[10](t)}let c={pageNumber:1,$$slots:{default:[_i]},$$scope:{ctx:e}};function u(t){e[11](t)}void 0!==e[3]&&(c.state=e[3]),n=new Pn({props:c}),J.push((()=>Ee(n,"state",l)));let d={pageNumber:2,$$slots:{default:[Si]},$$scope:{ctx:e}};return void 0!==e[3]&&(d.state=e[3]),o=new Pn({props:d}),J.push((()=>Ee(o,"state",u))),{c(){t=C("div"),Te(n.$$.fragment),s=T(),Te(o.$$.fragment),A(t,"slot","content"),A(t,"class","flex flex-col gap-4")},m(e,r){_(e,t,r),Le(n,t,null),x(t,s),Le(o,t,null),a=!0},p(e,t){const s={};16384&t&&(s.$$scope={dirty:t,ctx:e}),!r&&8&t&&(r=!0,s.state=e[3],se((()=>r=!1))),n.$set(s);const a={};16384&t&&(a.$$scope={dirty:t,ctx:e}),!i&&8&t&&(i=!0,a.state=e[3],se((()=>i=!1))),o.$set(a)},i(e){a||(ge(n.$$.fragment,e),ge(o.$$.fragment,e),a=!0)},o(e){be(n.$$.fragment,e),be(o.$$.fragment,e),a=!1},d(e){e&&S(t),je(n),je(o)}}}function Ei(e){let t;return{c(){t=C("p"),t.innerHTML='If you&#39;re sure you&#39;re uploading a workspace JSON, do not panic. It is\n          likely that one or more of your projects are corrupt, but the others\n          are safe. First, try reloading the page. If this does not work, <a class="text-secondary" href="https://frankkmods.com/#/about" target="_blank">contact me</a> for help.',A(t,"class","mt-4 text-xs text-subtle")},m(e,n){_(e,t,n)},d(e){e&&S(t)}}}function Ti(e){let t;return{c(){t=E("Upload Workspace")},m(e,n){_(e,t,n)},d(e){e&&S(t)}}}function Li(e){let t;return{c(){t=E("Stop Uploading")},m(e,n){_(e,t,n)},d(e){e&&S(t)}}}function ji(e){let t,n,r,s,o,i,a,l,u,d,f;const h=[wi,xi],p=[];function m(e,t){return e[2]?0:1}function g(e,t){return e[2]?Li:Ti}t=m(e),n=p[t]=h[t](e);let b=g(e),y=b(e);return{c(){n.c(),r=T(),s=C("div"),o=C("button"),i=C("img"),l=T(),y.c(),c(i.src,a="./assets/"+(e[2]?"x":"upload")+".svg")||A(i,"src",a),A(i,"class","svg h-4 svelte-1x3dtbx"),A(i,"alt","Upload"),A(o,"class","flex gap-2 items-center fixed bottom-10 rounded py-2 px-4 text-sm border border-black dark:border-white hover:text-white hover:dark:text-black svelte-1x3dtbx"),A(s,"class","w-full flex justify-center")},m(n,a){p[t].m(n,a),_(n,r,a),_(n,s,a),x(s,o),x(o,i),x(o,l),y.m(o,null),u=!0,d||(f=j(o,"click",e[6]),d=!0)},p(e,[s]){let l=t;t=m(e),t===l?p[t].p(e,s):(pe(),be(p[l],1,1,(()=>{p[l]=null})),me(),n=p[t],n?n.p(e,s):(n=p[t]=h[t](e),n.c()),ge(n,1),n.m(r.parentNode,r)),(!u||4&s&&!c(i.src,a="./assets/"+(e[2]?"x":"upload")+".svg"))&&A(i,"src",a),b!==(b=g(e))&&(y.d(1),y=b(e),y&&(y.c(),y.m(o,null)))},i(e){u||(ge(n),u=!0)},o(e){be(n),u=!1},d(e){p[t].d(e),e&&S(r),e&&S(s),y.d(),d=!1,f()}}}function Ai(e,t,n){let{onOnboardingComplete:r}=t;const s=nt.reduceMotion?0:850;let o,i="",a=!1,l={currentPage:1,nextButtonEnabled:!0};return e.$$set=e=>{"onOnboardingComplete"in e&&n(7,r=e.onOnboardingComplete)},e.$$.update=()=>{1&e.$$.dirty&&o?.length&&async function(){try{const[e]=o,t=window.S4TK.Node.Buffer.from(await e.arrayBuffer()),n=JSON.parse(t.toString()),s=await xs.restoreFromJson(n);pt.set(s),r()}catch(e){console.error(e),n(1,i="Not a valid workspace")}}()},[o,i,a,l,s,async function(){pt.set(new xs),r()},function(e){n(2,a=!a),e.target.blur()},r,function(e){o=e,n(0,o)},function(e){i=e,n(1,i)},function(e){l=e,n(3,l)},function(e){l=e,n(3,l)},function(e){l=e,n(3,l)}]}class Ri extends Re{constructor(e){super(),Ae(this,e,Ai,ji,a,{onOnboardingComplete:7})}}function Bi(t){let n,r,s,i,a,l,c;return{c(){n=C("button"),n.textContent="select all",s=T(),i=C("button"),i.textContent="deselect all",A(n,"class","select-toggle svelte-1ac1uou"),A(i,"class","select-toggle svelte-1ac1uou")},m(e,r){_(e,n,r),_(e,s,r),_(e,i,r),l||(c=[j(n,"click",t[3]),j(i,"click",t[4])],l=!0)},p:e,i(e){r||re((()=>{r=ve(n,ft,{}),r.start()})),a||re((()=>{a=ve(i,ft,{}),a.start()}))},o:e,d(e){e&&S(n),e&&S(s),e&&S(i),l=!1,o(c)}}}function Ni(t){let n,r;return{c(){n=C("span"),n.textContent="select",A(n,"class","svelte-1ac1uou")},m(e,t){_(e,n,t)},i(e){r||re((()=>{r=ve(n,ft,{}),r.start()}))},o:e,d(e){e&&S(n)}}}function Di(t){let n,r;return{c(){n=C("span"),n.textContent="×",A(n,"class","text-lg svelte-1ac1uou")},m(e,t){_(e,n,t)},i(e){r||re((()=>{r=ve(n,ft,{}),r.start()}))},o:e,d(e){e&&S(n)}}}function Ii(t){let n,r,s,o,i,a=t[2]&&Bi(t);function l(e,t){return e[2]?Di:Ni}let c=l(t),u=c(t);return{c(){n=C("div"),a&&a.c(),r=T(),s=C("button"),u.c(),A(s,"class","select-toggle svelte-1ac1uou"),s.disabled=t[1],A(n,"class","flex justify-center gap-4 h-10 text-sm")},m(e,l){_(e,n,l),a&&a.m(n,null),x(n,r),x(n,s),u.m(s,null),o||(i=j(s,"click",t[5]),o=!0)},p(e,[t]){e[2]?a?(a.p(e,t),4&t&&ge(a,1)):(a=Bi(e),a.c(),ge(a,1),a.m(n,r)):a&&(a.d(1),a=null),c!==(c=l(e))&&(u.d(1),u=c(e),u&&(u.c(),ge(u,1),u.m(s,null))),2&t&&(s.disabled=e[1])},i(e){ge(a),ge(u)},o:e,d(e){e&&S(n),a&&a.d(),u.d(),o=!1,i()}}}function Oi(e,t,n){let r,{selectionGroup:s}=t,{disabled:o=!1}=t;return e.$$set=e=>{"selectionGroup"in e&&n(0,s=e.selectionGroup),"disabled"in e&&n(1,o=e.disabled)},e.$$.update=()=>{1&e.$$.dirty&&n(2,r=s.selectMode)},[s,o,r,()=>s.selectAll(),()=>s.deselectAll(),()=>s.toggleSelectMode()]}class Pi extends Re{constructor(e){super(),Ae(this,e,Oi,Ii,a,{selectionGroup:0,disabled:1})}}function zi(t){let n,r,s,o,i,a,l,c,u,d,f,h,p,m,g,b,y,v,$=or(t[0].metaData.primaryLocale).code+"",w=t[0].metaData.numLocales+"",k=t[0].metaData.numEntries+"";return{c(){n=C("div"),r=C("div"),s=C("p"),s.textContent="SOURCE",o=T(),i=C("p"),a=E($),l=T(),c=C("div"),u=C("p"),u.textContent="LOCALES",d=T(),f=C("p"),h=E(w),p=T(),m=C("div"),g=C("p"),g.textContent="STRINGS",b=T(),y=C("p"),v=E(k),A(s,"class","text-subtle font-bold text-xs"),A(i,"class","text-sm"),A(r,"class","flex flex-col flex-1 items-center justify-center py-1 px-4 gap-1 rounded border border-gray-300 dark:border-gray-600 hacker-border-gray"),A(u,"class","text-subtle font-bold text-xs"),A(f,"class","text-sm"),A(c,"class","flex flex-col flex-1 items-center justify-center py-1 px-4 gap-1 rounded border border-gray-300 dark:border-gray-600 hacker-border-gray"),A(g,"class","text-subtle font-bold text-xs"),A(y,"class","text-sm"),A(m,"class","flex flex-col flex-1 items-center justify-center py-1 px-4 gap-1 rounded border border-gray-300 dark:border-gray-600 hacker-border-gray"),A(n,"class","flex gap-2")},m(e,t){_(e,n,t),x(n,r),x(r,s),x(r,o),x(r,i),x(i,a),x(n,l),x(n,c),x(c,u),x(c,d),x(c,f),x(f,h),x(n,p),x(n,m),x(m,g),x(m,b),x(m,y),x(y,v)},p(e,[t]){1&t&&$!==($=or(e[0].metaData.primaryLocale).code+"")&&B(a,$),1&t&&w!==(w=e[0].metaData.numLocales+"")&&B(h,w),1&t&&k!==(k=e[0].metaData.numEntries+"")&&B(v,k)},i:e,o:e,d(e){e&&S(n)}}}function Mi(e,t,n){let{project:r}=t;return e.$$set=e=>{"project"in e&&n(0,r=e.project)},[r]}class Fi extends Re{constructor(e){super(),Ae(this,e,Mi,zi,a,{project:0})}}function Hi(e){let t,n;return{c(){t=C("img"),c(t.src,n="./assets/pin.svg")||A(t,"src","./assets/pin.svg"),A(t,"alt","Pin"),A(t,"title","Pinned"),A(t,"class","svg-accent h-4 w-4 z-10 absolute top-2 right-2 -scale-x-100")},m(e,n){_(e,t,n)},d(e){e&&S(t)}}}function Ui(e){let t,n;return{c(){t=C("img"),c(t.src,n="./assets/warning-outline.svg")||A(t,"src","./assets/warning-outline.svg"),A(t,"alt","Corrupt"),A(t,"title","Corrupt"),A(t,"class","svg-warning h-4 w-4 z-10 absolute top-2 right-2 -scale-x-100")},m(e,n){_(e,t,n)},d(e){e&&S(t)}}}function Wi(e){let t;return{c(){t=C("div"),t.innerHTML='<div class="select-indicator rounded-full h-4 w-4 border border-solid border-gray-500 dark:border-gray-400 svelte-12876sn"></div>',A(t,"class","flex items-center pr-4")},m(e,n){_(e,t,n)},d(e){e&&S(t)}}}function qi(e){let t,n,r,s,o,i,a,l,c,u,d,f,h,p,m,g,b=e[0].metaData.name+"",y=e[5](e[0].metaData.instance,14,!1)+"";function v(e,t){return e[2]?Ui:e[3]?Hi:void 0}let $=v(e),w=$&&$(e),k=e[1]&&Wi();return h=new Fi({props:{project:e[0]}}),{c(){t=C("button"),w&&w.c(),n=T(),r=C("div"),s=C("div"),k&&k.c(),o=T(),i=C("div"),a=C("h2"),l=E(b),c=T(),u=C("p"),d=E(y),f=T(),Te(h.$$.fragment),A(a,"class","font-bold text-lg mb-1 whitespace-nowrap overflow-hidden text-ellipsis"),A(u,"class","monospace text-subtle text-sm"),A(i,"class","overflow-hidden"),A(s,"class","flex mb-4"),A(r,"class","project-view text-left p-4 rounded-md drop-shadow-md dark:bg-gray-700 bg-gray-50 hacker-border-gray hacker-bg-black svelte-12876sn"),I(r,"selected",e[4]),A(t,"class","relative svelte-12876sn")},m(b,y){_(b,t,y),w&&w.m(t,null),x(t,n),x(t,r),x(r,s),k&&k.m(s,null),x(s,o),x(s,i),x(i,a),x(a,l),x(i,c),x(i,u),x(u,d),x(r,f),Le(h,r,null),p=!0,m||(g=j(t,"click",e[6]),m=!0)},p(e,[i]){$!==($=v(e))&&(w&&w.d(1),w=$&&$(e),w&&(w.c(),w.m(t,n))),e[1]?k||(k=Wi(),k.c(),k.m(s,o)):k&&(k.d(1),k=null),(!p||1&i)&&b!==(b=e[0].metaData.name+"")&&B(l,b),(!p||1&i)&&y!==(y=e[5](e[0].metaData.instance,14,!1)+"")&&B(d,y);const a={};1&i&&(a.project=e[0]),h.$set(a),16&i&&I(r,"selected",e[4])},i(e){p||(ge(h.$$.fragment,e),p=!0)},o(e){be(h.$$.fragment,e),p=!1},d(e){e&&S(t),w&&w.d(),k&&k.d(),je(h),m=!1,g()}}}function Gi(e,t,n){let r,s,o,i;const{formatAsHexString:a}=window.S4TK.formatting;let{project:l}=t,{selectionGroup:c}=t;return e.$$set=e=>{"project"in e&&n(0,l=e.project),"selectionGroup"in e&&n(7,c=e.selectionGroup)},e.$$.update=()=>{128&e.$$.dirty&&n(1,r=c.selectMode),129&e.$$.dirty&&n(4,s=c.isSelected(l)),1&e.$$.dirty&&n(3,o=l.hasFlags(ys.Pinned)),1&e.$$.dirty&&n(2,i=l.hasFlags(ys.Corrupt))},[l,r,i,o,s,a,function(){r?c.toggleValue(l):Ue("/project/"+l.uuid)},c]}class Ki extends Re{constructor(e){super(),Ae(this,e,Gi,qi,a,{project:0,selectionGroup:7})}}function Vi(e,t,n){const r=e.slice();return r[5]=t[n],r[7]=n,r}function Zi(e,t){let n,r,s,o;function i(e){t[4](e)}let a={project:t[5]};return void 0!==t[0]&&(a.selectionGroup=t[0]),r=new Ki({props:a}),J.push((()=>Ee(r,"selectionGroup",i))),{key:e,first:null,c(){n=L(),Te(r.$$.fragment),this.first=n},m(e,t){_(e,n,t),Le(r,e,t),o=!0},p(e,n){t=e;const o={};2&n&&(o.project=t[5]),!s&&1&n&&(s=!0,o.selectionGroup=t[0],se((()=>s=!1))),r.$set(o)},i(e){o||(ge(r.$$.fragment,e),o=!0)},o(e){be(r.$$.fragment,e),o=!1},d(e){e&&S(n),je(r,e)}}}function Ji(e){let t,n,r,s,o,i,a,l,c,u=[],d=new Map;function f(t){e[3](t)}r=new Yr({props:{title:"My Workspace"}});let h={};void 0!==e[0]&&(h.selectionGroup=e[0]),o=new Pi({props:h}),J.push((()=>Ee(o,"selectionGroup",f)));let p=e[1];const m=e=>e[7];for(let t=0;t<p.length;t+=1){let n=Vi(e,p,t),r=m(n);d.set(r,u[t]=Zi(r,n))}return{c(){t=C("div"),n=C("div"),Te(r.$$.fragment),s=T(),Te(o.$$.fragment),a=T(),l=C("div");for(let e=0;e<u.length;e+=1)u[e].c();A(t,"class","flex justify-between mb-8 flex-col sm:flex-row gap-8"),A(l,"class","workspace-view svelte-1yoh7hb")},m(e,i){_(e,t,i),x(t,n),Le(r,n,null),x(t,s),Le(o,t,null),_(e,a,i),_(e,l,i);for(let e=0;e<u.length;e+=1)u[e].m(l,null);c=!0},p(e,[t]){const n={};!i&&1&t&&(i=!0,n.selectionGroup=e[0],se((()=>i=!1))),o.$set(n),3&t&&(p=e[1],pe(),u=_e(u,t,m,1,e,p,d,l,ke,Zi,null,Vi),me())},i(e){if(!c){ge(r.$$.fragment,e),ge(o.$$.fragment,e);for(let e=0;e<p.length;e+=1)ge(u[e]);c=!0}},o(e){be(r.$$.fragment,e),be(o.$$.fragment,e);for(let e=0;e<u.length;e+=1)be(u[e]);c=!1},d(e){e&&S(t),je(r),je(o),e&&S(a),e&&S(l);for(let e=0;e<u.length;e+=1)u[e].d()}}}function Yi(e,t,n){let r,{workspace:s}=t,{selectionGroup:o}=t;return e.$$set=e=>{"workspace"in e&&n(2,s=e.workspace),"selectionGroup"in e&&n(0,o=e.selectionGroup)},e.$$.update=()=>{4&e.$$.dirty&&n(1,r=[...s.projects].sort(((e,t)=>{const n=e.hasFlags(ys.Pinned);if(n!==t.hasFlags(ys.Pinned))return n?-1:1;const r=e.metaData.name.toLowerCase(),s=t.metaData.name.toLowerCase();return r<s?-1:r>s?1:0})))},[o,r,s,function(e){o=e,n(0,o)},function(e){o=e,n(0,o)}]}class Xi extends Re{constructor(e){super(),Ae(this,e,Yi,Ji,a,{workspace:2,selectionGroup:0})}}function Qi(e){let t,n,r,s,o;const i=[na,ta],a=[];function l(e,t){return 1&t&&(n=null),null==n&&(n=!!Boolean(e[0])),n?0:1}return r=l(e,-1),s=a[r]=i[r](e),{c(){t=C("div"),s.c(),A(t,"class","w-full xl:max-w-screen-xl flex flex-col justify-center")},m(e,n){_(e,t,n),a[r].m(t,null),o=!0},p(e,n){let o=r;r=l(e,n),r===o?a[r].p(e,n):(pe(),be(a[o],1,1,(()=>{a[o]=null})),me(),s=a[r],s?s.p(e,n):(s=a[r]=i[r](e),s.c()),ge(s,1),s.m(t,null))},i(e){o||(ge(s),o=!0)},o(e){be(s),o=!1},d(e){e&&S(t),a[r].d()}}}function ea(e){let t,n,r,s,o;function i(t){e[6](t)}function a(t){e[7](t)}let l={};return void 0!==e[0]&&(l.workspace=e[0]),void 0!==e[3]&&(l.selectionGroup=e[3]),n=new Xi({props:l}),J.push((()=>Ee(n,"workspace",i))),J.push((()=>Ee(n,"selectionGroup",a))),{c(){t=C("div"),Te(n.$$.fragment),A(t,"class","w-full xl:max-w-screen-xl py-12")},m(e,r){_(e,t,r),Le(n,t,null),o=!0},p(e,t){const o={};!r&&1&t&&(r=!0,o.workspace=e[0],se((()=>r=!1))),!s&&8&t&&(s=!0,o.selectionGroup=e[3],se((()=>s=!1))),n.$set(o)},i(e){o||(ge(n.$$.fragment,e),o=!0)},o(e){be(n.$$.fragment,e),o=!1},d(e){e&&S(t),je(n)}}}function ta(t){let n;return{c(){n=C("h1"),n.textContent="Loading workspace...",A(n,"class","text-2xl font-bold text-center drop-shadow text-gray-400 dark:text-gray-500")},m(e,t){_(e,n,t)},p:e,i:e,o:e,d(e){e&&S(n)}}}function na(t){let n,r,s,o,i,a,l,c,u,d,f,h;return r=new Yr({props:{title:"Your workspace is empty"}}),{c(){n=C("div"),Te(r.$$.fragment),s=T(),o=C("p"),o.textContent="Create a new project with the toolbar in the bottom-right corner.",i=T(),a=C("p"),l=E("Confused? Check out the "),c=C("button"),c.textContent="help menu",u=E(" for more information."),A(n,"class","mb-8"),A(o,"class","mb-4"),A(c,"class","underline hover:no-underline text-secondary")},m(e,p){_(e,n,p),Le(r,n,null),_(e,s,p),_(e,o,p),_(e,i,p),_(e,a,p),x(a,l),x(a,c),x(a,u),d=!0,f||(h=j(c,"click",t[5]),f=!0)},p:e,i(e){d||(ge(r.$$.fragment,e),d=!0)},o(e){be(r.$$.fragment,e),d=!1},d(e){e&&S(n),je(r),e&&S(s),e&&S(o),e&&S(i),e&&S(a),f=!1,h()}}}function ra(e){let t,n,r;function s(t){e[8](t)}let o={};return void 0!==e[3]&&(o.selectionGroup=e[3]),t=new $i({props:o}),J.push((()=>Ee(t,"selectionGroup",s))),{c(){Te(t.$$.fragment)},m(e,n){Le(t,e,n),r=!0},p(e,r){const s={};!n&&8&r&&(n=!0,s.selectionGroup=e[3],se((()=>n=!1))),t.$set(s)},i(e){r||(ge(t.$$.fragment,e),r=!0)},o(e){be(t.$$.fragment,e),r=!1},d(e){je(t,e)}}}function sa(e){let t,n;return t=new on({props:{$$slots:{default:[oa]},$$scope:{ctx:e}}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};2048&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function oa(t){let n,r;return n=new Ri({props:{onOnboardingComplete:t[4]}}),{c(){Te(n.$$.fragment)},m(e,t){Le(n,e,t),r=!0},p:e,i(e){r||(ge(n.$$.fragment,e),r=!0)},o(e){be(n.$$.fragment,e),r=!1},d(e){je(n,e)}}}function ia(e){let t,n,r,s,o,i,a,l;const c=[ea,Qi],u=[];function d(e,t){return e[1]?0:1}r=d(e),s=u[r]=c[r](e);let f=void 0!==e[3]&&ra(e),h=e[2]&&sa(e);return{c(){t=T(),n=C("section"),s.c(),o=T(),f&&f.c(),i=T(),h&&h.c(),a=L(),document.title="STBL Studio | Workspace",A(n,"class","pt-10 px-4 w-full flex justify-center"),I(n,"flex-1",!e[1])},m(e,s){_(e,t,s),_(e,n,s),u[r].m(n,null),_(e,o,s),f&&f.m(e,s),_(e,i,s),h&&h.m(e,s),_(e,a,s),l=!0},p(e,[t]){let o=r;r=d(e),r===o?u[r].p(e,t):(pe(),be(u[o],1,1,(()=>{u[o]=null})),me(),s=u[r],s?s.p(e,t):(s=u[r]=c[r](e),s.c()),ge(s,1),s.m(n,null)),2&t&&I(n,"flex-1",!e[1]),void 0!==e[3]?f?(f.p(e,t),8&t&&ge(f,1)):(f=ra(e),f.c(),ge(f,1),f.m(i.parentNode,i)):f&&(pe(),be(f,1,1,(()=>{f=null})),me()),e[2]?h?(h.p(e,t),4&t&&ge(h,1)):(h=sa(e),h.c(),ge(h,1),h.m(a.parentNode,a)):h&&(pe(),be(h,1,1,(()=>{h=null})),me())},i(e){l||(ge(s),ge(f),ge(h),l=!0)},o(e){be(s),be(f),be(h),l=!1},d(e){e&&S(t),e&&S(n),u[r].d(),e&&S(o),f&&f.d(e),e&&S(i),h&&h.d(e),e&&S(a)}}}function aa(e,t,n){let r,s,o=!1,i=!1;const a=[pt.subscribe((e=>{e&&(n(0,r=e),n(1,o=e.projects.length>0),n(3,s=new ws(e.projects,"uuid",(()=>{n(3,s)}))))}))];return K((()=>{a.forEach((e=>e()))})),null==r&&(nt.hasWorkspace?xs.fromStorage().then((e=>{pt.set(e)})).catch((e=>{console.error(e)})):i=!0),[r,o,i,s,function(){nt.hasWorkspace=!0,n(2,i=!1)},function(){ct.request("help")},function(e){r=e,n(0,r)},function(e){s=e,n(3,s)},function(e){s=e,n(3,s)}]}class la extends Re{constructor(e){super(),Ae(this,e,aa,ia,a,{})}}function ca(e){let t,n,r,s,o,i,a,l,c,u,d;function f(t){e[10](t)}function h(t){e[11](t)}function p(t){e[12](t)}function m(t){e[13](t)}function g(t){e[14](t)}function b(t){e[15](t)}function y(t){e[16](t)}function v(t){e[17](t)}let $={uuid:e[0].uuid,localeChoicesDetail:"Add or remove locales from this project. Removing locales will permanently delete any and all translations associated with them."};return void 0!==e[7]&&($.multipageState=e[7]),void 0!==e[7].nextButtonEnabled&&($.firstPageValid=e[7].nextButtonEnabled),void 0!==e[1]&&($.projectName=e[1]),void 0!==e[2]&&($.groupHexString=e[2]),void 0!==e[3]&&($.instanceHexString=e[3]),void 0!==e[4]&&($.primaryLocale=e[4]),void 0!==e[5]&&($.localeChoices=e[5]),void 0!==e[6]&&($.checkedLocales=e[6]),n=new No({props:$}),J.push((()=>Ee(n,"multipageState",f))),J.push((()=>Ee(n,"firstPageValid",h))),J.push((()=>Ee(n,"projectName",p))),J.push((()=>Ee(n,"groupHexString",m))),J.push((()=>Ee(n,"instanceHexString",g))),J.push((()=>Ee(n,"primaryLocale",b))),J.push((()=>Ee(n,"localeChoices",y))),J.push((()=>Ee(n,"checkedLocales",v))),{c(){t=C("div"),Te(n.$$.fragment),A(t,"slot","content"),A(t,"class","w-full")},m(e,r){_(e,t,r),Le(n,t,null),d=!0},p(e,t){const d={};1&t&&(d.uuid=e[0].uuid),!r&&128&t&&(r=!0,d.multipageState=e[7],se((()=>r=!1))),!s&&128&t&&(s=!0,d.firstPageValid=e[7].nextButtonEnabled,se((()=>s=!1))),!o&&2&t&&(o=!0,d.projectName=e[1],se((()=>o=!1))),!i&&4&t&&(i=!0,d.groupHexString=e[2],se((()=>i=!1))),!a&&8&t&&(a=!0,d.instanceHexString=e[3],se((()=>a=!1))),!l&&16&t&&(l=!0,d.primaryLocale=e[4],se((()=>l=!1))),!c&&32&t&&(c=!0,d.localeChoices=e[5],se((()=>c=!1))),!u&&64&t&&(u=!0,d.checkedLocales=e[6],se((()=>u=!1))),n.$set(d)},i(e){d||(ge(n.$$.fragment,e),d=!0)},o(e){be(n.$$.fragment,e),d=!1},d(e){e&&S(t),je(n)}}}function ua(e){let t,n,r;function s(t){e[18](t)}let o={numPages:2,title:"Edit Project",subtitle:"UUID: "+e[0].uuid,minimumContentHeight:"220",centerVertically:!0,completeButton:"Save Edits",onLastPageComplete:e[8],$$slots:{content:[ca]},$$scope:{ctx:e}};return void 0!==e[7]&&(o.state=e[7]),t=new Nn({props:o}),J.push((()=>Ee(t,"state",s))),{c(){Te(t.$$.fragment)},m(e,n){Le(t,e,n),r=!0},p(e,[r]){const s={};1&r&&(s.subtitle="UUID: "+e[0].uuid),2097407&r&&(s.$$scope={dirty:r,ctx:e}),!n&&128&r&&(n=!0,s.state=e[7],se((()=>n=!1))),t.$set(s)},i(e){r||(ge(t.$$.fragment,e),r=!0)},o(e){be(t.$$.fragment,e),r=!1},d(e){je(t,e)}}}function da(e,t,n){const{formatAsHexString:r}=window.S4TK.formatting,{enums:s}=window.S4TK;let{project:o}=t,{onComplete:i}=t,a=o.metaData.name,l=r(o.metaData.group,8,!1),c=r(o.metaData.instance,14,!1),u=o.metaData.primaryLocale,d=s.StringTableLocale.all().map((e=>({checked:o.stbl.hasLocale(e),displayName:ir(e),locale:e}))),f=new Set(d.filter((e=>e.checked)).map((e=>e.locale))),h={currentPage:1,nextButtonEnabled:!0};return e.$$set=e=>{"project"in e&&n(0,o=e.project),"onComplete"in e&&n(9,i=e.onComplete)},[o,a,l,c,u,d,f,h,async function(){const e=d.filter((e=>e.checked)).map((e=>e.locale));n(0,o.stbl.primaryLocale=u,o),o.stbl.replaceLocales(e),n(0,o.metaData.numLocales=o.stbl.numLocales,o),n(0,o.metaData.numEntries=o.stbl.numEntries,o),await o.stbl.saveToStorage(o.uuid),n(0,o.metaData.name=a,o),n(0,o.metaData.group=parseInt(l,16),o),n(0,o.metaData.instance=BigInt(c.startsWith("0x")?c:`0x${c}`),o),n(0,o.metaData.primaryLocale=u,o),await o.saveToStorage(),n(0,o),i()},i,function(e){h=e,n(7,h)},function(t){e.$$.not_equal(h.nextButtonEnabled,t)&&(h.nextButtonEnabled=t,n(7,h))},function(e){a=e,n(1,a)},function(e){l=e,n(2,l)},function(e){c=e,n(3,c)},function(e){u=e,n(4,u)},function(e){d=e,n(5,d)},function(e){f=e,n(6,f)},function(e){h=e,n(7,h)}]}class fa extends Re{constructor(e){super(),Ae(this,e,da,ua,a,{project:0,onComplete:9})}}function ha(e){let t,n;return t=new on({props:{onClose:e[6],$$slots:{default:[pa]},$$scope:{ctx:e}}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.onClose=e[6]),129&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function pa(e){let t,n,r;function s(t){e[5](t)}let o={onComplete:e[1]};return void 0!==e[0]&&(o.project=e[0]),t=new fa({props:o}),J.push((()=>Ee(t,"project",s))),{c(){Te(t.$$.fragment)},m(e,n){Le(t,e,n),r=!0},p(e,r){const s={};!n&&1&r&&(n=!0,s.project=e[0],se((()=>n=!1))),t.$set(s)},i(e){r||(ge(t.$$.fragment,e),r=!0)},o(e){be(t.$$.fragment,e),r=!1},d(e){je(t,e)}}}function ma(e){let t,n,r,s,o,i,a,l,c,u,d,f,h,p,m,g,b,y=e[0].metaData.name+"",v=e[3](e[0].metaData.instance,14,!1)+"";f=new Fi({props:{project:e[0]}});let $=e[2]&&ha(e);return{c(){t=C("button"),n=C("div"),r=C("div"),s=C("div"),o=C("h2"),i=E(y),a=T(),l=C("p"),c=E(v),u=T(),d=C("div"),Te(f.$$.fragment),h=T(),$&&$.c(),p=L(),A(o,"class","font-bold text-xl text-gradient drop-shadow whitespace-nowrap overflow-hidden text-ellipsis"),A(l,"class","text-xs mt-1 text-subtle monospace"),A(s,"class","overflow-hidden text-left"),A(d,"class","flex-1 sm:max-w-sm"),A(r,"class","w-full xl:max-w-screen-xl py-6 flex justify-between flex-wrap lg:flex-nowrap gap-8"),A(n,"class","pt-10 px-4 w-full flex justify-center bg-gray-50 dark:bg-gray-700 bottom-shadow hacker-bg-black hacker-border-b-gray"),A(t,"title","Edit Project")},m(y,v){_(y,t,v),x(t,n),x(n,r),x(r,s),x(s,o),x(o,i),x(s,a),x(s,l),x(l,c),x(r,u),x(r,d),Le(f,d,null),_(y,h,v),$&&$.m(y,v),_(y,p,v),m=!0,g||(b=j(t,"click",e[4]),g=!0)},p(e,[t]){(!m||1&t)&&y!==(y=e[0].metaData.name+"")&&B(i,y),(!m||1&t)&&v!==(v=e[3](e[0].metaData.instance,14,!1)+"")&&B(c,v);const n={};1&t&&(n.project=e[0]),f.$set(n),e[2]?$?($.p(e,t),4&t&&ge($,1)):($=ha(e),$.c(),ge($,1),$.m(p.parentNode,p)):$&&(pe(),be($,1,1,(()=>{$=null})),me())},i(e){m||(ge(f.$$.fragment,e),ge($),m=!0)},o(e){be(f.$$.fragment,e),be($),m=!1},d(e){e&&S(t),je(f),e&&S(h),$&&$.d(e),e&&S(p),g=!1,b()}}}function ga(e,t,n){const{formatAsHexString:r}=window.S4TK.formatting;let{project:s}=t;let o=!1;return e.$$set=e=>{"project"in e&&n(0,s=e.project)},[s,()=>{n(2,o=!1)},o,r,()=>n(2,o=!0),function(e){s=e,n(0,s)},()=>n(2,o=!1)]}class ba extends Re{constructor(e){super(),Ae(this,e,ga,ma,a,{project:0,onMetaDataEdited:1})}get onMetaDataEdited(){return this.$$.ctx[1]}}function ya(t){let n,r,s,i,a,l,u,d,f,h,p,m,g,b,y,v,$,w,k,L,R,N,D,I=t[0]?"Copied!":"Copy Key",O=t[0]?"Copied!":"Copy Text",P=t[0]?"Copied!":"Copy XML";return{c(){n=C("div"),r=C("button"),s=C("img"),a=T(),l=C("div"),u=E(I),d=T(),f=C("button"),h=C("img"),m=T(),g=C("div"),b=E(O),y=T(),v=C("button"),$=C("img"),k=T(),L=C("div"),R=E(P),A(s,"class","svg h-4"),c(s.src,i="./assets/key-outline.svg")||A(s,"src","./assets/key-outline.svg"),A(s,"alt","Key"),A(l,"class","bg-gray-300 dark:bg-gray-900 hacker-border-gray svelte-ag57li"),A(r,"class","svelte-ag57li"),A(h,"class","svg h-4"),c(h.src,p="./assets/text-outline.svg")||A(h,"src","./assets/text-outline.svg"),A(h,"alt","Text"),A(g,"class","bg-gray-300 dark:bg-gray-900 hacker-border-gray svelte-ag57li"),A(f,"class","svelte-ag57li"),A($,"class","svg h-4"),c($.src,w="./assets/code-outline.svg")||A($,"src","./assets/code-outline.svg"),A($,"alt","Code"),A(L,"class","bg-gray-300 dark:bg-gray-900 hacker-border-gray svelte-ag57li"),A(v,"class","svelte-ag57li"),A(n,"class","flex gap-3 min-w-fit")},m(e,o){_(e,n,o),x(n,r),x(r,s),x(r,a),x(r,l),x(l,u),x(n,d),x(n,f),x(f,h),x(f,m),x(f,g),x(g,b),x(n,y),x(n,v),x(v,$),x(v,k),x(v,L),x(L,R),N||(D=[j(r,"click",t[2]),j(r,"mouseleave",va),j(r,"blur",t[1]),j(f,"click",t[3]),j(f,"mouseleave",va),j(f,"blur",t[1]),j(v,"click",t[4]),j(v,"mouseleave",va),j(v,"blur",t[1])],N=!0)},p(e,[t]){1&t&&I!==(I=e[0]?"Copied!":"Copy Key")&&B(u,I),1&t&&O!==(O=e[0]?"Copied!":"Copy Text")&&B(b,O),1&t&&P!==(P=e[0]?"Copied!":"Copy XML")&&B(R,P)},i:e,o:e,d(e){e&&S(n),N=!1,o(D)}}}function va(e){e.target.blur()}function $a(e,t,n){let{key:r}=t,{string:s}=t,o=!1;function i(e){navigator.clipboard.writeText(e.replace(/\r?\n|\r/g,"\\n")),n(0,o=!0)}return e.$$set=e=>{"key"in e&&n(5,r=e.key),"string"in e&&n(6,s=e.string)},[o,function(){n(0,o=!1)},()=>i(r),()=>i(s),()=>i(`${r}\x3c!--${s}--\x3e`),r,s]}class xa extends Re{constructor(e){super(),Ae(this,e,$a,ya,a,{key:5,string:6})}}function wa(e){let t;return{c(){t=C("div"),t.innerHTML='<div class="select-indicator rounded-full h-4 w-4 border border-solid border-gray-500 dark:border-gray-400 svelte-skhqzj"></div>',A(t,"class","flex items-center -order-1")},m(e,n){_(e,t,n)},d(e){e&&S(t)}}}function ka(e){let t,n,r;return n=new xa({props:{key:e[2],string:e[3]}}),{c(){t=C("div"),Te(n.$$.fragment),A(t,"class","-order-1 sm:order-1 min-w-fit")},m(e,s){_(e,t,s),Le(n,t,null),r=!0},p(e,t){const r={};4&t&&(r.key=e[2]),8&t&&(r.string=e[3]),n.$set(r)},i(e){r||(ge(n.$$.fragment,e),r=!0)},o(e){be(n.$$.fragment,e),r=!1},d(e){e&&S(t),je(n)}}}function _a(e){let t,n,r,s,i,a,l,c,u,d,f,h,p=e[0].selectMode&&wa(),m=!e[0].selectMode&&ka(e);return{c(){t=C("button"),p&&p.c(),n=T(),r=C("input"),i=T(),a=C("input"),c=T(),m&&m.c(),A(r,"class","bg-transparent text-red-600 dark:text-red-500 placeholder:text-gray-400 dark:placeholder:text-gray-500 monospace rounded p-1 -order-1 sm:order-1 text-sm w-24 svelte-skhqzj"),A(r,"placeholder","0x00000000"),A(r,"type","text"),A(r,"tabindex",s=e[0].selectMode?-1:0),I(r,"valid",e[5]),A(a,"class","bg-gray-75 dark:bg-gray-675 rounded w-full px-2 py-1 order-1 placeholder:text-gray-400 dark:placeholder:text-gray-500 svelte-skhqzj"),A(a,"placeholder","Empty string"),A(a,"type","text"),A(a,"tabindex",l=e[0].selectMode?-1:0),A(t,"class","w-full flex flex-wrap sm:flex-nowrap justify-between items-center px-4 py-2 sm:py-1 first:rounded-t last:rounded-b gap-2 sm:gap-4 bg-gray-50 dark:bg-gray-700 border border-gray-100 dark:border-gray-800 hacker-border-gray hacker-bg-black svelte-skhqzj"),A(t,"tabindex",u=e[0].selectMode?0:-1),I(t,"selected",e[0].isSelected(e[1])),I(t,"selectable",e[0].selectMode),I(t,"sm:pr-1",e[0].selectMode)},m(s,o){_(s,t,o),p&&p.m(t,null),x(t,n),x(t,r),e[10](r),N(r,e[2]),x(t,i),x(t,a),N(a,e[3]),x(t,c),m&&m.m(t,null),d=!0,f||(h=[j(r,"input",e[11]),j(r,"blur",e[7]),j(a,"input",e[12]),j(a,"blur",e[8]),j(t,"click",e[6])],f=!0)},p(e,[o]){e[0].selectMode?p||(p=wa(),p.c(),p.m(t,n)):p&&(p.d(1),p=null),(!d||1&o&&s!==(s=e[0].selectMode?-1:0))&&A(r,"tabindex",s),4&o&&r.value!==e[2]&&N(r,e[2]),32&o&&I(r,"valid",e[5]),(!d||1&o&&l!==(l=e[0].selectMode?-1:0))&&A(a,"tabindex",l),8&o&&a.value!==e[3]&&N(a,e[3]),e[0].selectMode?m&&(pe(),be(m,1,1,(()=>{m=null})),me()):m?(m.p(e,o),1&o&&ge(m,1)):(m=ka(e),m.c(),ge(m,1),m.m(t,null)),(!d||1&o&&u!==(u=e[0].selectMode?0:-1))&&A(t,"tabindex",u),3&o&&I(t,"selected",e[0].isSelected(e[1])),1&o&&I(t,"selectable",e[0].selectMode),1&o&&I(t,"sm:pr-1",e[0].selectMode)},i(e){d||(ge(m),d=!0)},o(e){be(m),d=!1},d(n){n&&S(t),p&&p.d(),e[10](null),m&&m.d(),f=!1,o(h)}}}function Sa(e,t,n){let r;const{formatStringKey:s}=window.S4TK.formatting;let o,i,a,{project:l}=t,{entry:c}=t,{selectionGroup:u}=t;return e.$$set=e=>{"project"in e&&n(9,l=e.project),"entry"in e&&n(1,c=e.entry),"selectionGroup"in e&&n(0,u=e.selectionGroup)},e.$$.update=()=>{4&e.$$.dirty&&n(5,r=null==o||go(o,8)),512&e.$$.dirty&&(n(2,o=s(c.key)),n(3,i=l.stbl.getValue(c.id)))},[u,c,o,i,a,r,function(){u.selectMode&&(u.toggleValue(c),n(0,u))},function(){if(n(2,o=o.trim()),r){const e=parseInt(o,16);l.stbl.setKey(c.id,e),l.stbl.saveToStorage(l.uuid),n(9,l)}else a.focus()},function(){i!==l.stbl.getValue(c.id)&&(l.setValue(c.id,i),n(9,l))},l,function(e){J[e?"unshift":"push"]((()=>{a=e,n(4,a)}))},function(){o=this.value,n(2,o)},function(){i=this.value,n(3,i)}]}class Ca extends Re{constructor(e){super(),Ae(this,e,Sa,_a,a,{project:9,entry:1,selectionGroup:0})}}function Ea(e,t,n){const r=e.slice();return r[7]=t[n],r[8]=t,r[9]=n,r}function Ta(t){let n;function r(e,t){return 0===e[0].stbl.numEntries?Aa:ja}let s=r(t),o=s(t);return{c(){n=C("div"),o.c(),A(n,"class","w-full text-center py-12 px-4 border-2 border-dashed border-gray-400 dark:border-gray-600 hacker-border-gray")},m(e,t){_(e,n,t),o.m(n,null)},p(e,t){s===(s=r(e))&&o?o.p(e,t):(o.d(1),o=s(e),o&&(o.c(),o.m(n,null)))},i:e,o:e,d(e){e&&S(n),o.d()}}}function La(e){let t,n,r=[],s=new Map,o=e[2];const i=e=>e[7].id;for(let t=0;t<o.length;t+=1){let n=Ea(e,o,t),a=i(n);s.set(a,r[t]=Ra(a,n))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=L()},m(e,s){for(let t=0;t<r.length;t+=1)r[t].m(e,s);_(e,t,s),n=!0},p(e,n){7&n&&(o=e[2],pe(),r=_e(r,n,i,1,e,o,s,t.parentNode,ke,Ra,t,Ea),me())},i(e){if(!n){for(let e=0;e<o.length;e+=1)ge(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)be(r[e]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&S(t)}}}function ja(t){let n,r,s;return{c(){n=C("h2"),n.textContent="Nothing to See Here",r=T(),s=C("p"),s.textContent="No strings in this project match your search query.",A(n,"class","text-xl mb-4 text-subtle font-bold"),A(s,"class","text-subtle")},m(e,t){_(e,n,t),_(e,r,t),_(e,s,t)},p:e,d(e){e&&S(n),e&&S(r),e&&S(s)}}}function Aa(t){let n,r,s,o,i,a,l,c,u,d;return{c(){n=C("h2"),n.textContent="This Project is Empty",r=T(),s=C("p"),s.textContent="Add strings with the toolbar in the bottom-right corner.",o=T(),i=C("p"),a=E("Confused? Check out the "),l=C("button"),l.textContent="help menu",c=E("."),A(n,"class","text-xl mb-4 text-subtle font-bold"),A(s,"class","text-subtle mb-2"),A(l,"class","text-secondary underline hover:no-underline"),A(i,"class","text-subtle")},m(e,f){_(e,n,f),_(e,r,f),_(e,s,f),_(e,o,f),_(e,i,f),x(i,a),x(i,l),x(i,c),u||(d=j(l,"click",t[6]),u=!0)},p:e,d(e){e&&S(n),e&&S(r),e&&S(s),e&&S(o),e&&S(i),u=!1,d()}}}function Ra(e,t){let n,r,s,o,i,a;function l(e){t[3](e)}function c(e){t[4](e,t[7],t[8],t[9])}function u(e){t[5](e)}let d={};return void 0!==t[0]&&(d.project=t[0]),void 0!==t[7]&&(d.entry=t[7]),void 0!==t[1]&&(d.selectionGroup=t[1]),r=new Ca({props:d}),J.push((()=>Ee(r,"project",l))),J.push((()=>Ee(r,"entry",c))),J.push((()=>Ee(r,"selectionGroup",u))),{key:e,first:null,c(){n=L(),Te(r.$$.fragment),this.first=n},m(e,t){_(e,n,t),Le(r,e,t),a=!0},p(e,n){t=e;const a={};!s&&1&n&&(s=!0,a.project=t[0],se((()=>s=!1))),!o&&4&n&&(o=!0,a.entry=t[7],se((()=>o=!1))),!i&&2&n&&(i=!0,a.selectionGroup=t[1],se((()=>i=!1))),r.$set(a)},i(e){a||(ge(r.$$.fragment,e),a=!0)},o(e){be(r.$$.fragment,e),a=!1},d(e){e&&S(n),je(r,e)}}}function Ba(e){let t,n,r,s;const o=[La,Ta],i=[];function a(e,t){return e[2].length>0?0:1}return t=a(e),n=i[t]=o[t](e),{c(){n.c(),r=L()},m(e,n){i[t].m(e,n),_(e,r,n),s=!0},p(e,[s]){let l=t;t=a(e),t===l?i[t].p(e,s):(pe(),be(i[l],1,1,(()=>{i[l]=null})),me(),n=i[t],n?n.p(e,s):(n=i[t]=o[t](e),n.c()),ge(n,1),n.m(r.parentNode,r))},i(e){s||(ge(n),s=!0)},o(e){be(n),s=!1},d(e){i[t].d(e),e&&S(r)}}}function Na(e,t,n){let{project:r}=t,{selectionGroup:s}=t,{sliceToRender:o}=t;return e.$$set=e=>{"project"in e&&n(0,r=e.project),"selectionGroup"in e&&n(1,s=e.selectionGroup),"sliceToRender"in e&&n(2,o=e.sliceToRender)},[r,s,o,function(e){r=e,n(0,r)},function(e,t,r,s){r[s]=e,n(2,o)},function(e){s=e,n(1,s)},()=>ct.request("help")]}class Da extends Re{constructor(e){super(),Ae(this,e,Na,Ba,a,{project:0,selectionGroup:1,sliceToRender:2})}}function Ia(t){let n,r,s;return{c(){n=C("textarea"),A(n,"placeholder",t[1]),A(n,"rows","1"),A(n,"class","w-full whitespace-pre-wrap break-words rounded p-2 resize-none overflow-x-hidden overflow-y-hidden bg-gray-75 dark:bg-gray-675 placeholder-gray-500 dark:placeholder-gray-500"),A(n,"tabindex",t[4]),I(n,"w-full",t[2])},m(e,o){_(e,n,o),t[9](n),N(n,t[0]),r||(s=[j(n,"input",t[10]),j(n,"input",Oa),j(n,"keydown",t[6]),j(n,"blur",t[11])],r=!0)},p(e,[t]){2&t&&A(n,"placeholder",e[1]),16&t&&A(n,"tabindex",e[4]),1&t&&N(n,e[0]),4&t&&I(n,"w-full",e[2])},i:e,o:e,d(e){e&&S(n),t[9](null),r=!1,o(s)}}}function Oa(){this.style.height="auto",this.style.height=this.scrollHeight+"px"}function Pa(e,t,n){let r,{value:s=""}=t,{placeholder:o=""}=t,{fillWidth:i=!1}=t,{focusOnMount:a=!1}=t,{onEnter:l=null}=t,{onBlur:c=null}=t,{tabindex:u=0}=t;G((()=>{r.setAttribute("style","height:"+r.scrollHeight+"px;"),Oa.call(r),a&&r.focus()}));return e.$$set=e=>{"value"in e&&n(0,s=e.value),"placeholder"in e&&n(1,o=e.placeholder),"fillWidth"in e&&n(2,i=e.fillWidth),"focusOnMount"in e&&n(7,a=e.focusOnMount),"onEnter"in e&&n(8,l=e.onEnter),"onBlur"in e&&n(3,c=e.onBlur),"tabindex"in e&&n(4,u=e.tabindex)},[s,o,i,c,u,r,function(e){"Enter"===e.key&&!e.shiftKey&&l&&(e.preventDefault(),l(r.value))},a,l,function(e){J[e?"unshift":"push"]((()=>{r=e,n(5,r)}))},function(){s=this.value,n(0,s)},()=>c?.()]}class za extends Re{constructor(e){super(),Ae(this,e,Pa,Ia,a,{value:0,placeholder:1,fillWidth:2,focusOnMount:7,onEnter:8,onBlur:3,tabindex:4})}}function Ma(e){let t;return{c(){t=C("div"),t.innerHTML='<div class="select-indicator rounded-full h-4 w-4 border border-solid border-gray-500 dark:border-gray-400 svelte-tesd1w"></div>',A(t,"class","flex items-center")},m(e,n){_(e,t,n)},d(e){e&&S(t)}}}function Fa(e){let t,n;return t=new xa({props:{key:e[2],string:e[3]}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.key=e[2]),8&n&&(r.string=e[3]),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function Ha(e){let t,n,r,s,i,a,l,c,u,d,f,h,p,m,g=e[0].selectMode&&Ma(),b=!e[0].selectMode&&Fa(e);function y(t){e[12](t)}let v={placeholder:"Empty string",fillWidth:!0,tabindex:e[0].selectMode?-1:0,onBlur:e[8]};return void 0!==e[3]&&(v.value=e[3]),u=new za({props:v}),J.push((()=>Ee(u,"value",y))),{c(){t=C("button"),n=C("div"),r=C("div"),g&&g.c(),s=T(),i=C("input"),l=T(),b&&b.c(),c=T(),Te(u.$$.fragment),A(i,"class","bg-transparent text-red-600 dark:text-red-500 placeholder:text-gray-400 dark:placeholder:text-gray-500 monospace rounded p-1 text-sm w-24 svelte-tesd1w"),A(i,"placeholder","0x00000000"),A(i,"type","text"),A(i,"tabindex",a=e[0].selectMode?-1:0),I(i,"valid",e[5]),A(r,"class","w-full flex justify-between mb-2"),A(n,"class","w-full svelte-tesd1w"),A(t,"class","flex flex-col justify-start px-3 py-2 bg-gray-50 dark:bg-gray-700 rounded hacker-border-gray border border-gray-50 dark:border-gray-700 hacker-bg-black svelte-tesd1w"),A(t,"tabindex",f=e[0].selectMode?0:-1),I(t,"selected",e[0].isSelected(e[1])),I(t,"selectable",e[0].selectMode)},m(o,a){_(o,t,a),x(t,n),x(n,r),g&&g.m(r,null),x(r,s),x(r,i),e[10](i),N(i,e[2]),x(r,l),b&&b.m(r,null),x(n,c),Le(u,n,null),h=!0,p||(m=[j(i,"input",e[11]),j(i,"blur",e[7]),j(t,"click",e[6])],p=!0)},p(e,[n]){e[0].selectMode?g||(g=Ma(),g.c(),g.m(r,s)):g&&(g.d(1),g=null),(!h||1&n&&a!==(a=e[0].selectMode?-1:0))&&A(i,"tabindex",a),4&n&&i.value!==e[2]&&N(i,e[2]),32&n&&I(i,"valid",e[5]),e[0].selectMode?b&&(pe(),be(b,1,1,(()=>{b=null})),me()):b?(b.p(e,n),1&n&&ge(b,1)):(b=Fa(e),b.c(),ge(b,1),b.m(r,null));const o={};1&n&&(o.tabindex=e[0].selectMode?-1:0),!d&&8&n&&(d=!0,o.value=e[3],se((()=>d=!1))),u.$set(o),(!h||1&n&&f!==(f=e[0].selectMode?0:-1))&&A(t,"tabindex",f),3&n&&I(t,"selected",e[0].isSelected(e[1])),1&n&&I(t,"selectable",e[0].selectMode)},i(e){h||(ge(b),ge(u.$$.fragment,e),h=!0)},o(e){be(b),be(u.$$.fragment,e),h=!1},d(n){n&&S(t),g&&g.d(),e[10](null),b&&b.d(),je(u),p=!1,o(m)}}}function Ua(e,t,n){let r;const{formatStringKey:s}=window.S4TK.formatting;let o,i,a,{project:l}=t,{entry:c}=t,{selectionGroup:u}=t;return e.$$set=e=>{"project"in e&&n(9,l=e.project),"entry"in e&&n(1,c=e.entry),"selectionGroup"in e&&n(0,u=e.selectionGroup)},e.$$.update=()=>{4&e.$$.dirty&&n(5,r=null==o||go(o,8)),512&e.$$.dirty&&function(){n(2,o=s(c.key));const e=l.stbl.getValue(c.id);n(3,i=e?.replace(/\\n/g,"\n"))}()},[u,c,o,i,a,r,function(){u.selectMode&&(u.toggleValue(c),n(0,u))},function(){if(n(2,o=o.trim()),r){const e=parseInt(o,16);l.stbl.setKey(c.id,e),l.stbl.saveToStorage(l.uuid),n(9,l)}else a.focus()},function(){i!==l.stbl.getValue(c.id)&&(l.setValue(c.id,i),n(9,l))},l,function(e){J[e?"unshift":"push"]((()=>{a=e,n(4,a)}))},function(){o=this.value,n(2,o)},function(e){i=e,n(3,i)}]}class Wa extends Re{constructor(e){super(),Ae(this,e,Ua,Ha,a,{project:9,entry:1,selectionGroup:0})}}function qa(e,t,n){const r=e.slice();return r[7]=t[n],r[8]=t,r[9]=n,r}function Ga(t){let n;function r(e,t){return 0===e[0].stbl.numEntries?Za:Va}let s=r(t),o=s(t);return{c(){n=C("div"),o.c(),A(n,"class","w-full text-center py-12 px-4 border-2 border-dashed border-gray-400 dark:border-gray-600 hacker-border-gray svelte-6b8yp3")},m(e,t){_(e,n,t),o.m(n,null)},p(e,t){s===(s=r(e))&&o?o.p(e,t):(o.d(1),o=s(e),o&&(o.c(),o.m(n,null)))},i:e,o:e,d(e){e&&S(n),o.d()}}}function Ka(e){let t,n,r=[],s=new Map,o=e[2];const i=e=>e[7].id;for(let t=0;t<o.length;t+=1){let n=qa(e,o,t),a=i(n);s.set(a,r[t]=Ja(a,n))}return{c(){t=C("div");for(let e=0;e<r.length;e+=1)r[e].c();A(t,"class","grid gap-4 drop-shadow-md svelte-6b8yp3")},m(e,s){_(e,t,s);for(let e=0;e<r.length;e+=1)r[e].m(t,null);n=!0},p(e,n){7&n&&(o=e[2],pe(),r=_e(r,n,i,1,e,o,s,t,ke,Ja,null,qa),me())},i(e){if(!n){for(let e=0;e<o.length;e+=1)ge(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)be(r[e]);n=!1},d(e){e&&S(t);for(let e=0;e<r.length;e+=1)r[e].d()}}}function Va(t){let n,r,s;return{c(){n=C("h2"),n.textContent="Nothing to See Here",r=T(),s=C("p"),s.textContent="No strings in this project match your search query.",A(n,"class","text-xl mb-4 text-subtle font-bold"),A(s,"class","text-subtle")},m(e,t){_(e,n,t),_(e,r,t),_(e,s,t)},p:e,d(e){e&&S(n),e&&S(r),e&&S(s)}}}function Za(t){let n,r,s,o,i,a,l,c,u,d;return{c(){n=C("h2"),n.textContent="This Project is Empty",r=T(),s=C("p"),s.textContent="Add strings with the toolbar in the bottom-right corner.",o=T(),i=C("p"),a=E("Confused? Check out the "),l=C("button"),l.textContent="help menu",c=E("."),A(n,"class","text-xl mb-4 text-subtle font-bold"),A(s,"class","text-subtle mb-2"),A(l,"class","text-secondary underline hover:no-underline"),A(i,"class","text-subtle")},m(e,f){_(e,n,f),_(e,r,f),_(e,s,f),_(e,o,f),_(e,i,f),x(i,a),x(i,l),x(i,c),u||(d=j(l,"click",t[6]),u=!0)},p:e,d(e){e&&S(n),e&&S(r),e&&S(s),e&&S(o),e&&S(i),u=!1,d()}}}function Ja(e,t){let n,r,s,o,i,a;function l(e){t[3](e)}function c(e){t[4](e,t[7],t[8],t[9])}function u(e){t[5](e)}let d={};return void 0!==t[0]&&(d.project=t[0]),void 0!==t[7]&&(d.entry=t[7]),void 0!==t[1]&&(d.selectionGroup=t[1]),r=new Wa({props:d}),J.push((()=>Ee(r,"project",l))),J.push((()=>Ee(r,"entry",c))),J.push((()=>Ee(r,"selectionGroup",u))),{key:e,first:null,c(){n=L(),Te(r.$$.fragment),this.first=n},m(e,t){_(e,n,t),Le(r,e,t),a=!0},p(e,n){t=e;const a={};!s&&1&n&&(s=!0,a.project=t[0],se((()=>s=!1))),!o&&4&n&&(o=!0,a.entry=t[7],se((()=>o=!1))),!i&&2&n&&(i=!0,a.selectionGroup=t[1],se((()=>i=!1))),r.$set(a)},i(e){a||(ge(r.$$.fragment,e),a=!0)},o(e){be(r.$$.fragment,e),a=!1},d(e){e&&S(n),je(r,e)}}}function Ya(e){let t,n,r,s;const o=[Ka,Ga],i=[];function a(e,t){return e[2].length>0?0:1}return t=a(e),n=i[t]=o[t](e),{c(){n.c(),r=L()},m(e,n){i[t].m(e,n),_(e,r,n),s=!0},p(e,[s]){let l=t;t=a(e),t===l?i[t].p(e,s):(pe(),be(i[l],1,1,(()=>{i[l]=null})),me(),n=i[t],n?n.p(e,s):(n=i[t]=o[t](e),n.c()),ge(n,1),n.m(r.parentNode,r))},i(e){s||(ge(n),s=!0)},o(e){be(n),s=!1},d(e){i[t].d(e),e&&S(r)}}}function Xa(e,t,n){let{project:r}=t,{selectionGroup:s}=t,{sliceToRender:o}=t;return e.$$set=e=>{"project"in e&&n(0,r=e.project),"selectionGroup"in e&&n(1,s=e.selectionGroup),"sliceToRender"in e&&n(2,o=e.sliceToRender)},[r,s,o,function(e){r=e,n(0,r)},function(e,t,r,s){r[s]=e,n(2,o)},function(e){s=e,n(1,s)},()=>ct.request("help")]}class Qa extends Re{constructor(e){super(),Ae(this,e,Xa,Ya,a,{project:0,selectionGroup:1,sliceToRender:2})}}function el(t){let n,r,s,i,a,l,c,u,d,f,h,p;return{c(){n=C("div"),r=C("div"),s=C("p"),s.innerHTML='<span class="font-bold text-red-600 dark:text-red-400">WARNING:</span>\n      Do not edit in JSON mode unless you know what you are doing. (1) You will not\n      be asked to confirm if you want to delete strings, and there is no way to recover\n      them if you do. (2) Changing an entry&#39;s key will delete ALL of its translations.\n      (3) This mode does not autosave; you must click the &quot;Save&quot; button manually.',i=T(),a=C("p"),l=E("Confused about the syntax? Read about it "),c=C("button"),c.textContent="here",u=E("."),d=T(),f=C("textarea"),A(s,"class","text-xs text-subtle"),A(c,"class","text-secondary underline hover:no-underline"),A(a,"class","text-xs text-subtle"),A(r,"class","w-full flex flex-col gap-2"),A(f,"class","w-full resize-none h-80 p-2 rounded monospace text-sm border bg-gray-50 border-gray-400 dark:bg-gray-700 dark:border-gray-900 hacker-border-gray placeholder:text-gray-400 dark:placeholder:text-gray-500"),A(f,"placeholder","Enter JSON content"),A(n,"class","w-full flex flex-col gap-4")},m(e,o){_(e,n,o),x(n,r),x(r,s),x(r,i),x(r,a),x(a,l),x(a,c),x(a,u),x(n,d),x(n,f),N(f,t[0]),h||(p=[j(c,"click",t[3]),j(f,"input",t[4])],h=!0)},p(e,[t]){1&t&&N(f,e[0])},i:e,o:e,d(e){e&&S(n),h=!1,o(p)}}}function tl(e,t,n){let{project:r}=t;let s=JSON.stringify(r.stbl.getJson(void 0,!0),null,2);return e.$$set=e=>{"project"in e&&n(1,r=e.project)},[s,r,()=>{try{const e=Mo(s);return r.replaceEntries(e),n(1,r),!0}catch(e){return console.error(e),alert("Your JSON appears to be malformed and could not be saved. Check the console for error details."),!1}},()=>{ct.request("help","open",{route:"/json"})},function(){s=this.value,n(0,s)}]}class nl extends Re{constructor(e){super(),Ae(this,e,tl,el,a,{project:1,saveJson:2})}get saveJson(){return this.$$.ctx[2]}}function rl(e){let t,n,r,s,o,i,a,l,c,u,d;function f(t){e[8](t)}let h={placeholder:"Same as source language",fillWidth:!0,onBlur:e[4]};return void 0!==e[1]&&(h.value=e[1]),c=new za({props:h}),J.push((()=>Ee(c,"value",f))),{c(){t=C("div"),n=C("div"),r=C("p"),s=E(e[2]),o=T(),i=C("p"),i.textContent=`${e[3]?e[3]:"Empty string"}`,a=T(),l=C("div"),Te(c.$$.fragment),A(r,"class","pt-2 text-primary monospace"),r.hidden=e[0],A(i,"class","py-2 flex-1 w-full whitespace-pre-wrap"),I(i,"text-gray-400",!Boolean(e[3])),I(i,"dark:text-gray-500",!Boolean(e[3])),A(l,"class","flex-1 w-full flex items-center mb-2 sm:mb-0"),A(n,"class","flex flex-col sm:flex-row justify-between items-start gap-4"),A(t,"class","w-full flex-0 flex flex-col gap-2 py-2 px-4 first:rounded-t last:rounded-b bg-gray-50 dark:bg-gray-700 hacker-bg-black border border-gray-100 dark:border-gray-800 hacker-border-gray")},m(e,u){_(e,t,u),x(t,n),x(n,r),x(r,s),x(n,o),x(n,i),x(n,a),x(n,l),Le(c,l,null),d=!0},p(e,[t]){(!d||1&t)&&(r.hidden=e[0]),8&t&&I(i,"text-gray-400",!Boolean(e[3])),8&t&&I(i,"dark:text-gray-500",!Boolean(e[3]));const n={};!u&&2&t&&(u=!0,n.value=e[1],se((()=>u=!1))),c.$set(n)},i(e){d||(ge(c.$$.fragment,e),d=!0)},o(e){be(c.$$.fragment,e),d=!1},d(e){e&&S(t),je(c)}}}function sl(e,t,n){const{formatStringKey:r}=window.S4TK.formatting;let{project:s}=t,{locale:o}=t,{entry:i}=t,{hideKey:a}=t;const l=r(i.key),c=s.stbl.getValue(i.id)?.replace(/\\n/g,"\n")??"";let u;return e.$$set=e=>{"project"in e&&n(5,s=e.project),"locale"in e&&n(6,o=e.locale),"entry"in e&&n(7,i=e.entry),"hideKey"in e&&n(0,a=e.hideKey)},e.$$.update=()=>{96&e.$$.dirty&&n(1,u=s.stbl.getValue(i.id,o)?.replace(/\\n/g,"\n")??"")},[a,u,l,c,function(){u!==s.stbl.getValue(i.id,o)&&(s.setValue(i.id,u,o),n(5,s))},s,o,i,function(e){u=e,n(1,u)}]}class ol extends Re{constructor(e){super(),Ae(this,e,sl,rl,a,{project:5,locale:6,entry:7,hideKey:0})}}function il(e,t,n){const r=e.slice();return r[11]=t[n],r[12]=t,r[13]=n,r}function al(t){let n;function r(e,t){return 0===e[0].stbl.numEntries?dl:0===e[2].length?ul:cl}let s=r(t),o=s(t);return{c(){n=C("div"),o.c(),A(n,"class","w-full text-center py-12 px-4 border-2 border-dashed border-gray-400 dark:border-gray-600 hacker-border-gray")},m(e,t){_(e,n,t),o.m(n,null)},p(e,t){s===(s=r(e))&&o?o.p(e,t):(o.d(1),o=s(e),o&&(o.c(),o.m(n,null)))},i:e,o:e,d(e){e&&S(n),o.d()}}}function ll(e){let t,n,r=[],s=new Map,o=e[2];const i=e=>e[11].id;for(let t=0;t<o.length;t+=1){let n=il(e,o,t),a=i(n);s.set(a,r[t]=fl(a,n))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=L()},m(e,s){for(let t=0;t<r.length;t+=1)r[t].m(e,s);_(e,t,s),n=!0},p(e,n){15&n&&(o=e[2],pe(),r=_e(r,n,i,1,e,o,s,t.parentNode,ke,fl,t,il),me())},i(e){if(!n){for(let e=0;e<o.length;e+=1)ge(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)be(r[e]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&S(t)}}}function cl(t){let n,r,s;return{c(){n=C("h2"),n.textContent="No Languages to Translate",r=T(),s=C("p"),s.textContent="You can only translate to languages that are included in your project.\n        Click the banner at the top of the page to add locales.",A(n,"class","text-xl mb-4 text-subtle font-bold"),A(s,"class","text-subtle")},m(e,t){_(e,n,t),_(e,r,t),_(e,s,t)},p:e,d(e){e&&S(n),e&&S(r),e&&S(s)}}}function ul(t){let n,r,s;return{c(){n=C("h2"),n.textContent="Nothing to See Here",r=T(),s=C("p"),s.textContent="No strings in this project match your search query.",A(n,"class","text-xl mb-4 text-subtle font-bold"),A(s,"class","text-subtle")},m(e,t){_(e,n,t),_(e,r,t),_(e,s,t)},p:e,d(e){e&&S(n),e&&S(r),e&&S(s)}}}function dl(t){let n,r,s,o,i,a,l,c,u,d;return{c(){n=C("h2"),n.textContent="This Project is Empty",r=T(),s=C("p"),s.textContent="Add strings with the toolbar in the bottom-right corner.",o=T(),i=C("p"),a=E("Confused? Check out the "),l=C("button"),l.textContent="help menu",c=E("."),A(n,"class","text-xl mb-4 text-subtle font-bold"),A(s,"class","text-subtle mb-2"),A(l,"class","text-secondary underline hover:no-underline"),A(i,"class","text-subtle")},m(e,f){_(e,n,f),_(e,r,f),_(e,s,f),_(e,o,f),_(e,i,f),x(i,a),x(i,l),x(i,c),u||(d=j(l,"click",t[9]),u=!0)},p:e,d(e){e&&S(n),e&&S(r),e&&S(s),e&&S(o),e&&S(i),u=!1,d()}}}function fl(e,t){let n,r,s,o,i,a,l;function c(e){t[5](e)}function u(e){t[6](e)}function d(e){t[7](e,t[11],t[12],t[13])}function f(e){t[8](e)}let h={};return void 0!==t[0]&&(h.project=t[0]),void 0!==t[1]&&(h.locale=t[1]),void 0!==t[11]&&(h.entry=t[11]),void 0!==t[3]&&(h.hideKey=t[3]),r=new ol({props:h}),J.push((()=>Ee(r,"project",c))),J.push((()=>Ee(r,"locale",u))),J.push((()=>Ee(r,"entry",d))),J.push((()=>Ee(r,"hideKey",f))),{key:e,first:null,c(){n=L(),Te(r.$$.fragment),this.first=n},m(e,t){_(e,n,t),Le(r,e,t),l=!0},p(e,n){t=e;const l={};!s&&1&n&&(s=!0,l.project=t[0],se((()=>s=!1))),!o&&2&n&&(o=!0,l.locale=t[1],se((()=>o=!1))),!i&&4&n&&(i=!0,l.entry=t[11],se((()=>i=!1))),!a&&8&n&&(a=!0,l.hideKey=t[3],se((()=>a=!1))),r.$set(l)},i(e){l||(ge(r.$$.fragment,e),l=!0)},o(e){be(r.$$.fragment,e),l=!1},d(e){e&&S(n),je(r,e)}}}function hl(e){let t,n,r,s;const o=[ll,al],i=[];function a(e,t){return e[4]&&e[2].length>0?0:1}return t=a(e),n=i[t]=o[t](e),{c(){n.c(),r=L()},m(e,n){i[t].m(e,n),_(e,r,n),s=!0},p(e,[s]){let l=t;t=a(e),t===l?i[t].p(e,s):(pe(),be(i[l],1,1,(()=>{i[l]=null})),me(),n=i[t],n?n.p(e,s):(n=i[t]=o[t](e),n.c()),ge(n,1),n.m(r.parentNode,r))},i(e){s||(ge(n),s=!0)},o(e){be(n),s=!1},d(e){i[t].d(e),e&&S(r)}}}function pl(e,t,n){let r,{project:s}=t,{locale:o}=t,{sliceToRender:i}=t,a=nt.translateHideKeys;const l=[rt.subscribe("translateHideKeys",(e=>{n(3,a=e)}))];K((()=>{l.forEach((e=>e()))}));return e.$$set=e=>{"project"in e&&n(0,s=e.project),"locale"in e&&n(1,o=e.locale),"sliceToRender"in e&&n(2,i=e.sliceToRender)},e.$$.update=()=>{1&e.$$.dirty&&n(4,r=s.stbl.numLocales>1&&s.stbl.numEntries>0)},[s,o,i,a,r,function(e){s=e,n(0,s)},function(e){o=e,n(1,o)},function(e,t,r,s){r[s]=e,n(2,i)},function(e){a=e,n(3,a)},()=>ct.request("help")]}class ml extends Re{constructor(e){super(),Ae(this,e,pl,hl,a,{project:0,locale:1,sliceToRender:2})}}function gl(e){let t,n,r,s;return{c(){t=C("button"),n=E(e[1]),A(t,"class","svelte-spz8kl")},m(o,i){_(o,t,i),x(t,n),r||(s=j(t,"click",e[15]),r=!0)},p(e,t){2&t&&B(n,e[1])},d(e){e&&S(t),r=!1,s()}}}function bl(e){let t;return{c(){t=C("p"),t.textContent="•••",A(t,"class","dots my-0")},m(e,n){_(e,t,n)},d(e){e&&S(t)}}}function yl(e){let t,n,r,s;return{c(){t=C("button"),n=E(e[3]),A(t,"class","svelte-spz8kl")},m(o,i){_(o,t,i),x(t,n),r||(s=j(t,"click",e[16]),r=!0)},p(e,t){8&t&&B(n,e[3])},d(e){e&&S(t),r=!1,s()}}}function vl(e){let t,n,r,s;return{c(){t=C("button"),n=E(e[5]),A(t,"class","svelte-spz8kl")},m(o,i){_(o,t,i),x(t,n),r||(s=j(t,"click",e[19]),r=!0)},p(e,t){32&t&&B(n,e[5])},d(e){e&&S(t),r=!1,s()}}}function $l(e){let t;return{c(){t=C("p"),t.textContent="•••",A(t,"class","dots my-0")},m(e,n){_(e,t,n)},d(e){e&&S(t)}}}function xl(e){let t,n,r,s;return{c(){t=C("button"),n=E(e[7]),A(t,"class","svelte-spz8kl")},m(o,i){_(o,t,i),x(t,n),r||(s=j(t,"click",e[20]),r=!0)},p(e,t){128&t&&B(n,e[7])},d(e){e&&S(t),r=!1,s()}}}function wl(t){let n,r,s,i,a,l,c,u,d,f,h,p=t[1]&&gl(t),m=t[2]&&bl(),g=t[3]&&yl(t),b=t[5]&&vl(t),y=t[6]&&$l(),v=t[7]&&xl(t);return{c(){n=C("div"),p&&p.c(),r=T(),m&&m.c(),s=T(),g&&g.c(),i=T(),a=C("input"),c=T(),b&&b.c(),u=T(),y&&y.c(),d=T(),v&&v.c(),A(a,"class","placeholder:text-gray-400 dark:placeholder:text-gray-500 svelte-spz8kl"),A(a,"type","number"),A(a,"placeholder","#"),a.hidden=l=t[8]<=1,A(n,"class","fixed left-6 bottom-6 z-10 flex items-center gap-2")},m(e,o){_(e,n,o),p&&p.m(n,null),x(n,r),m&&m.m(n,null),x(n,s),g&&g.m(n,null),x(n,i),x(n,a),t[17](a),N(a,t[4]),x(n,c),b&&b.m(n,null),x(n,u),y&&y.m(n,null),x(n,d),v&&v.m(n,null),f||(h=[j(a,"input",t[18]),j(a,"change",t[10])],f=!0)},p(e,[t]){e[1]?p?p.p(e,t):(p=gl(e),p.c(),p.m(n,r)):p&&(p.d(1),p=null),e[2]?m||(m=bl(),m.c(),m.m(n,s)):m&&(m.d(1),m=null),e[3]?g?g.p(e,t):(g=yl(e),g.c(),g.m(n,i)):g&&(g.d(1),g=null),256&t&&l!==(l=e[8]<=1)&&(a.hidden=l),16&t&&R(a.value)!==e[4]&&N(a,e[4]),e[5]?b?b.p(e,t):(b=vl(e),b.c(),b.m(n,u)):b&&(b.d(1),b=null),e[6]?y||(y=$l(),y.c(),y.m(n,d)):y&&(y.d(1),y=null),e[7]?v?v.p(e,t):(v=xl(e),v.c(),v.m(n,null)):v&&(v.d(1),v=null)},i:e,o:e,d(e){e&&S(n),p&&p.d(),m&&m.d(),g&&g.d(),t[17](null),b&&b.d(),y&&y.d(),v&&v.d(),f=!1,o(h)}}}function kl(e,t,n){let r,s,o,i,a,l,c,{items:u}=t,{onSliceUpdate:d}=t,f=1,h=!1,p=f,m=!1;function g(){n(14,c=nt.showAllStrings?Number.MAX_SAFE_INTEGER:nt.entriesPerPage)}g();const b=[rt.subscribe("showAllStrings",g),rt.subscribe("entriesPerPage",g),en("ArrowRight",(()=>{f<r&&(n(13,f++,f),n(4,p=f))}),{ctrlOrMeta:!0,preventDefault:!0}),en("ArrowLeft",(()=>{f>1&&(n(13,f--,f),n(4,p=f))}),{ctrlOrMeta:!0,preventDefault:!0}),en("p",(()=>{s.focus()}),{ctrlOrMeta:!0,preventDefault:!0})];function y(e){n(4,p=e),n(13,f=e)}K((()=>{b.forEach((e=>e()))}));return e.$$set=e=>{"items"in e&&n(11,u=e.items),"onSliceUpdate"in e&&n(12,d=e.onSliceUpdate)},e.$$.update=()=>{18432&e.$$.dirty&&n(8,r=Math.ceil(u.length/c)),26624&e.$$.dirty&&async function(){if(0===u.length)return n(1,o=null),n(3,i=null),n(5,a=null),n(7,l=null),n(2,h=!1),n(6,m=!1),void d(u);f>r&&(n(4,p=r),n(13,f=r)),n(1,o=f>1?1:null),n(3,i=f>2?f-1:null),n(2,h=!(!o||!i)&&o<i-1),n(5,a=f<r-1?f+1:null),n(7,l=f<r?r:null),n(6,m=!(!a||!l)&&l>a+1);const e=(f-1)*c,t=Math.min(e+c,u.length+1),s=u.slice(e,t);d(s)}()},[s,o,h,i,p,a,m,l,r,y,function(){!p||p<1?n(4,p=1):p>r&&n(4,p=r),n(13,f=p)},u,d,f,c,()=>y(o),()=>y(i),function(e){J[e?"unshift":"push"]((()=>{s=e,n(0,s)}))},function(){p=R(this.value),n(4,p)},()=>y(a),()=>y(l)]}class _l extends Re{constructor(e){super(),Ae(this,e,kl,wl,a,{items:11,onSliceUpdate:12})}}var Sl,Cl;function El(e){return Object.values(e).filter((e=>"number"==typeof e)).map((t=>({value:t,text:e[t].replace(/([A-Z])/g," $1").trim()})))}!function(e){e[e.Chronological=0]="Chronological",e[e.Alphanumeric=1]="Alphanumeric",e[e.ReverseAlphanumeric=2]="ReverseAlphanumeric"}(Sl||(Sl={})),function(e){e[e.Contains=0]="Contains",e[e.ExactMatch=1]="ExactMatch",e[e.BeginsWith=2]="BeginsWith",e[e.EndsWith=3]="EndsWith",e[e.Regex=4]="Regex",e[e.KeyEquals=5]="KeyEquals"}(Cl||(Cl={}));const Tl=El(Sl),Ll=El(Cl);function jl(e,t,n,r){return Al(e,function(e,t,n){let r=t;return n.forEach((t=>{r=r.filter((n=>function(e,t,n){try{if(n.type===Cl.KeyEquals){return e===parseInt(n.text,16)}if(n.type===Cl.Regex){return new RegExp(n.text).test(t)}{const e=t.toLowerCase(),r=n.text.toLowerCase();switch(n.type){case Cl.Contains:return e.includes(r);case Cl.ExactMatch:return e===r;case Cl.BeginsWith:return e.startsWith(r);case Cl.EndsWith:return e.endsWith(r);default:return!0}}}catch(e){return!1}}(n.key,n.values.get(e),t)))})),r}(e,t,r),n)}function Al(e,t,n){switch(n){case Sl.Alphanumeric:return[...t].sort(((t,n)=>{const r=t.values.get(e).toLowerCase(),s=n.values.get(e).toLowerCase();return r<s?-1:r>s?1:0}));case Sl.ReverseAlphanumeric:return Al(e,t,Sl.Alphanumeric).reverse();default:return t}}function Rl(e,t,n){const r=e.slice();return r[13]=t[n],r[14]=t,r[15]=n,r}function Bl(e){let t;return{c(){t=C("p"),t.innerHTML='<span class="font-bold text-red-600 dark:text-red-400">WARNING:</span>\n          Larger projects might lag or freeze.',A(t,"class","text-xs text-red-600 dark:text-red-400")},m(e,n){_(e,t,n)},d(e){e&&S(t)}}}function Nl(e,t){let n,r,s,o,i,a,l,c,u,d,f;function h(e){t[10](e,t[13])}let p={name:"filter-select-"+t[15],options:Ll};function m(e){t[11](e,t[13])}void 0!==t[13].type&&(p.selected=t[13].type),r=new nr({props:p}),J.push((()=>Ee(r,"selected",h)));let g={name:"filter-input-"+t[15],placeholder:"Text...",fillWidth:!0};function b(){return t[12](t[15])}return void 0!==t[13].text&&(g.value=t[13].text),i=new vn({props:g}),J.push((()=>Ee(i,"value",m))),{key:e,first:null,c(){n=C("div"),Te(r.$$.fragment),o=T(),Te(i.$$.fragment),l=T(),c=C("button"),c.textContent="×",A(c,"class","font-bold"),A(n,"class","flex items-center gap-2 mb-2"),this.first=n},m(e,t){_(e,n,t),Le(r,n,null),x(n,o),Le(i,n,null),x(n,l),x(n,c),u=!0,d||(f=j(c,"click",b),d=!0)},p(e,n){t=e;const o={};1&n&&(o.name="filter-select-"+t[15]),!s&&1&n&&(s=!0,o.selected=t[13].type,se((()=>s=!1))),r.$set(o);const l={};1&n&&(l.name="filter-input-"+t[15]),!a&&1&n&&(a=!0,l.value=t[13].text,se((()=>a=!1))),i.$set(l)},i(e){u||(ge(r.$$.fragment,e),ge(i.$$.fragment,e),u=!0)},o(e){be(r.$$.fragment,e),be(i.$$.fragment,e),u=!1},d(e){e&&S(n),je(r),je(i),d=!1,f()}}}function Dl(e){let t,n,r,s,i,a,l,c,u,d,f,h,p,m,g,b,y,v,$,w,k,E,L,B,D,I,O,P=[],z=new Map;function M(t){e[8](t)}let F={label:"Show All"};void 0!==e[2].showAllStrings&&(F.checked=e[2].showAllStrings),f=new Yt({props:F}),J.push((()=>Ee(f,"checked",M)));let H=e[2].showAllStrings&&Bl();function U(t){e[9](t)}let W={label:"sort order",name:"entries-sort-order-select",fillWidth:!0,options:Tl};void 0!==e[2].sortOrder&&(W.selected=e[2].sortOrder),b=new nr({props:W}),J.push((()=>Ee(b,"selected",U)));let q=e[0];const G=e=>e[15];for(let t=0;t<q.length;t+=1){let n=Rl(e,q,t),r=G(n);z.set(r,P[t]=Nl(r,n))}return{c(){t=C("div"),n=C("div"),r=C("div"),s=C("label"),s.textContent="entries per page",i=T(),a=C("div"),l=C("div"),c=C("input"),d=T(),Te(f.$$.fragment),p=T(),H&&H.c(),m=T(),g=C("div"),Te(b.$$.fragment),v=T(),$=C("div"),w=C("p"),w.textContent="Filter / Search",k=T();for(let e=0;e<P.length;e+=1)P[e].c();E=T(),L=C("div"),B=C("button"),B.innerHTML='<img src="./assets/plus.svg" class="svg hover:svg-invert h-4" alt="+"/>Add Filter',A(s,"for","entries-per-page-input"),A(s,"class","uppercase text-xs font-bold text-subtle"),c.disabled=u=e[2].showAllStrings,A(c,"class","w-full block h-10 px-2 mt-2 rounded text-sm placeholder-gray-500 dark:placeholder-gray-500 bg-transparent border border-gray-600 dark:border-gray-400"),A(c,"name","entries-per-page-input"),A(c,"min","1"),A(c,"max","100"),A(c,"type","number"),A(c,"placeholder","#"),A(l,"class","w-full"),A(a,"class","flex gap-6 justify-between items-center"),A(n,"class","flex flex-col gap-3"),A(w,"class","uppercase text-subtle text-xs font-bold mb-2"),A(B,"class","flex justify-center items-center gap-2 py-2 px-4 text-sm rounded default-button"),A(L,"class","w-full flex justify-center"),A(t,"class","flex flex-col gap-4")},m(o,u){_(o,t,u),x(t,n),x(n,r),x(r,s),x(r,i),x(r,a),x(a,l),x(l,c),N(c,e[3]),x(a,d),Le(f,a,null),x(n,p),H&&H.m(n,null),x(t,m),x(t,g),Le(b,g,null),x(t,v),x(t,$),x($,w),x($,k);for(let e=0;e<P.length;e+=1)P[e].m($,null);x($,E),x($,L),x(L,B),D=!0,I||(O=[j(c,"input",e[7]),j(c,"blur",e[4]),j(B,"click",e[5])],I=!0)},p(e,t){(!D||4&t&&u!==(u=e[2].showAllStrings))&&(c.disabled=u),8&t&&R(c.value)!==e[3]&&N(c,e[3]);const r={};!h&&4&t&&(h=!0,r.checked=e[2].showAllStrings,se((()=>h=!1))),f.$set(r),e[2].showAllStrings?H||(H=Bl(),H.c(),H.m(n,null)):H&&(H.d(1),H=null);const s={};!y&&4&t&&(y=!0,s.selected=e[2].sortOrder,se((()=>y=!1))),b.$set(s),65&t&&(q=e[0],pe(),P=_e(P,t,G,1,e,q,z,$,ke,Nl,E,Rl),me())},i(e){if(!D){ge(f.$$.fragment,e),ge(b.$$.fragment,e);for(let e=0;e<q.length;e+=1)ge(P[e]);D=!0}},o(e){be(f.$$.fragment,e),be(b.$$.fragment,e);for(let e=0;e<P.length;e+=1)be(P[e]);D=!1},d(e){e&&S(t),je(f),H&&H.d(),je(b);for(let e=0;e<P.length;e+=1)P[e].d();I=!1,o(O)}}}function Il(e){let t,n;return t=new yt({props:{title:"Display Options",onClose:e[1],$$slots:{default:[Dl]},$$scope:{ctx:e}}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.onClose=e[1]),65549&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function Ol(e,t,n){let{onClose:r}=t,{filters:s=[]}=t,o=nt.entriesPerPage;function i(e){s.splice(e,1),n(0,s)}return e.$$set=e=>{"onClose"in e&&n(1,r=e.onClose),"filters"in e&&n(0,s=e.filters)},[s,r,nt,o,function(){o<1?n(3,o=1):o>100&&n(3,o=100),n(2,nt.entriesPerPage=o,nt)},function(){s.push({type:0,text:""}),n(0,s)},i,function(){o=R(this.value),n(3,o)},function(t){e.$$.not_equal(nt.showAllStrings,t)&&(nt.showAllStrings=t,n(2,nt))},function(t){e.$$.not_equal(nt.sortOrder,t)&&(nt.sortOrder=t,n(2,nt))},function(t,r){e.$$.not_equal(r.type,t)&&(r.type=t,n(0,s))},function(t,r){e.$$.not_equal(r.text,t)&&(r.text=t,n(0,s))},e=>i(e)]}class Pl extends Re{constructor(e){super(),Ae(this,e,Ol,Il,a,{onClose:1,filters:0})}}function zl(e,t,n){const r=e.slice();return r[4]=t[n],r[6]=n,r}function Ml(t){let n;return{c(){n=C("div"),n.innerHTML='<p>There are no warnings for this project.</p> \n        <p class="text-xs text-subtle mt-4">Congrats, you fixed &#39;em.</p>',A(n,"class","text-center my-auto")},m(e,t){_(e,n,t)},p:e,d(e){e&&S(n)}}}function Fl(e){let t,n,r,s=[],o=new Map;function i(e,t){return 1===e[0].length?Ul:Hl}let a=i(e),l=a(e),c=e[0];const u=e=>e[6];for(let t=0;t<c.length;t+=1){let n=zl(e,c,t),r=u(n);o.set(r,s[t]=Wl(r,n))}return{c(){t=C("div"),l.c(),n=T(),r=C("ul");for(let e=0;e<s.length;e+=1)s[e].c();A(r,"class","list-disc pl-4 mt-2")},m(e,o){_(e,t,o),l.m(t,null),x(t,n),x(t,r);for(let e=0;e<s.length;e+=1)s[e].m(r,null)},p(e,d){a===(a=i(e))&&l?l.p(e,d):(l.d(1),l=a(e),l&&(l.c(),l.m(t,n))),5&d&&(c=e[0],s=_e(s,d,u,1,e,c,o,r,we,Wl,null,zl))},d(e){e&&S(t),l.d();for(let e=0;e<s.length;e+=1)s[e].d()}}}function Hl(e){let t,n,r,s=e[0].length+"";return{c(){t=C("p"),n=E(s),r=E(" warnings were found:")},m(e,s){_(e,t,s),x(t,n),x(t,r)},p(e,t){1&t&&s!==(s=e[0].length+"")&&B(n,s)},d(e){e&&S(t)}}}function Ul(t){let n;return{c(){n=C("p"),n.textContent="1 warning was found:"},m(e,t){_(e,n,t)},p:e,d(e){e&&S(n)}}}function Wl(e,t){let n,r,s,o,i,a,l,c,u,d,f,h,p,m=t[4].message+"",g=t[4].idList.length+"",b=1===t[4].idList.length?"entry":"entries",y=t[4].keyList.map(t[3]).join(", ")+"";return{key:e,first:null,c(){n=C("li"),r=C("p"),s=E(m),o=T(),i=C("p"),a=E("Found in "),l=E(g),c=T(),u=E(b),d=E(": ["),f=E(y),h=E("]"),p=T(),A(r,"class","font-bold text-sm mb-1"),A(i,"class","text-xs text-subtle"),A(n,"class","px-2 mb-2"),this.first=n},m(e,t){_(e,n,t),x(n,r),x(r,s),x(n,o),x(n,i),x(i,a),x(i,l),x(i,c),x(i,u),x(i,d),x(i,f),x(i,h),x(n,p)},p(e,n){t=e,1&n&&m!==(m=t[4].message+"")&&B(s,m),1&n&&g!==(g=t[4].idList.length+"")&&B(l,g),1&n&&b!==(b=1===t[4].idList.length?"entry":"entries")&&B(u,b),1&n&&y!==(y=t[4].keyList.map(t[3]).join(", ")+"")&&B(f,y)},d(e){e&&S(n)}}}function ql(e){let t;function n(e,t){return e[0].length>0?Fl:Ml}let r=n(e),s=r(e);return{c(){t=C("div"),s.c(),A(t,"class","flex-1 flex flex-col gap-4")},m(e,n){_(e,t,n),s.m(t,null)},p(e,o){r===(r=n(e))&&s?s.p(e,o):(s.d(1),s=r(e),s&&(s.c(),s.m(t,null)))},d(e){e&&S(t),s.d()}}}function Gl(e){let t,n;return t=new yt({props:{title:"Warnings",onClose:e[1],$$slots:{default:[ql]},$$scope:{ctx:e}}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.onClose=e[1]),129&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function Kl(e,t,n){const{formatStringKey:r}=window.S4TK.formatting;let{warnings:s}=t,{onClose:o}=t;return e.$$set=e=>{"warnings"in e&&n(0,s=e.warnings),"onClose"in e&&n(1,o=e.onClose)},[s,o,r,e=>r(e)]}class Vl extends Re{constructor(e){super(),Ae(this,e,Kl,Gl,a,{warnings:0,onClose:1})}}function Zl(e,t,n){const r=e.slice();return r[41]=t[n],r[43]=n,r}function Jl(e,t){let n,r,s,o,i,a;function l(){return t[18](t[43])}return{key:e,first:null,c(){n=C("button"),r=C("img"),o=T(),A(r,"class","svg h-4 svelte-1wyxk7p"),c(r.src,s="./assets/"+t[41].icon+".svg")||A(r,"src",s),A(r,"alt",t[41].name),A(n,"class","flex items-center justify-center p-2 rounded-full border border-gray-400 dark:border-gray-500 hacker-border-gray hover:bg-gray-300 hover:dark:bg-gray-700 hover:hacker-bg-gray svelte-1wyxk7p"),A(n,"title",t[41].name),I(n,"active",t[43]===t[4]),this.first=n},m(e,t){_(e,n,t),x(n,r),x(n,o),i||(a=j(n,"click",l),i=!0)},p(e,r){t=e,65552&r[0]&&I(n,"active",t[43]===t[4])},d(e){e&&S(n),i=!1,a()}}}function Yl(e){let t,n,r,s,o;function i(t){e[22](t)}function a(t){e[23](t)}let l={label:"translating to",alignRight:!0};return void 0!==e[6]&&(l.selected=e[6]),void 0!==e[7]&&(l.localesToChoose=e[7]),n=new cr({props:l}),J.push((()=>Ee(n,"selected",i))),J.push((()=>Ee(n,"localesToChoose",a))),{c(){t=C("div"),Te(n.$$.fragment),A(t,"class","mt-4 sm:mt-0")},m(e,r){_(e,t,r),Le(n,t,null),o=!0},p(e,t){const o={};!r&&64&t[0]&&(r=!0,o.selected=e[6],se((()=>r=!1))),!s&&128&t[0]&&(s=!0,o.localesToChoose=e[7],se((()=>s=!1))),n.$set(o)},i(e){o||(ge(n.$$.fragment,e),o=!0)},o(e){be(n.$$.fragment,e),o=!1},d(e){e&&S(t),je(n)}}}function Xl(t){let n,r,s,o,i,a,l=t[11]?"Saved!":"Save";return{c(){n=C("button"),r=C("img"),o=E(l),A(r,"class","h-4"),c(r.src,s="./assets/save-outline.svg")||A(r,"src","./assets/save-outline.svg"),A(r,"alt","Save"),n.disabled=t[11],A(n,"class","flex mt-4 sm:mt-0 justify-center items-center text-sm gap-2 rounded py-1 w-24 default-button border border-black dark:border-white hacker-border-gray"),I(n,"cursor-not-allowed",t[11])},m(e,s){_(e,n,s),x(n,r),x(n,o),i||(a=j(n,"click",t[17]),i=!0)},p(e,t){2048&t[0]&&l!==(l=e[11]?"Saved!":"Save")&&B(o,l),2048&t[0]&&(n.disabled=e[11]),2048&t[0]&&I(n,"cursor-not-allowed",e[11])},i:e,o:e,d(e){e&&S(n),i=!1,a()}}}function Ql(e){let t,n,r,s,o,i,a,l,c,u=e[13].length>0&&ec(e);function d(t){e[21](t)}let f={disabled:0===e[8].length};return void 0!==e[1]&&(f.selectionGroup=e[1]),o=new Pi({props:f}),J.push((()=>Ee(o,"selectionGroup",d))),{c(){t=C("div"),u&&u.c(),n=T(),r=C("button"),r.textContent="DISPLAY",s=T(),Te(o.$$.fragment),A(r,"class","text-sm hover:text-subtle"),A(t,"class","flex justify-center gap-4")},m(i,d){_(i,t,d),u&&u.m(t,null),x(t,n),x(t,r),x(t,s),Le(o,t,null),a=!0,l||(c=j(r,"click",e[20]),l=!0)},p(e,r){e[13].length>0?u?u.p(e,r):(u=ec(e),u.c(),u.m(t,n)):u&&(u.d(1),u=null);const s={};256&r[0]&&(s.disabled=0===e[8].length),!i&&2&r[0]&&(i=!0,s.selectionGroup=e[1],se((()=>i=!1))),o.$set(s)},i(e){a||(ge(o.$$.fragment,e),a=!0)},o(e){be(o.$$.fragment,e),a=!1},d(e){e&&S(t),u&&u.d(),je(o),l=!1,c()}}}function ec(e){let t,n,r,s,o,i,a=e[13].length+"";return{c(){t=C("button"),n=E("WARNINGS ("),r=E(a),s=E(")"),A(t,"class","text-sm text-red-600 hover:text-red-500 dark:text-red-400 dark:hover:text-red-300")},m(a,l){_(a,t,l),x(t,n),x(t,r),x(t,s),o||(i=j(t,"click",e[19]),o=!0)},p(e,t){8192&t[0]&&a!==(a=e[13].length+"")&&B(r,a)},d(e){e&&S(t),o=!1,i()}}}function tc(e){let t,n,r,s,o;function i(t){e[24](t)}let a={label:"Hide String Keys"};return void 0!==e[2].translateHideKeys&&(a.checked=e[2].translateHideKeys),r=new Yt({props:a}),J.push((()=>Ee(r,"checked",i))),{c(){t=C("div"),n=C("div"),Te(r.$$.fragment),A(n,"class","max-w-min whitespace-nowrap"),A(t,"class","mt-4 flex flex-wrap sm:flex-nowrap gap-4 sm:gap-8")},m(e,s){_(e,t,s),x(t,n),Le(r,n,null),o=!0},p(e,t){const n={};!s&&4&t[0]&&(s=!0,n.checked=e[2].translateHideKeys,se((()=>s=!1))),r.$set(n)},i(e){o||(ge(r.$$.fragment,e),o=!0)},o(e){be(r.$$.fragment,e),o=!1},d(e){e&&S(t),je(r)}}}function nc(e){let t,n,r,s,o,i,a,l,c,u,d=e[8].length+"",f=e[0].stbl.numEntries+"";return{c(){t=C("div"),n=C("p"),r=E("Showing "),s=E(d),o=E(" of "),i=E(f),a=E(" entries.\n        "),l=C("button"),l.textContent="Clear Filters",A(l,"class","text-secondary underline hover:no-underline"),A(n,"class","text-xs text-subtle"),A(t,"class","mt-4")},m(d,f){_(d,t,f),x(t,n),x(n,r),x(n,s),x(n,o),x(n,i),x(n,a),x(n,l),c||(u=j(l,"click",e[25]),c=!0)},p(e,t){256&t[0]&&d!==(d=e[8].length+"")&&B(s,d),1&t[0]&&f!==(f=e[0].stbl.numEntries+"")&&B(i,f)},d(e){e&&S(t),c=!1,u()}}}function rc(e){let t,n,r,s,o,i;function a(t){e[31](t)}function l(t){e[32](t)}function c(t){e[33](t)}var u=e[5].component;function d(e){let t={};return void 0!==e[0]&&(t.project=e[0]),void 0!==e[1]&&(t.selectionGroup=e[1]),void 0!==e[9]&&(t.sliceToRender=e[9]),{props:t}}return u&&(t=new u(d(e)),J.push((()=>Ee(t,"project",a))),J.push((()=>Ee(t,"selectionGroup",l))),J.push((()=>Ee(t,"sliceToRender",c)))),{c(){t&&Te(t.$$.fragment),o=L()},m(e,n){t&&Le(t,e,n),_(e,o,n),i=!0},p(e,i){const f={};if(!n&&1&i[0]&&(n=!0,f.project=e[0],se((()=>n=!1))),!r&&2&i[0]&&(r=!0,f.selectionGroup=e[1],se((()=>r=!1))),!s&&512&i[0]&&(s=!0,f.sliceToRender=e[9],se((()=>s=!1))),u!==(u=e[5].component)){if(t){pe();const e=t;be(e.$$.fragment,1,0,(()=>{je(e,1)})),me()}u?(t=new u(d(e)),J.push((()=>Ee(t,"project",a))),J.push((()=>Ee(t,"selectionGroup",l))),J.push((()=>Ee(t,"sliceToRender",c))),Te(t.$$.fragment),ge(t.$$.fragment,1),Le(t,o.parentNode,o)):t=null}else u&&t.$set(f)},i(e){i||(t&&ge(t.$$.fragment,e),i=!0)},o(e){t&&be(t.$$.fragment,e),i=!1},d(e){e&&S(o),t&&je(t,e)}}}function sc(e){let t,n,r,s,o,i;function a(t){e[28](t)}function l(t){e[29](t)}function c(t){e[30](t)}var u=e[5].component;function d(e){let t={};return void 0!==e[0]&&(t.project=e[0]),void 0!==e[6]&&(t.locale=e[6]),void 0!==e[9]&&(t.sliceToRender=e[9]),{props:t}}return u&&(t=new u(d(e)),J.push((()=>Ee(t,"project",a))),J.push((()=>Ee(t,"locale",l))),J.push((()=>Ee(t,"sliceToRender",c)))),{c(){t&&Te(t.$$.fragment),o=L()},m(e,n){t&&Le(t,e,n),_(e,o,n),i=!0},p(e,i){const f={};if(!n&&1&i[0]&&(n=!0,f.project=e[0],se((()=>n=!1))),!r&&64&i[0]&&(r=!0,f.locale=e[6],se((()=>r=!1))),!s&&512&i[0]&&(s=!0,f.sliceToRender=e[9],se((()=>s=!1))),u!==(u=e[5].component)){if(t){pe();const e=t;be(e.$$.fragment,1,0,(()=>{je(e,1)})),me()}u?(t=new u(d(e)),J.push((()=>Ee(t,"project",a))),J.push((()=>Ee(t,"locale",l))),J.push((()=>Ee(t,"sliceToRender",c))),Te(t.$$.fragment),ge(t.$$.fragment,1),Le(t,o.parentNode,o)):t=null}else u&&t.$set(f)},i(e){i||(t&&ge(t.$$.fragment,e),i=!0)},o(e){t&&be(t.$$.fragment,e),i=!1},d(e){e&&S(o),t&&je(t,e)}}}function oc(e){let t,n,r,s,o;function i(t){e[26](t)}function a(t){e[27](t)}var l=e[5].component;function c(e){let t={};return void 0!==e[0]&&(t.project=e[0]),void 0!==e[10]&&(t.saveJson=e[10]),{props:t}}return l&&(t=new l(c(e)),J.push((()=>Ee(t,"project",i))),J.push((()=>Ee(t,"saveJson",a)))),{c(){t&&Te(t.$$.fragment),s=L()},m(e,n){t&&Le(t,e,n),_(e,s,n),o=!0},p(e,o){const u={};if(!n&&1&o[0]&&(n=!0,u.project=e[0],se((()=>n=!1))),!r&&1024&o[0]&&(r=!0,u.saveJson=e[10],se((()=>r=!1))),l!==(l=e[5].component)){if(t){pe();const e=t;be(e.$$.fragment,1,0,(()=>{je(e,1)})),me()}l?(t=new l(c(e)),J.push((()=>Ee(t,"project",i))),J.push((()=>Ee(t,"saveJson",a))),Te(t.$$.fragment),ge(t.$$.fragment,1),Le(t,s.parentNode,s)):t=null}else l&&t.$set(u)},i(e){o||(t&&ge(t.$$.fragment,e),o=!0)},o(e){t&&be(t.$$.fragment,e),o=!1},d(e){e&&S(s),t&&je(t,e)}}}function ic(e){let t,n,r;function s(t){e[37](t)}let o={onClose:e[36]};return void 0!==e[3]&&(o.filters=e[3]),t=new Pl({props:o}),J.push((()=>Ee(t,"filters",s))),{c(){Te(t.$$.fragment)},m(e,n){Le(t,e,n),r=!0},p(e,r){const s={};16384&r[0]&&(s.onClose=e[36]),!n&&8&r[0]&&(n=!0,s.filters=e[3],se((()=>n=!1))),t.$set(s)},i(e){r||(ge(t.$$.fragment,e),r=!0)},o(e){be(t.$$.fragment,e),r=!1},d(e){je(t,e)}}}function ac(e){let t,n,r;function s(t){e[39](t)}let o={onClose:e[38]};return void 0!==e[13]&&(o.warnings=e[13]),t=new Vl({props:o}),J.push((()=>Ee(t,"warnings",s))),{c(){Te(t.$$.fragment)},m(e,n){Le(t,e,n),r=!0},p(e,r){const s={};4096&r[0]&&(s.onClose=e[38]),!n&&8192&r[0]&&(n=!0,s.warnings=e[13],se((()=>n=!1))),t.$set(s)},i(e){r||(ge(t.$$.fragment,e),r=!0)},o(e){be(t.$$.fragment,e),r=!1},d(e){je(t,e)}}}function lc(e){let t,n,r,s,o,i,a,l,c,u,d,f,h,p,m,g,b,y,v,$,w,k,j,R,N,D,I=e[5].name+"",O=[],P=new Map,z=e[16];const M=e=>e[43];for(let t=0;t<z.length;t+=1){let n=Zl(e,z,t),r=M(n);P.set(r,O[t]=Jl(r,n))}const F=[Ql,Xl,Yl],H=[];function U(e,t){return"selectable"===e[5].utilities?0:"json"===e[5].utilities?1:"translate"===e[5].utilities&&e[0].metaData.numLocales>1?2:-1}~(d=U(e))&&(f=H[d]=F[d](e));let W="translate"===e[5].utilities&&e[0].metaData.numLocales>1&&tc(e),q=e[3].length>0&&nc(e);const G=[oc,sc,rc],K=[];function V(e,t){return"json"===e[5].utilities?0:"translate"===e[5].utilities?1:2}function Z(t){e[35](t)}b=V(e),y=K[b]=G[b](e);let Y={onSliceUpdate:e[34]};void 0!==e[8]&&(Y.items=e[8]),w=new _l({props:Y}),J.push((()=>Ee(w,"items",Z)));let X=e[14]&&ic(e),Q=e[12]&&ac(e);return{c(){t=C("div"),n=C("div"),r=C("div"),s=C("p"),o=E(I),i=E(" VIEW"),a=T(),l=C("div");for(let e=0;e<O.length;e+=1)O[e].c();c=T(),u=C("div"),f&&f.c(),h=T(),W&&W.c(),p=T(),q&&q.c(),m=T(),g=C("div"),y.c(),v=T(),$=C("div"),Te(w.$$.fragment),j=T(),X&&X.c(),R=T(),Q&&Q.c(),N=L(),A(s,"class","text-subtle text-sm uppercase font-bold"),A(l,"class","flex gap-2"),A(r,"class","flex flex-col gap-2"),A(u,"class","mt-4 sm:mt-4"),A(n,"class","w-full flex justify-between sm:items-center flex-wrap sm:flex-nowrap flex-col sm:flex-row"),A(g,"class","w-full mt-8"),$.hidden=e[15]},m(e,f){_(e,t,f),x(t,n),x(n,r),x(r,s),x(s,o),x(s,i),x(r,a),x(r,l);for(let e=0;e<O.length;e+=1)O[e].m(l,null);x(n,c),x(n,u),~d&&H[d].m(u,null),x(t,h),W&&W.m(t,null),x(t,p),q&&q.m(t,null),x(t,m),x(t,g),K[b].m(g,null),_(e,v,f),_(e,$,f),Le(w,$,null),_(e,j,f),X&&X.m(e,f),_(e,R,f),Q&&Q.m(e,f),_(e,N,f),D=!0},p(e,n){(!D||32&n[0])&&I!==(I=e[5].name+"")&&B(o,I),65552&n[0]&&(z=e[16],O=_e(O,n,M,1,e,z,P,l,we,Jl,null,Zl));let r=d;d=U(e),d===r?~d&&H[d].p(e,n):(f&&(pe(),be(H[r],1,1,(()=>{H[r]=null})),me()),~d?(f=H[d],f?f.p(e,n):(f=H[d]=F[d](e),f.c()),ge(f,1),f.m(u,null)):f=null),"translate"===e[5].utilities&&e[0].metaData.numLocales>1?W?(W.p(e,n),33&n[0]&&ge(W,1)):(W=tc(e),W.c(),ge(W,1),W.m(t,p)):W&&(pe(),be(W,1,1,(()=>{W=null})),me()),e[3].length>0?q?q.p(e,n):(q=nc(e),q.c(),q.m(t,m)):q&&(q.d(1),q=null);let s=b;b=V(e),b===s?K[b].p(e,n):(pe(),be(K[s],1,1,(()=>{K[s]=null})),me(),y=K[b],y?y.p(e,n):(y=K[b]=G[b](e),y.c()),ge(y,1),y.m(g,null));const i={};512&n[0]&&(i.onSliceUpdate=e[34]),!k&&256&n[0]&&(k=!0,i.items=e[8],se((()=>k=!1))),w.$set(i),(!D||32768&n[0])&&($.hidden=e[15]),e[14]?X?(X.p(e,n),16384&n[0]&&ge(X,1)):(X=ic(e),X.c(),ge(X,1),X.m(R.parentNode,R)):X&&(pe(),be(X,1,1,(()=>{X=null})),me()),e[12]?Q?(Q.p(e,n),4096&n[0]&&ge(Q,1)):(Q=ac(e),Q.c(),ge(Q,1),Q.m(N.parentNode,N)):Q&&(pe(),be(Q,1,1,(()=>{Q=null})),me())},i(e){D||(ge(f),ge(W),ge(y),ge(w.$$.fragment,e),ge(X),ge(Q),D=!0)},o(e){be(f),be(W),be(y),be(w.$$.fragment,e),be(X),be(Q),D=!1},d(e){e&&S(t);for(let e=0;e<O.length;e+=1)O[e].d();~d&&H[d].d(),W&&W.d(),q&&q.d(),K[b].d(),e&&S(v),e&&S($),je(w),e&&S(j),X&&X.d(e),e&&S(R),Q&&Q.d(e),e&&S(N)}}}function cc(e,t,n){let r,s,o,{project:i}=t,{selectionGroup:a}=t,l=i.stbl.entries,c=[],u=[],d=!1,f=!1,h=[];const p=[rt.subscribe("sortOrder",(()=>{n(0,i)}))];K((()=>{p.forEach((e=>e()))}));const m=[{name:"List",icon:"list-outline",component:Da,utilities:"selectable",pagination:!0},{name:"Grid",icon:"grid-outline",component:Qa,utilities:"selectable",pagination:!0},{name:"JSON",icon:"curly-braces",component:nl,utilities:"json",pagination:!1},{name:"Translate",icon:"language-outline",component:ml,utilities:"translate",pagination:!0}];let g=Math.min(nt.projectView,m.length-1),b=m[g],y=0,v=!1;return e.$$set=e=>{"project"in e&&n(0,i=e.project),"selectionGroup"in e&&n(1,a=e.selectionGroup)},e.$$.update=()=>{1&e.$$.dirty[0]&&n(13,h=i.stbl.getIssues()),48&e.$$.dirty[0]&&(n(5,b=m[g]),n(2,nt.projectView=g,nt),"json"!==b.utilities&&n(10,o=void 0)),13&e.$$.dirty[0]&&n(8,l=jl(i.stbl.primaryLocale,i.stbl.entries,nt.sortOrder,u)),33&e.$$.dirty[0]&&n(15,r=!(b.pagination&&("translate"!==b.utilities||i.stbl.numLocales>1&&i.stbl.numEntries>0))),1&e.$$.dirty[0]&&n(7,s=i.stbl.otherLocales),192&e.$$.dirty[0]&&s&&!s.includes(y)&&n(6,y=s[0]??0),34&e.$$.dirty[0]&&"selectable"!==b.utilities&&a.toggleSelectMode(!1)},[i,a,nt,u,g,b,y,s,l,c,o,d,f,h,v,r,m,function(){o()&&(n(11,d=!0),setTimeout((()=>{n(11,d=!1)}),1e3))},e=>n(4,g=e),()=>n(12,f=!f),()=>n(14,v=!v),function(e){a=e,n(1,a)},function(e){y=e,n(6,y),n(7,s),n(0,i)},function(e){s=e,n(7,s),n(0,i)},function(t){e.$$.not_equal(nt.translateHideKeys,t)&&(nt.translateHideKeys=t,n(2,nt),n(4,g),n(5,b))},()=>n(3,u=[]),function(e){i=e,n(0,i)},function(e){o=e,n(10,o),n(4,g),n(5,b)},function(e){i=e,n(0,i)},function(e){y=e,n(6,y),n(7,s),n(0,i)},function(e){c=e,n(9,c)},function(e){i=e,n(0,i)},function(e){a=e,n(1,a)},function(e){c=e,n(9,c)},e=>{n(9,c=e)},function(e){l=e,n(8,l),n(0,i),n(3,u),n(2,nt),n(4,g),n(5,b)},()=>n(14,v=!1),function(e){u=e,n(3,u)},()=>n(12,f=!1),function(e){h=e,n(13,h),n(0,i)}]}class uc extends Re{constructor(e){super(),Ae(this,e,cc,lc,a,{project:0,selectionGroup:1},null,[-1,-1])}}function dc(e){let t,n,r,s;const o=e[3].default,i=u(o,e,e[2],null);return{c(){t=C("div"),i&&i.c(),A(t,"class","fixed top-0 right-0 bottom-0 left-0 z-40 bg-gray-400 bg-opacity-60 dark:bg-gray-900 dark:bg-opacity-60 hacker-bg-black-trans")},m(n,r){_(n,t,r),i&&i.m(t,null),e[4](t),s=!0},p(t,[n]){e=t,i&&i.p&&(!s||4&n)&&h(i,o,e,e[2],s?f(o,e[2],n,null):p(e[2]),null)},i(e){s||(ge(i,e),re((()=>{r&&r.end(1),n=ve(t,ft,{duration:nt.reduceMotion?0:350}),n.start()})),s=!0)},o(e){be(i,e),n&&n.invalidate(),r=$e(t,ft,{duration:nt.reduceMotion?0:200}),s=!1},d(n){n&&S(t),i&&i.d(n),e[4](null),n&&r&&r.end()}}}const fc="overlay-active";function hc(e,t,n){let r,s,o,{$$slots:i={},$$scope:a}=t,{onClose:l}=t;const c=[en("Escape",l)];function u(){const e=r.querySelectorAll("a, button, input, textarea, select");s=e[0],o=e[e.length-1]}function d(){document.contains(s)||u(),s?.focus()}function f(e){r.contains(e.relatedTarget)||(o===e.target?d():s===e.target&&(document.contains(o)||u(),o?.focus()))}function h(e){r.contains(e.target)||d()}return G((()=>{document.body.classList.add(fc),u(),window.addEventListener("focusin",h),window.addEventListener("focusout",f)})),K((()=>{document.body.classList.remove(fc),window.removeEventListener("focusin",h),window.removeEventListener("focusout",f),c.forEach((e=>e()))})),e.$$set=e=>{"onClose"in e&&n(1,l=e.onClose),"$$scope"in e&&n(2,a=e.$$scope)},[r,l,a,i,function(e){J[e?"unshift":"push"]((()=>{r=e,n(0,r)}))}]}class pc extends Re{constructor(e){super(),Ae(this,e,hc,dc,a,{onClose:1})}}function mc(e){let t,n;return t=new Cr({props:{onClose:e[11]}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.onClose=e[11]),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function gc(e){let t,n,r,s,a,l,c,u,d,f,h,p,m,g,b,y,v,$,w,k,E,R,B,N,D,I,O,P,z,M;function F(t){e[8](t)}let H={label:"Token Assistant"};function U(t){e[9](t)}void 0!==e[4]&&(H.checked=e[4]),u=new Yt({props:H}),J.push((()=>Ee(u,"checked",F)));let W={label:"Prompt Until Cancel"};function q(t){e[10](t)}void 0!==e[3]&&(W.checked=e[3]),p=new Yt({props:W}),J.push((()=>Ee(p,"checked",U)));let G={placeholder:"New string",fillWidth:!0,focusOnMount:!0,onEnter:e[6]};void 0!==e[2]&&(G.value=e[2]),b=new za({props:G}),J.push((()=>Ee(b,"value",q)));let K=e[4]&&mc(e);return{c(){t=C("div"),n=C("div"),r=C("div"),s=C("p"),s.textContent="new string",a=T(),l=C("div"),c=C("div"),Te(u.$$.fragment),f=T(),h=C("div"),Te(p.$$.fragment),g=T(),Te(b.$$.fragment),v=T(),$=C("div"),w=C("p"),w.innerHTML='Press <mark class="keystroke bg-gray-200 dark:bg-gray-700 hacker-bg-gray svelte-1kj9sxa">esc</mark>\n        to cancel,\n        <mark class="keystroke bg-gray-200 dark:bg-gray-700 hacker-bg-gray svelte-1kj9sxa">enter</mark>\n        to save, and\n        <mark class="keystroke bg-gray-200 dark:bg-gray-700 hacker-bg-gray svelte-1kj9sxa">shift</mark>\n        +\n        <mark class="keystroke bg-gray-200 dark:bg-gray-700 hacker-bg-gray svelte-1kj9sxa">enter</mark> for newlines.',k=T(),E=C("div"),R=C("button"),R.textContent="Cancel",B=T(),N=C("button"),N.textContent="Save",I=T(),K&&K.c(),O=L(),A(s,"class","text-subtle text-sm uppercase font-bold"),A(c,"class","max-w-min whitespace-nowrap"),A(h,"class","max-w-min whitespace-nowrap"),A(l,"class","flex gap-6"),A(r,"class","w-full flex justify-between"),A(w,"class","text-subtle text-xs"),A(R,"class","text-sm border-gray-400 dark:border-gray-600 hover:bg-gray-400 dark:hover:bg-gray-600 focus:bg-gray-400 dark:focus:bg-gray-600 hover:text-white dark:hover:text-white focus:text-white focus:hover:text-white hacker-border-gray hover:hacker-bg-gray hover:hacker-text-lime svelte-1kj9sxa"),A(N,"class","save text-sm svelte-1kj9sxa"),A(E,"class","flex gap-2"),A($,"class","w-full flex flex-wrap gap-2 justify-between items-center"),A(n,"class","flex flex-col gap-4 w-full rounded p-4 max-w-6xl mx-4 bg-gray-100 dark:bg-gray-800 hacker-bg-black"),A(t,"class","fixed left-0 right-0 bottom-0 pb-20 flex justify-center drop-shadow")},m(o,d){_(o,t,d),x(t,n),x(n,r),x(r,s),x(r,a),x(r,l),x(l,c),Le(u,c,null),x(l,f),x(l,h),Le(p,h,null),x(n,g),Le(b,n,null),x(n,v),x(n,$),x($,w),x($,k),x($,E),x(E,R),x(E,B),x(E,N),_(o,I,d),K&&K.m(o,d),_(o,O,d),P=!0,z||(M=[j(R,"click",(function(){i(e[0])&&e[0].apply(this,arguments)})),j(N,"click",e[5])],z=!0)},p(t,[n]){e=t;const r={};!d&&16&n&&(d=!0,r.checked=e[4],se((()=>d=!1))),u.$set(r);const s={};!m&&8&n&&(m=!0,s.checked=e[3],se((()=>m=!1))),p.$set(s);const o={};!y&&4&n&&(y=!0,o.value=e[2],se((()=>y=!1))),b.$set(o),e[4]?K?(K.p(e,n),16&n&&ge(K,1)):(K=mc(e),K.c(),ge(K,1),K.m(O.parentNode,O)):K&&(pe(),be(K,1,1,(()=>{K=null})),me())},i(t){P||(ge(u.$$.fragment,t),ge(p.$$.fragment,t),ge(b.$$.fragment,t),D||re((()=>{D=ve(n,ht,{y:20,duration:e[1].reduceMotion?0:350}),D.start()})),ge(K),P=!0)},o(e){be(u.$$.fragment,e),be(p.$$.fragment,e),be(b.$$.fragment,e),be(K),P=!1},d(e){e&&S(t),je(u),je(p),je(b),e&&S(I),K&&K.d(e),e&&S(O),z=!1,o(M)}}}function bc(e,t,n){let{project:r}=t,{onComplete:s}=t,o="",i=!1,a=!1;const l=nt.mainframeHacked,c=nt.rickGif;function u(){o.trim().length>0&&(r.addString(o),n(7,r)),i?n(2,o=""):s()}K((()=>{n(1,nt.mainframeHacked=l,nt),it.set(nt.rickGif),at.set(!1)}));return e.$$set=e=>{"project"in e&&n(7,r=e.project),"onComplete"in e&&n(0,s=e.onComplete)},e.$$.update=()=>{6&e.$$.dirty&&(nt.disableEasterEggs||function(e){/(^|\s)+(hack|mainframe|matrix|i'?m\s+in)\s*$/i.test(e)?n(1,nt.mainframeHacked=!0,nt):(nt.mainframeHacked&&!l&&n(1,nt.mainframeHacked=!1,nt),/(^|\s)+(give\s*\S*\s*up|let\s*\S*\s*down)\s*$/i.test(e)?it.set(!0):(c||it.set(!1),/(^|\s)+(gay|lgbt|lesbian|trans|bisexual)\s*$/i.test(e)?at.set(!0):at.set(!1)))}(o))},[s,nt,o,i,a,u,function(e){n(2,o=e),u()},r,function(e){a=e,n(4,a)},function(e){i=e,n(3,i)},function(e){o=e,n(2,o)},()=>n(4,a=!1)]}class yc extends Re{constructor(e){super(),Ae(this,e,bc,gc,a,{project:7,onComplete:0})}}function vc(e,t,n){const r=e.slice();return r[12]=t[n],r[14]=n,r}function $c(e,t){let n,r,s,o,i,a,l,c=t[12].key+"",u=t[12].string+"";return{key:e,first:null,c(){n=C("li"),r=C("p"),s=C("span"),o=E(c),i=E("\n                  = "),a=E(u),l=T(),A(s,"class","text-accent-primary-light dark:text-accent-primary-dark hacker-text-lime monospace"),A(r,"class","whitespace-nowrap text-ellipsis overflow-x-hidden"),A(n,"class","px-2 max-w-max"),this.first=n},m(e,t){_(e,n,t),x(n,r),x(r,s),x(s,o),x(r,i),x(r,a),x(n,l)},p(e,n){t=e},d(e){e&&S(n)}}}function xc(e){let t,n,r,s,o,i,a,l,c,u,d,f,h,p=[],m=new Map,g=e[2];const b=e=>e[14];for(let t=0;t<g.length;t+=1){let n=vc(e,g,t),r=b(n);m.set(r,p[t]=$c(r,n))}function y(t){e[7](t)}function v(t){e[8](t)}let $={label:'type "delete" to confirm',name:"deletion-confirmation-input",placeholder:"Delete",focusOnMount:!0,fillWidth:!0,validators:[{test:_c,message:'Value must be "Delete"'}]};return void 0!==e[0]&&($.value=e[0]),void 0!==e[1].nextButtonEnabled&&($.isValid=e[1].nextButtonEnabled),l=new vn({props:$}),J.push((()=>Ee(l,"value",y))),J.push((()=>Ee(l,"isValid",v))),{c(){t=C("div"),n=C("p"),n.textContent="Are you sure you want to permanently delete the following strings?",r=T(),s=C("div"),o=C("ul");for(let e=0;e<p.length;e+=1)p[e].c();i=T(),a=C("div"),Te(l.$$.fragment),d=T(),f=C("p"),f.textContent="Deleted strings cannot be recovered. Once they're gone, they're gone.",A(n,"class","mb-4"),A(o,"class","list-disc pl-8 flex flex-col"),A(s,"class","max-h-24 overflow-x-hidden overflow-y-auto"),A(a,"class","my-6"),A(f,"class","text-subtle text-xs")},m(e,c){_(e,t,c),x(t,n),x(t,r),x(t,s),x(s,o);for(let e=0;e<p.length;e+=1)p[e].m(o,null);x(t,i),x(t,a),Le(l,a,null),x(t,d),x(t,f),h=!0},p(e,t){4&t&&(g=e[2],p=_e(p,t,b,1,e,g,m,o,we,$c,null,vc));const n={};!c&&1&t&&(c=!0,n.value=e[0],se((()=>c=!1))),!u&&2&t&&(u=!0,n.isValid=e[1].nextButtonEnabled,se((()=>u=!1))),l.$set(n)},i(e){h||(ge(l.$$.fragment,e),h=!0)},o(e){be(l.$$.fragment,e),h=!1},d(e){e&&S(t);for(let e=0;e<p.length;e+=1)p[e].d();je(l)}}}function wc(e){let t,n,r,s;function o(t){e[9](t)}let i={pageNumber:1,$$slots:{default:[xc]},$$scope:{ctx:e}};return void 0!==e[1]&&(i.state=e[1]),n=new Pn({props:i}),J.push((()=>Ee(n,"state",o))),{c(){t=C("div"),Te(n.$$.fragment),A(t,"slot","content"),A(t,"class","w-full")},m(e,r){_(e,t,r),Le(n,t,null),s=!0},p(e,t){const s={};32771&t&&(s.$$scope={dirty:t,ctx:e}),!r&&2&t&&(r=!0,s.state=e[1],se((()=>r=!1))),n.$set(s)},i(e){s||(ge(n.$$.fragment,e),s=!0)},o(e){be(n.$$.fragment,e),s=!1},d(e){e&&S(t),je(n)}}}function kc(e){let t,n,r;function s(t){e[10](t)}let o={title:"Delete Strings",numPages:1,centerVertically:!0,completeButton:"Delete",onLastPageComplete:e[3],$$slots:{content:[wc]},$$scope:{ctx:e}};return void 0!==e[1]&&(o.state=e[1]),t=new Nn({props:o}),J.push((()=>Ee(t,"state",s))),{c(){Te(t.$$.fragment)},m(e,n){Le(t,e,n),r=!0},p(e,[r]){const s={};32771&r&&(s.$$scope={dirty:r,ctx:e}),!n&&2&r&&(n=!0,s.state=e[1],se((()=>n=!1))),t.$set(s)},i(e){r||(ge(t.$$.fragment,e),r=!0)},o(e){be(t.$$.fragment,e),r=!1},d(e){je(t,e)}}}const _c=e=>"delete"===e.toLowerCase().trim();function Sc(e,t,n){const{formatStringKey:r}=window.S4TK.formatting;let{onComplete:s}=t,{project:o}=t,{selectionGroup:i}=t;const a=i.allSelectedItems.map((e=>({key:r(e.key),string:o.stbl.getValue(e.id)})));let l="",c={currentPage:1,nextButtonEnabled:!1};return e.$$set=e=>{"onComplete"in e&&n(5,s=e.onComplete),"project"in e&&n(4,o=e.project),"selectionGroup"in e&&n(6,i=e.selectionGroup)},[l,c,a,function(){o.deleteStrings(i.allSelectedKeys),n(4,o),s()},o,s,i,function(e){l=e,n(0,l)},function(t){e.$$.not_equal(c.nextButtonEnabled,t)&&(c.nextButtonEnabled=t,n(1,c))},function(e){c=e,n(1,c)},function(e){c=e,n(1,c)}]}class Cc extends Re{constructor(e){super(),Ae(this,e,Sc,kc,a,{onComplete:5,project:4,selectionGroup:6})}}function Ec(e,t,n){const r=e.slice();return r[10]=t[n],r[12]=n,r}function Tc(e,t){let n,r,s,o,i,a,l,c,u,d,f,h=t[10].oldKeyString+"",p=t[10].newKeyString+"",m=t[10].string+"";return{key:e,first:null,c(){n=C("li"),r=C("p"),s=C("span"),o=E(h),i=E("\n                  →\n                  "),a=C("span"),l=E(p),c=E("\n                  ("),u=E(m),d=E(")"),f=T(),A(s,"class","text-accent-primary-light dark:text-accent-primary-dark hacker-text-lime monospace"),A(a,"class","text-accent-primary-light dark:text-accent-primary-dark hacker-text-lime monospace"),A(r,"class","whitespace-nowrap text-ellipsis overflow-x-hidden"),A(n,"class","px-2 max-w-max"),this.first=n},m(e,t){_(e,n,t),x(n,r),x(r,s),x(s,o),x(r,i),x(r,a),x(a,l),x(r,c),x(r,u),x(r,d),x(n,f)},p(e,n){t=e},d(e){e&&S(n)}}}function Lc(e){let t,n,r,s,o,i,a,l=[],c=new Map,u=e[1];const d=e=>e[12];for(let t=0;t<u.length;t+=1){let n=Ec(e,u,t),r=d(n);c.set(r,l[t]=Tc(r,n))}return{c(){t=C("div"),n=C("p"),n.textContent="Are you sure you want to rehash the following strings?",r=T(),s=C("div"),o=C("ul");for(let e=0;e<l.length;e+=1)l[e].c();i=T(),a=C("p"),a.textContent="This action cannot be undone. You'll have to update keys in tuning.",A(o,"class","list-disc pl-8 flex flex-col"),A(s,"class","my-4 max-h-24 overflow-x-hidden overflow-y-auto"),A(a,"class","text-subtle text-xs")},m(e,c){_(e,t,c),x(t,n),x(t,r),x(t,s),x(s,o);for(let e=0;e<l.length;e+=1)l[e].m(o,null);x(t,i),x(t,a)},p(e,t){2&t&&(u=e[1],l=_e(l,t,d,1,e,u,c,o,we,Tc,null,Ec))},d(e){e&&S(t);for(let e=0;e<l.length;e+=1)l[e].d()}}}function jc(e){let t,n,r,s;function o(t){e[6](t)}let i={pageNumber:1,$$slots:{default:[Lc]},$$scope:{ctx:e}};return void 0!==e[0]&&(i.state=e[0]),n=new Pn({props:i}),J.push((()=>Ee(n,"state",o))),{c(){t=C("div"),Te(n.$$.fragment),A(t,"slot","content"),A(t,"class","w-full")},m(e,r){_(e,t,r),Le(n,t,null),s=!0},p(e,t){const s={};8192&t&&(s.$$scope={dirty:t,ctx:e}),!r&&1&t&&(r=!0,s.state=e[0],se((()=>r=!1))),n.$set(s)},i(e){s||(ge(n.$$.fragment,e),s=!0)},o(e){be(n.$$.fragment,e),s=!1},d(e){e&&S(t),je(n)}}}function Ac(e){let t,n,r;function s(t){e[7](t)}let o={title:"Rehash Keys",numPages:1,centerVertically:!0,completeButton:"Rehash",onLastPageComplete:e[2],$$slots:{content:[jc]},$$scope:{ctx:e}};return void 0!==e[0]&&(o.state=e[0]),t=new Nn({props:o}),J.push((()=>Ee(t,"state",s))),{c(){Te(t.$$.fragment)},m(e,n){Le(t,e,n),r=!0},p(e,[r]){const s={};8193&r&&(s.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,s.state=e[0],se((()=>n=!1))),t.$set(s)},i(e){r||(ge(t.$$.fragment,e),r=!0)},o(e){be(t.$$.fragment,e),r=!1},d(e){je(t,e)}}}function Rc(e,t,n){const{fnv32:r}=window.S4TK.hashing,{formatStringKey:s}=window.S4TK.formatting;let{onComplete:o}=t,{project:i}=t,{selectionGroup:a}=t;const l=a.allSelectedItems.map((e=>{const t=r(`${i.uuid}:${hs()}`);return{id:e.id,oldKeyString:s(e.key),newKey:t,newKeyString:s(t),string:i.stbl.getValue(e.id)}}));let c={currentPage:1,nextButtonEnabled:!0};return e.$$set=e=>{"onComplete"in e&&n(4,o=e.onComplete),"project"in e&&n(3,i=e.project),"selectionGroup"in e&&n(5,a=e.selectionGroup)},[c,l,function(){i.updateKeys(l),n(3,i),o()},i,o,a,function(e){c=e,n(0,c)},function(e){c=e,n(0,c)}]}class Bc extends Re{constructor(e){super(),Ae(this,e,Rc,Ac,a,{onComplete:4,project:3,selectionGroup:5})}}function Nc(e,t,n){const r=e.slice();return r[19]=t[n],r[21]=n,r}function Dc(t){let n,r,s;return{c(){n=C("p"),n.textContent="Resolving string tables...",r=T(),s=C("p"),s.textContent="This shouldn't take long. If you're stuck on this page, something\n            likely went wrong. Please reload and try again.",A(s,"class","text-xs text-subtle")},m(e,t){_(e,n,t),_(e,r,t),_(e,s,t)},p:e,i:e,o:e,d(e){e&&S(n),e&&S(r),e&&S(s)}}}function Ic(e){let t,n,r,s,o,i,a,l,c,u,d,f,h,p,m,g,b=e[4].numEntries+"",y=e[4].numLocales+"",v=[],$=new Map;function w(t){e[13](t)}let k={alignRight:!0,localesToChoose:e[4].allLocales};void 0!==e[1]&&(k.selected=e[1]),u=new cr({props:k}),J.push((()=>Ee(u,"selected",w)));let L=e[4].entries;const j=e=>e[21];for(let t=0;t<L.length;t+=1){let n=Nc(e,L,t),r=j(n);$.set(r,v[t]=Oc(r,n))}let R=e[3]>0&&Pc(e);return{c(){t=C("div"),n=C("div"),r=C("p"),s=E("Importing "),o=E(b),i=E(" string(s) in "),a=E(y),l=E("\n                locale(s)."),c=T(),Te(u.$$.fragment),f=T(),h=C("div"),p=C("ul");for(let e=0;e<v.length;e+=1)v[e].c();m=T(),R&&R.c(),A(n,"class","flex flex-col items-start sm:flex-row sm:justify-between sm:items-center gap-4"),A(p,"class","list-disc pl-8 flex flex-col"),A(h,"class","my-6 max-h-24 overflow-x-hidden overflow-y-auto")},m(e,d){_(e,t,d),x(t,n),x(n,r),x(r,s),x(r,o),x(r,i),x(r,a),x(r,l),x(n,c),Le(u,n,null),x(t,f),x(t,h),x(h,p);for(let e=0;e<v.length;e+=1)v[e].m(p,null);x(t,m),R&&R.m(t,null),g=!0},p(e,n){(!g||16&n)&&b!==(b=e[4].numEntries+"")&&B(o,b),(!g||16&n)&&y!==(y=e[4].numLocales+"")&&B(a,y);const r={};16&n&&(r.localesToChoose=e[4].allLocales),!d&&2&n&&(d=!0,r.selected=e[1],se((()=>d=!1))),u.$set(r),82&n&&(L=e[4].entries,v=_e(v,n,j,1,e,L,$,p,we,Oc,null,Nc)),e[3]>0?R?(R.p(e,n),8&n&&ge(R,1)):(R=Pc(e),R.c(),ge(R,1),R.m(t,null)):R&&(pe(),be(R,1,1,(()=>{R=null})),me())},i(e){g||(ge(u.$$.fragment,e),ge(R),g=!0)},o(e){be(u.$$.fragment,e),be(R),g=!1},d(e){e&&S(t),je(u);for(let e=0;e<v.length;e+=1)v[e].d();R&&R.d()}}}function Oc(e,t){let n,r,s,o,i,a,l,c=t[6](t[19].key)+"",u=d()+"";function d(){return t[14](t[19])}return{key:e,first:null,c(){n=C("li"),r=C("p"),s=C("span"),o=E(c),i=E("\n                      = "),a=new P(!1),l=T(),A(s,"class","text-accent-primary-light dark:text-accent-primary-dark hacker-text-lime monospace"),a.a=null,A(r,"class","whitespace-nowrap text-ellipsis overflow-x-hidden"),A(n,"class","px-2 max-w-max"),this.first=n},m(e,t){_(e,n,t),x(n,r),x(r,s),x(s,o),x(r,i),a.m(u,r),x(n,l)},p(e,n){t=e,16&n&&c!==(c=t[6](t[19].key)+"")&&B(o,c),18&n&&u!==(u=d()+"")&&a.p(u)},d(e){e&&S(n)}}}function Pc(e){let t,n,r,s,o,i,a,l,c,u;function d(t){e[15](t)}let f={label:"Overwrite keys"};return void 0!==e[2]&&(f.checked=e[2]),l=new Yt({props:f}),J.push((()=>Ee(l,"checked",d))),{c(){t=C("p"),n=C("span"),n.textContent="WARNING:",r=T(),s=E(e[3]),o=E(" entries have keys that are already in use. You\n                can either add them as-is, or overwrite the existing ones."),i=T(),a=C("div"),Te(l.$$.fragment),A(n,"class","text-red-600 dark:text-red-400 font-bold"),A(t,"class","text-subtle text-xs mb-4"),A(a,"class","whitespace-nowrap max-w-min")},m(e,c){_(e,t,c),x(t,n),x(t,r),x(t,s),x(t,o),_(e,i,c),_(e,a,c),Le(l,a,null),u=!0},p(e,t){(!u||8&t)&&B(s,e[3]);const n={};!c&&4&t&&(c=!0,n.checked=e[2],se((()=>c=!1))),l.$set(n)},i(e){u||(ge(l.$$.fragment,e),u=!0)},o(e){be(l.$$.fragment,e),u=!1},d(e){e&&S(t),e&&S(i),e&&S(a),je(l)}}}function zc(e){let t,n,r,s,o,i;const a=[Ic,Dc],l=[];function c(e,t){return 16&t&&(n=null),null==n&&(n=!!Boolean(e[4])),n?0:1}return r=c(e,-1),s=l[r]=a[r](e),{c(){t=C("div"),s.c(),A(t,"class","flex flex-col gap-6")},m(e,n){_(e,t,n),l[r].m(t,null),i=!0},p(n,o){let i=r;r=c(e=n,o),r===i?l[r].p(e,o):(pe(),be(l[i],1,1,(()=>{l[i]=null})),me(),s=l[r],s?s.p(e,o):(s=l[r]=a[r](e),s.c()),ge(s,1),s.m(t,null))},i(e){i||(ge(s),o||re((()=>{o=ve(t,ft,{duration:nt.reduceMotion?0:500}),o.start()})),i=!0)},o(e){be(s),i=!1},d(e){e&&S(t),l[r].d()}}}function Mc(e){let t,n,r,s,o,i,a,l;function c(t){e[11](t)}function u(t){e[12](t)}let d={startingPageNumber:1};function f(t){e[16](t)}void 0!==e[0]&&(d.multipageState=e[0]),void 0!==e[5]&&(d.parseResult=e[5]),n=new li({props:d}),J.push((()=>Ee(n,"multipageState",c))),J.push((()=>Ee(n,"parseResult",u)));let h={pageNumber:3,$$slots:{default:[zc]},$$scope:{ctx:e}};return void 0!==e[0]&&(h.state=e[0]),i=new Pn({props:h}),J.push((()=>Ee(i,"state",f))),{c(){t=C("div"),Te(n.$$.fragment),o=T(),Te(i.$$.fragment),A(t,"slot","content"),A(t,"class","w-full")},m(e,r){_(e,t,r),Le(n,t,null),x(t,o),Le(i,t,null),l=!0},p(e,t){const o={};!r&&1&t&&(r=!0,o.multipageState=e[0],se((()=>r=!1))),!s&&32&t&&(s=!0,o.parseResult=e[5],se((()=>s=!1))),n.$set(o);const l={};4194334&t&&(l.$$scope={dirty:t,ctx:e}),!a&&1&t&&(a=!0,l.state=e[0],se((()=>a=!1))),i.$set(l)},i(e){l||(ge(n.$$.fragment,e),ge(i.$$.fragment,e),l=!0)},o(e){be(n.$$.fragment,e),be(i.$$.fragment,e),l=!1},d(e){e&&S(t),je(n),je(i)}}}function Fc(e){let t,n,r;function s(t){e[17](t)}let o={title:"Import Strings",numPages:3,minimumContentHeight:"230",centerVertically:!0,completeButton:"Import",canClickBack:!1,onLastPageComplete:e[7],$$slots:{content:[Mc]},$$scope:{ctx:e}};return void 0!==e[0]&&(o.state=e[0]),t=new Nn({props:o}),J.push((()=>Ee(t,"state",s))),{c(){Te(t.$$.fragment)},m(e,n){Le(t,e,n),r=!0},p(e,[r]){const s={};4194367&r&&(s.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,s.state=e[0],se((()=>n=!1))),t.$set(s)},i(e){r||(ge(t.$$.fragment,e),r=!0)},o(e){be(t.$$.fragment,e),r=!1},d(e){je(t,e)}}}function Hc(e,t,n){const{formatStringKey:r}=window.S4TK.formatting;let s,{project:o}=t,{onComplete:i}=t,a=o.stbl.primaryLocale,l=!1,c=0,u=!1,d=null,f={currentPage:1,nextButtonEnabled:!1};return e.$$set=e=>{"project"in e&&n(8,o=e.project),"onComplete"in e&&n(9,i=e.onComplete)},e.$$.update=()=>{1025&e.$$.dirty&&(3!==f.currentPage||u||(n(10,u=!0),async function(){try{const e=await qo(o.stbl.primaryLocale,d.stbls),t=o.stbl.keyMap;e.keyMap.forEach(((e,r)=>{t.has(r)&&n(3,++c)})),e.entries.forEach((e=>{if(t.has(e.key)){const n=t.get(e.key),r=o.stbl.getEntry(n);e.values.forEach(((t,n)=>{const s=r.values.get(n);s&&!t&&e.values.set(n,s)}))}})),n(4,s=e)}catch(e){console.error(e),alert("An exception was thrown while resolving your string tables. Check the console for the call stack, and please let me know about this issue ASAP."),i()}}()))},[f,a,l,c,s,d,r,function(){o.importEntries(s,l),n(8,o),i()},o,i,u,function(e){f=e,n(0,f)},function(e){d=e,n(5,d)},function(e){a=e,n(1,a)},e=>{const t=e.values.get(a);return t||'<span class="text-subtle">Empty string.</span>'},function(e){l=e,n(2,l)},function(e){f=e,n(0,f)},function(e){f=e,n(0,f)}]}class Uc extends Re{constructor(e){super(),Ae(this,e,Hc,Fc,a,{project:8,onComplete:9})}}function Wc(e){let t,n;return t=new pc({props:{onClose:e[6],$$slots:{default:[Gc]},$$scope:{ctx:e}}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};4121&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function qc(e){let t,n;return t=new on({props:{onClose:e[6],$$slots:{default:[Kc]},$$scope:{ctx:e}}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};4121&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function Gc(e){let t,r,s,o;const i=[{onComplete:e[6]},e[4]];function a(t){e[9](t)}var l=e[3];function c(e){let t={};for(let e=0;e<i.length;e+=1)t=n(t,i[e]);return void 0!==e[0]&&(t.project=e[0]),{props:t}}return l&&(t=new l(c(e)),J.push((()=>Ee(t,"project",a)))),{c(){t&&Te(t.$$.fragment),s=L()},m(e,n){t&&Le(t,e,n),_(e,s,n),o=!0},p(e,n){const o=80&n?Se(i,[64&n&&{onComplete:e[6]},16&n&&Ce(e[4])]):{};if(!r&&1&n&&(r=!0,o.project=e[0],se((()=>r=!1))),l!==(l=e[3])){if(t){pe();const e=t;be(e.$$.fragment,1,0,(()=>{je(e,1)})),me()}l?(t=new l(c(e)),J.push((()=>Ee(t,"project",a))),Te(t.$$.fragment),ge(t.$$.fragment,1),Le(t,s.parentNode,s)):t=null}else l&&t.$set(o)},i(e){o||(t&&ge(t.$$.fragment,e),o=!0)},o(e){t&&be(t.$$.fragment,e),o=!1},d(e){e&&S(s),t&&je(t,e)}}}function Kc(e){let t,r,s,o;const i=[{onComplete:e[6]},e[4]];function a(t){e[8](t)}var l=e[3];function c(e){let t={};for(let e=0;e<i.length;e+=1)t=n(t,i[e]);return void 0!==e[0]&&(t.project=e[0]),{props:t}}return l&&(t=new l(c(e)),J.push((()=>Ee(t,"project",a)))),{c(){t&&Te(t.$$.fragment),s=L()},m(e,n){t&&Le(t,e,n),_(e,s,n),o=!0},p(e,n){const o=80&n?Se(i,[64&n&&{onComplete:e[6]},16&n&&Ce(e[4])]):{};if(!r&&1&n&&(r=!0,o.project=e[0],se((()=>r=!1))),l!==(l=e[3])){if(t){pe();const e=t;be(e.$$.fragment,1,0,(()=>{je(e,1)})),me()}l?(t=new l(c(e)),J.push((()=>Ee(t,"project",a))),Te(t.$$.fragment),ge(t.$$.fragment,1),Le(t,s.parentNode,s)):t=null}else l&&t.$set(o)},i(e){o||(t&&ge(t.$$.fragment,e),o=!0)},o(e){t&&be(t.$$.fragment,e),o=!1},d(e){e&&S(s),t&&je(t,e)}}}function Vc(e){let t,n,r,s,o,i;t=new Ns({props:{buttonData:e[5]}});const a=[qc,Wc],l=[];function c(e,t){return e[1]?0:e[2]?1:-1}return~(r=c(e))&&(s=l[r]=a[r](e)),{c(){Te(t.$$.fragment),n=T(),s&&s.c(),o=L()},m(e,s){Le(t,e,s),_(e,n,s),~r&&l[r].m(e,s),_(e,o,s),i=!0},p(e,[n]){const i={};32&n&&(i.buttonData=e[5]),t.$set(i);let u=r;r=c(e),r===u?~r&&l[r].p(e,n):(s&&(pe(),be(l[u],1,1,(()=>{l[u]=null})),me()),~r?(s=l[r],s?s.p(e,n):(s=l[r]=a[r](e),s.c()),ge(s,1),s.m(o.parentNode,o)):s=null)},i(e){i||(ge(t.$$.fragment,e),ge(s),i=!0)},o(e){be(t.$$.fragment,e),be(s),i=!1},d(e){je(t,e),e&&S(n),~r&&l[r].d(e),e&&S(o)}}}function Zc(e,t,n){let r,{selectionGroup:s}=t,{project:o}=t;const i=e=>()=>{r||e()};let a,l,c,u=!1,d=!1;return e.$$set=e=>{"selectionGroup"in e&&n(7,s=e.selectionGroup),"project"in e&&n(0,o=e.project)},e.$$.update=()=>{128&e.$$.dirty&&n(5,c=s?.selectMode?[{color:"Orange",title:"Rehash",icon:"refresh",keybinding:"h",disabled:s.numSelected<1,onClick:i((()=>{n(4,l={selectionGroup:s}),n(3,a=Bc),n(1,u=!0)}))},{color:"Red",title:"Delete",icon:"trash",keybinding:"d",disabled:s.numSelected<1,onClick:i((()=>{n(4,l={selectionGroup:s}),n(3,a=Cc),n(1,u=!0)}))}]:[{color:"Cyan",title:"Download",icon:"download",keybinding:"s",onClick:i((()=>{nt.rickGif?window.open(Ye.rickRoll,"_blank"):(n(4,l={title:"Download Project"}),n(3,a=uo),n(1,u=!0))}))},{color:"Purple",title:"Import Strings",icon:"upload",keybinding:"u",onClick:i((()=>{n(4,l={}),n(3,a=Uc),n(1,u=!0)}))},{color:"Green",title:"New String",icon:"plus",keybinding:"n",onClick:i((()=>{n(4,l={}),n(3,a=yc),n(2,d=!0)}))}]),6&e.$$.dirty&&(r=u||d)},[o,u,d,a,l,c,function(){n(1,u=!1),n(2,d=!1),n(3,a=void 0),n(4,l=void 0)},s,function(e){o=e,n(0,o)},function(e){o=e,n(0,o)}]}class Jc extends Re{constructor(e){super(),Ae(this,e,Zc,Vc,a,{selectionGroup:7,project:0})}}function Yc(t){let n;return{c(){n=C("div"),n.innerHTML='<h1 class="text-2xl font-bold text-center drop-shadow text-gray-400 dark:text-gray-500">Loading project...</h1>',A(n,"class","w-full flex justify-center")},m(e,t){_(e,n,t)},p:e,i:e,o:e,d(e){e&&S(n)}}}function Xc(t){let n,r,s,i,a,l,c,u,d,f,h,p,m,g,b,y,v,$,w,k,L,R,B,N,D,I,O,P;return i=new Yr({props:{title:"Well, this sucks"}}),{c(){n=C("div"),r=C("div"),s=C("div"),Te(i.$$.fragment),a=T(),l=C("p"),l.innerHTML='It appears that this project has been corrupted. Please <a class="text-secondary" href="https://frankkmods.com/#/about" target="_blank">report this problem to me ASAP</a>.',c=T(),u=C("p"),u.textContent="I may be able to recover your project and prevent this issue from\n          occurring again. To help me help you, please send me:",d=T(),f=C("ul"),h=C("li"),p=E("The error message ("),m=C("button"),m.textContent="click to copy",g=E(")"),b=T(),y=C("li"),v=E("Your workspace JSON ("),$=C("button"),$.textContent="click to download",w=E(")"),k=T(),L=C("li"),L.textContent="What you did before you saw this error",R=T(),B=C("p"),B.textContent="Note that your workspace JSON is most likely in an invalid state. If\n          so, it will remain broken until you delete this project.",N=T(),D=C("p"),D.textContent="Please don't hate me",A(s,"class","mb-4"),A(l,"class","mb-4"),A(u,"class","mb-2"),A(m,"class","text-secondary underline hover:no-underline"),A($,"class","text-secondary underline hover:no-underline"),A(f,"class","list-disc pl-6"),A(B,"class","mt-4"),A(D,"class","mt-8 text-subtle text-xs"),A(r,"class","w-full xl:max-w-screen-xl px-4 flex flex-col justify-center"),A(n,"class","pt-10 flex-1 w-full flex justify-center")},m(e,o){_(e,n,o),x(n,r),x(r,s),Le(i,s,null),x(r,a),x(r,l),x(r,c),x(r,u),x(r,d),x(r,f),x(f,h),x(h,p),x(h,m),x(h,g),x(f,b),x(f,y),x(y,v),x(y,$),x(y,w),x(f,k),x(f,L),x(r,R),x(r,B),x(r,N),x(r,D),I=!0,O||(P=[j(m,"click",t[4]),j($,"click",t[5])],O=!0)},p:e,i(e){I||(ge(i.$$.fragment,e),I=!0)},o(e){be(i.$$.fragment,e),I=!1},d(e){e&&S(n),je(i),O=!1,o(P)}}}function Qc(e){let t,n,r,s,o,i,a,l,c,u,d,f,h;function p(t){e[7](t)}let m={};function g(t){e[8](t)}function b(t){e[9](t)}void 0!==e[0]&&(m.project=e[0]),t=new ba({props:m}),J.push((()=>Ee(t,"project",p)));let y={};function v(t){e[10](t)}function $(t){e[11](t)}void 0!==e[0]&&(y.project=e[0]),void 0!==e[3]&&(y.selectionGroup=e[3]),i=new uc({props:y}),J.push((()=>Ee(i,"project",g))),J.push((()=>Ee(i,"selectionGroup",b)));let w={};return void 0!==e[3]&&(w.selectionGroup=e[3]),void 0!==e[0]&&(w.project=e[0]),u=new Jc({props:w}),J.push((()=>Ee(u,"selectionGroup",v))),J.push((()=>Ee(u,"project",$))),{c(){Te(t.$$.fragment),r=T(),s=C("div"),o=C("div"),Te(i.$$.fragment),c=T(),Te(u.$$.fragment),A(o,"class","w-full xl:max-w-screen-xl"),A(s,"class","w-full flex justify-center px-4 py-8")},m(e,n){Le(t,e,n),_(e,r,n),_(e,s,n),x(s,o),Le(i,o,null),_(e,c,n),Le(u,e,n),h=!0},p(e,r){const s={};!n&&1&r&&(n=!0,s.project=e[0],se((()=>n=!1))),t.$set(s);const o={};!a&&1&r&&(a=!0,o.project=e[0],se((()=>a=!1))),!l&&8&r&&(l=!0,o.selectionGroup=e[3],se((()=>l=!1))),i.$set(o);const c={};!d&&8&r&&(d=!0,c.selectionGroup=e[3],se((()=>d=!1))),!f&&1&r&&(f=!0,c.project=e[0],se((()=>f=!1))),u.$set(c)},i(e){h||(ge(t.$$.fragment,e),ge(i.$$.fragment,e),ge(u.$$.fragment,e),h=!0)},o(e){be(t.$$.fragment,e),be(i.$$.fragment,e),be(u.$$.fragment,e),h=!1},d(e){je(t,e),e&&S(r),e&&S(s),je(i),e&&S(c),je(u,e)}}}function eu(e){let t,n,r,s,o,i,a;document.title=t="STBL Studio | "+(e[0]?.metaData.name??"Loading...");const l=[Qc,Xc,Yc],c=[];function u(e,t){return 4&t&&(s=null),e[1]?0:(null==s&&(s=!!Boolean(e[2])),s?1:2)}return o=u(e,-1),i=c[o]=l[o](e),{c(){n=T(),r=C("section"),i.c(),A(r,"class","w-full flex flex-col justify-center overflow-x-hidden"),I(r,"flex-1",!e[1])},m(e,t){_(e,n,t),_(e,r,t),c[o].m(r,null),a=!0},p(e,[n]){(!a||1&n)&&t!==(t="STBL Studio | "+(e[0]?.metaData.name??"Loading..."))&&(document.title=t);let s=o;o=u(e,n),o===s?c[o].p(e,n):(pe(),be(c[s],1,1,(()=>{c[s]=null})),me(),i=c[o],i?i.p(e,n):(i=c[o]=l[o](e),i.c()),ge(i,1),i.m(r,null)),2&n&&I(r,"flex-1",!e[1])},i(e){a||(ge(i),a=!0)},o(e){be(i),a=!1},d(e){e&&S(n),e&&S(r),c[o].d()}}}function tu(e,t,n){let r,s,o,i,{params:a}=t,l=!1;function c(){s.stbl.numEntries!==i?.selectables.length&&n(3,i=new ws(s.stbl.entries,"id",(()=>{n(3,i)})))}const u=[pt.subscribe((async e=>{if(e)if(r=e,n(0,s=e.projects.find((e=>e.uuid===a.uuid))),s){try{await s.loadStringTable()}catch(e){return console.error(e),void n(2,o=e.stack??e.toString())}c(),n(1,l=!0)}else Ue("/");else nt.hasWorkspace?xs.fromStorage().then((e=>{pt.set(e)})):Ue("/")}))];return K((()=>{u.forEach((e=>e()))})),e.$$set=e=>{"params"in e&&n(6,a=e.params)},e.$$.update=()=>{1&e.$$.dirty&&s?.hasStbl&&c()},[s,l,o,i,function(){navigator.clipboard.writeText(o)},function(){r.toJson().then((e=>{const t=new Blob([JSON.stringify(e)]);Ks(t,"StblStudioWorkspace.json")}))},a,function(e){s=e,n(0,s)},function(e){s=e,n(0,s)},function(e){i=e,n(3,i)},function(e){i=e,n(3,i)},function(e){s=e,n(0,s)}]}class nu extends Re{constructor(e){super(),Ae(this,e,tu,eu,a,{params:6})}}var ru=[{male:"Him",female:"Her",token:"SimPronounObjective",checked:!0},{male:"His",female:"Her",token:"SimPronounPossessiveDependent",checked:!0},{male:"His",female:"Hers",token:"SimPronounPossessiveIndependent",checked:!0},{male:"He",female:"She",token:"SimPronounSubjective",checked:!0},{male:"Himself",female:"Herself",token:"SimPronounReflexive",checked:!0}];function su(t){let n,r;return{c(){n=C("p"),n.textContent="Reading your files...",A(n,"class","mt-8 mb-0")},m(e,t){_(e,n,t)},i(e){r||re((()=>{r=ve(n,ht,{y:-20,duration:250}),r.start()}))},o:e,d(e){e&&S(n)}}}function ou(e){let t,n,r,s,o;function i(t){e[7](t)}let a={multiple:!0,label:"STBLs and/or Packages only",accept:".binary,.bnry,.stbl,.package",errorMessage:e[2]?"No English STBLs found":""};void 0!==e[1]&&(a.files=e[1]),n=new Xo({props:a}),J.push((()=>Ee(n,"files",i)));let l=e[0]&&su();return{c(){t=C("div"),Te(n.$$.fragment),s=T(),l&&l.c(),A(t,"class","mt-8 mb-6")},m(e,r){_(e,t,r),Le(n,t,null),x(t,s),l&&l.m(t,null),o=!0},p(e,[s]){const o={};4&s&&(o.errorMessage=e[2]?"No English STBLs found":""),!r&&2&s&&(r=!0,o.files=e[1],se((()=>r=!1))),n.$set(o),e[0]?l?1&s&&ge(l,1):(l=su(),l.c(),ge(l,1),l.m(t,null)):l&&(l.d(1),l=null)},i(e){o||(ge(n.$$.fragment,e),ge(l),o=!0)},o(e){be(n.$$.fragment,e),o=!1},d(e){e&&S(t),je(n),l&&l.d()}}}function iu(e,t){return[`\\{M\\d.${e}\\}\\{F(?<n>[\\d])\\.${t}\\}`,`\\{F(?<n>[\\d])\\.${t}\\}\\{M\\d.${e}\\}`]}function au(e,t,n){const{StringTableResource:r,Package:s}=window.S4TK.models,{BinaryResourceType:o,StringTableLocale:i}=window.S4TK.enums,{Buffer:a}=window.S4TK.Node;let l,c,u,d=!1,{numStblsToRead:f}=t,{isReadingFiles:h}=t,{onFilesRead:p}=t,{possibleReplacements:m}=t;function g(e,t){if("package"===e.split(".").at(-1))return s.extractResources(t,{resourceFilter:(e,t,n)=>e===o.StringTable&&i.getLocale(n)===i.English});{const n=function(e){try{const{t:t,g:n,i:r}=/(?<t>[a-fA-F\d]{8})[_!]?(?<g>[a-fA-F\d]{8})[_!]?(?<i>[a-fA-F\d]{16})/.exec(e).groups;return{type:parseInt(t,16),group:parseInt(n,16),instance:BigInt("0x"+r)}}catch(e){return{type:o.StringTable,group:0,instance:0n}}}(e);return[{key:n,value:r.from(t)}]}}function b(e){const t=[];return e.entries.forEach((e=>{const n=function(e){let t=e.value,n=e.value,r=e.value;return u.forEach((s=>{s.patterns.forEach((o=>{const i=new RegExp(o,"g");let a,l=[];for(;null!=(a=i.exec(e.value));)l.push(a.groups.n);l.forEach((e=>{const o=s.result.replace("#",e);t=t.replace(i,o),n=n.replace(i,(e=>`<span class="text-red-500 dark:text-red-400 font-bold">${e}</span>`)),r=r.replace(i,`<span class="text-emerald-500 dark:text-emerald-400 font-bold">${o}</span>`)}))}))})),t===e.value?void 0:(e.value=t,{key:e.key,from:n,to:r})}(e);n&&t.push(n)})),t}return e.$$set=e=>{"numStblsToRead"in e&&n(3,f=e.numStblsToRead),"isReadingFiles"in e&&n(0,h=e.isReadingFiles),"onFilesRead"in e&&n(4,p=e.onFilesRead),"possibleReplacements"in e&&n(5,m=e.possibleReplacements)},e.$$.update=()=>{98&e.$$.dirty&&l&&(n(0,h=!0),n(6,u=[]),m.forEach((e=>{var t,n,r;e.checked&&u.push(...(t=e.male,n=e.female,r=e.token,[{patterns:iu(t.toLowerCase(),n.toLowerCase()),result:`{#.${r}}`},{patterns:iu(t,n),result:`{#.${r}|xxUpper}`},{patterns:iu(t.toUpperCase(),n.toUpperCase()),result:`{#.${r}|xxAllCaps}`}]))})),async function(){n(2,d=!1);const e=[];for(let t=0;t<l.length;t++)try{const n=l[t],r=a.from(await n.arrayBuffer());e.push(...g(n.name,r))}catch(e){console.error(e)}n(3,f=e.length),0===e.length?(n(2,d=!0),n(0,h=!1),n(3,f=null)):(c=[],e.forEach((e=>{c.push({stbl:e,changes:b(e.value)})})),p(c))}())},[h,l,d,f,p,m,u,function(e){l=e,n(1,l)}]}class lu extends Re{constructor(e){super(),Ae(this,e,au,ou,a,{numStblsToRead:3,isReadingFiles:0,onFilesRead:4,possibleReplacements:5})}}function cu(t){let n,r,s,o,i,a,l,c,u,d,f,h,p;return{c(){n=C("div"),r=C("div"),s=C("p"),s.textContent="The Problem",o=T(),i=C("p"),a=E("The pronoun update is here, and there are new tokens to use instead\n            of M/F. Most M/F tokens still work, as the game automatically\n            replaces them at runtime. However, there are some issues. For\n            example, it doesn't always know what to do with "),l=C("code"),l.textContent="{F#.her}",c=E("\n            and\n            "),u=C("code"),u.textContent="{M#.his}",d=E(", since they each\n            have two meanings."),f=T(),h=C("div"),h.innerHTML='<p class="text-subtle text-sm uppercase font-bold">The Solution</p> \n          <ol class="list-disc pl-4"><li class="mb-2">Select which M/F pronouns you want to convert to gender-neutral\n              tokens.</li> \n            <li class="mb-2">Upload your strings to this website, either in string table\n              binaries or packages.</li> \n            <li>When the batch fix is done, you can review the changes that were\n              made and download your updated string tables.</li></ol>',A(s,"class","text-subtle text-sm uppercase font-bold"),A(l,"class","text-secondary"),A(u,"class","text-secondary"),A(r,"class","mt-4"),A(h,"class","my-4")},m(e,t){_(e,n,t),x(n,r),x(r,s),x(r,o),x(r,i),x(i,a),x(i,l),x(i,c),x(i,u),x(i,d),x(n,f),x(n,h)},i(e){p||re((()=>{p=ve(n,ft,{}),p.start()}))},o:e,d(e){e&&S(n)}}}function uu(t){let n,r,s,o,i,a,l,u,d,f,h,p,m,g,b,y,v=t[0]?"Hide":"Information",$=t[0]&&cu();return{c(){n=C("div"),r=C("div"),s=C("div"),o=C("h2"),o.textContent="Pronoun Batch Fix Tool",i=T(),a=C("button"),l=C("img"),f=T(),h=E(v),p=T(),$&&$.c(),m=T(),g=C("p"),g.innerHTML='Note that this tool only works for English, and will <strong class="text-subtle underline">not</strong> correct verb conjugation (i.e. &quot;they is&quot; → &quot;they are&quot;), as there is\n      currently no way to do so.',A(o,"class","font-bold text-2xl text-gradient drop-shadow"),A(l,"class","h-4"),c(l.src,u="./assets/"+(t[0]?"x":"help-circle-outline")+".svg")||A(l,"src",u),A(l,"alt",d=t[0]?"X":"?"),A(a,"class","default-button mt-4 sm:mt-0 text-sm flex items-center justify-center gap-2 rounded py-1 px-2 border border-black dark:border-white w-32"),A(s,"class","flex flex-col sm:flex-row justify-between"),A(g,"class","text-subtle text-xs mt-4"),A(r,"class","w-full xl:max-w-screen-xl px-4"),A(n,"class","flex justify-center pt-16 pb-8 bg-gray-50 dark:bg-gray-700 bottom-shadow hacker-bg-black hacker-border-b-gray")},m(e,c){_(e,n,c),x(n,r),x(r,s),x(s,o),x(s,i),x(s,a),x(a,l),x(a,f),x(a,h),x(r,p),$&&$.m(r,null),x(r,m),x(r,g),b||(y=j(a,"click",t[1]),b=!0)},p(e,[t]){1&t&&!c(l.src,u="./assets/"+(e[0]?"x":"help-circle-outline")+".svg")&&A(l,"src",u),1&t&&d!==(d=e[0]?"X":"?")&&A(l,"alt",d),1&t&&v!==(v=e[0]?"Hide":"Information")&&B(h,v),e[0]?$?1&t&&ge($,1):($=cu(),$.c(),ge($,1),$.m(r,m)):$&&($.d(1),$=null)},i(e){ge($)},o:e,d(e){e&&S(n),$&&$.d(),b=!1,y()}}}function du(e,t,n){let r=!1;return[r,()=>n(0,r=!r)]}class fu extends Re{constructor(e){super(),Ae(this,e,du,uu,a,{})}}function hu(e,t,n){const r=e.slice();return r[2]=t[n],r[3]=t,r[4]=n,r}function pu(e,t){let n,r,s,o,i;function a(e){t[1](e,t[2],t[3],t[4])}let l={label:t[2].male+"/"+t[2].female};return void 0!==t[2]&&(l.checkable=t[2]),r=new xo({props:l}),J.push((()=>Ee(r,"checkable",a))),{key:e,first:null,c(){n=C("div"),Te(r.$$.fragment),o=T(),A(n,"class","mr-4"),this.first=n},m(e,t){_(e,n,t),Le(r,n,null),x(n,o),i=!0},p(e,n){t=e;const o={};1&n&&(o.label=t[2].male+"/"+t[2].female),!s&&1&n&&(s=!0,o.checkable=t[2],se((()=>s=!1))),r.$set(o)},i(e){i||(ge(r.$$.fragment,e),i=!0)},o(e){be(r.$$.fragment,e),i=!1},d(e){e&&S(n),je(r)}}}function mu(e){let t,n,r,s,o,i=[],a=new Map,l=e[0];const c=e=>e[4];for(let t=0;t<l.length;t+=1){let n=hu(e,l,t),r=c(n);a.set(r,i[t]=pu(r,n))}return{c(){t=C("div"),n=C("p"),n.textContent="Pronouns to Replace",r=T(),s=C("div");for(let e=0;e<i.length;e+=1)i[e].c();A(n,"class","text-subtle uppercase text-sm font-bold mb-4"),A(s,"class","flex items-center flex-wrap"),A(t,"class","mt-4 mb-6")},m(e,a){_(e,t,a),x(t,n),x(t,r),x(t,s);for(let e=0;e<i.length;e+=1)i[e].m(s,null);o=!0},p(e,[t]){1&t&&(l=e[0],pe(),i=_e(i,t,c,1,e,l,a,s,ke,pu,null,hu),me())},i(e){if(!o){for(let e=0;e<l.length;e+=1)ge(i[e]);o=!0}},o(e){for(let e=0;e<i.length;e+=1)be(i[e]);o=!1},d(e){e&&S(t);for(let e=0;e<i.length;e+=1)i[e].d()}}}function gu(e,t,n){let{possibleReplacements:r}=t;return e.$$set=e=>{"possibleReplacements"in e&&n(0,r=e.possibleReplacements)},[r,function(e,t,s,o){s[o]=e,n(0,r)}]}class bu extends Re{constructor(e){super(),Ae(this,e,gu,mu,a,{possibleReplacements:0})}}function yu(e,t,n){const r=e.slice();return r[13]=t[n],r[15]=n,r}function vu(e){let t,n=[],r=new Map,s=e[5];const o=e=>e[15];for(let t=0;t<s.length;t+=1){let i=yu(e,s,t),a=o(i);r.set(a,n[t]=xu(a,i))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=L()},m(e,r){for(let t=0;t<n.length;t+=1)n[t].m(e,r);_(e,t,r)},p(e,i){160&i&&(s=e[5],n=_e(n,i,o,1,e,s,r,t.parentNode,we,xu,t,yu))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&S(t)}}}function $u(t){let n;return{c(){n=C("div"),n.innerHTML='<div><h3 class="mb-4 text-lg font-bold">No Changes!</h3> \n            <p class="text-subtle">This string table does not contain any pronouns that need to be\n              batch fixed.</p></div>',A(n,"class","no-changes flex items-center justify-center text-center svelte-pq7gg0")},m(e,t){_(e,n,t)},p:e,d(e){e&&S(n)}}}function xu(e,t){let n,r,s,o,i,a,l,c,u,d,f,h,p,m,g,b=t[7](t[13].key)+"",y=t[13].from+"",v=t[13].to+"";return{key:e,first:null,c(){n=C("div"),r=C("h4"),s=E(b),o=T(),i=C("div"),a=C("div"),l=C("p"),l.textContent="Before",c=T(),u=C("p"),d=T(),f=C("div"),h=C("p"),h.textContent="After",p=T(),m=C("p"),g=T(),A(r,"class","mb-4"),A(l,"class","text-sm uppercase font-bold text-subtle"),A(u,"class","text-subtle mt-2 mb-0"),A(a,"class","svelte-pq7gg0"),A(h,"class","text-sm uppercase font-bold text-subtle"),A(m,"class","text-subtle mt-2 mb-0"),A(f,"class","svelte-pq7gg0"),A(i,"class","comparison flex justify-between gap-4 svelte-pq7gg0"),A(n,"class","change-container mx-8 svelte-pq7gg0"),this.first=n},m(e,t){_(e,n,t),x(n,r),x(r,s),x(n,o),x(n,i),x(i,a),x(a,l),x(a,c),x(a,u),u.innerHTML=y,x(i,d),x(i,f),x(f,h),x(f,p),x(f,m),m.innerHTML=v,x(n,g)},p(e,n){t=e,32&n&&b!==(b=t[7](t[13].key)+"")&&B(s,b),32&n&&y!==(y=t[13].from+"")&&(u.innerHTML=y),32&n&&v!==(v=t[13].to+"")&&(m.innerHTML=v)},d(e){e&&S(n)}}}function wu(e){let t,n,r,s,o,i,a,l,c,u,d,f,h,p,m,g,b,y,v,$,w,k,L,j,R,N,D,I,O,P,z,M,F,H=e[3]+1+"",U=e[0].length+"",W=e[6](e[4].stbl.key.instance)+"",q=e[1]+1+"",G=e[4].changes.length+"";function K(e,t){return 0===e[5].length?$u:vu}s=new wn({props:{direction:"left",text:"Previous STBL",onClick:e[9],active:e[3]>0}}),b=new wn({props:{direction:"right",text:"Next STBL",active:e[3]<e[0].length-1,onClick:e[8]}});let V=K(e),Z=V(e);return k=new wn({props:{direction:"left",text:"Previous Strings",onClick:e[10],active:e[1]>0}}),M=new wn({props:{direction:"right",text:"Next Strings",active:e[2]<e[4].changes.length,onClick:e[11]}}),{c(){t=C("div"),n=C("div"),r=C("div"),Te(s.$$.fragment),o=T(),i=C("div"),a=C("h2"),l=E("String Table "),c=E(H),u=E(" of "),d=E(U),f=T(),h=C("p"),p=E("ID: "),m=E(W),g=T(),Te(b.$$.fragment),y=T(),v=C("div"),Z.c(),$=T(),w=C("div"),Te(k.$$.fragment),L=T(),j=C("p"),R=E("Showing changes "),N=E(q),D=E(" - "),I=E(e[2]),O=E(" of "),P=E(G),z=T(),Te(M.$$.fragment),A(a,"class","font-bold text-2xl text-gradient drop-shadow"),A(h,"class","text-subtle uppercase monospace text-sm mt-4"),A(i,"class","text-center"),A(r,"class","flex justify-between"),A(v,"class","batch-results-content my-8 svelte-pq7gg0"),A(j,"class","text-subtle text-sm"),A(w,"class","flex justify-between"),A(n,"class","w-full"),A(t,"class","pronoun-batch-results flex items-center w-full svelte-pq7gg0")},m(e,S){_(e,t,S),x(t,n),x(n,r),Le(s,r,null),x(r,o),x(r,i),x(i,a),x(a,l),x(a,c),x(a,u),x(a,d),x(i,f),x(i,h),x(h,p),x(h,m),x(r,g),Le(b,r,null),x(n,y),x(n,v),Z.m(v,null),x(n,$),x(n,w),Le(k,w,null),x(w,L),x(w,j),x(j,R),x(j,N),x(j,D),x(j,I),x(j,O),x(j,P),x(w,z),Le(M,w,null),F=!0},p(e,[t]){const n={};8&t&&(n.active=e[3]>0),s.$set(n),(!F||8&t)&&H!==(H=e[3]+1+"")&&B(c,H),(!F||1&t)&&U!==(U=e[0].length+"")&&B(d,U),(!F||16&t)&&W!==(W=e[6](e[4].stbl.key.instance)+"")&&B(m,W);const r={};9&t&&(r.active=e[3]<e[0].length-1),b.$set(r),V===(V=K(e))&&Z?Z.p(e,t):(Z.d(1),Z=V(e),Z&&(Z.c(),Z.m(v,null)));const o={};2&t&&(o.active=e[1]>0),k.$set(o),(!F||2&t)&&q!==(q=e[1]+1+"")&&B(N,q),(!F||4&t)&&B(I,e[2]),(!F||16&t)&&G!==(G=e[4].changes.length+"")&&B(P,G);const i={};20&t&&(i.active=e[2]<e[4].changes.length),M.$set(i)},i(e){F||(ge(s.$$.fragment,e),ge(b.$$.fragment,e),ge(k.$$.fragment,e),ge(M.$$.fragment,e),F=!0)},o(e){be(s.$$.fragment,e),be(b.$$.fragment,e),be(k.$$.fragment,e),be(M.$$.fragment,e),F=!1},d(e){e&&S(t),je(s),je(b),Z.d(),je(k),je(M)}}}function ku(e,t,n){const{formatResourceInstance:r,formatStringKey:s}=window.S4TK.formatting;let{batchFixResult:o}=t,i=0,a=0,l=0,c=o[l],u=d();function d(){const e=i+10;return n(2,a=e<=c.changes.length?e:c.changes.length),c.changes.slice(i,a)}return e.$$set=e=>{"batchFixResult"in e&&n(0,o=e.batchFixResult)},[o,i,a,l,c,u,r,s,function(){n(1,i=0),n(3,l++,l),n(4,c=o[l]),n(5,u=d())},function(){n(1,i=0),n(3,l--,l),n(4,c=o[l]),n(5,u=d())},function(){n(1,i-=10),n(5,u=d())},function(){n(1,i=a),n(5,u=d())}]}class _u extends Re{constructor(e){super(),Ae(this,e,ku,wu,a,{batchFixResult:0})}}function Su(t){let n,r,s,i,a,l,c,u,d,f,h;return r=new Yr({props:{title:"3) All set!"}}),{c(){n=C("div"),Te(r.$$.fragment),s=T(),i=C("div"),a=C("button"),a.innerHTML='<img class="h-6" src="./assets/eye-outline.svg" alt="Eye"/>\n                View',l=T(),c=C("button"),c.innerHTML='<img class="h-6" src="./assets/download.svg" alt="Download"/>\n                Download',A(a,"class","default-button flex items-center justify-center gap-4 px-4 py-2 text-lg rounded border border-black dark:border-white"),A(c,"class","default-button flex items-center justify-center gap-4 px-4 py-2 text-lg rounded border border-black dark:border-white"),A(i,"class","flex justify-around mt-4")},m(e,o){_(e,n,o),Le(r,n,null),x(n,s),x(n,i),x(i,a),x(i,l),x(i,c),d=!0,f||(h=[j(a,"click",t[11]),j(c,"click",t[6])],f=!0)},p:e,i(e){d||(ge(r.$$.fragment,e),u||re((()=>{u=ve(n,ht,{y:20,duration:250}),u.start()})),d=!0)},o(e){be(r.$$.fragment,e),d=!1},d(e){e&&S(n),je(r),f=!1,o(h)}}}function Cu(e){let t,n;return t=new on({props:{onClose:e[13],large:!0,fill:!0,$$slots:{default:[Eu]},$$scope:{ctx:e}}}),{c(){Te(t.$$.fragment)},m(e,r){Le(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.onClose=e[13]),32772&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ge(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){je(t,e)}}}function Eu(e){let t,n,r;function s(t){e[12](t)}let o={};return void 0!==e[2]&&(o.batchFixResult=e[2]),t=new _u({props:o}),J.push((()=>Ee(t,"batchFixResult",s))),{c(){Te(t.$$.fragment)},m(e,n){Le(t,e,n),r=!0},p(e,r){const s={};!n&&4&r&&(n=!0,s.batchFixResult=e[2],se((()=>n=!1))),t.$set(s)},i(e){r||(ge(t.$$.fragment,e),r=!0)},o(e){be(t.$$.fragment,e),r=!1},d(e){je(t,e)}}}function Tu(e){let t,n,r,s,o,i,a,l,c,u,d,f,h,p,m,g,b,y,v,$,w,k,E,j;function R(t){e[7](t)}r=new fu({}),c=new Yr({props:{title:"1) Select your replacements"}});let B={};function N(t){e[8](t)}function D(t){e[9](t)}function I(t){e[10](t)}void 0!==e[3]&&(B.possibleReplacements=e[3]),d=new bu({props:B}),J.push((()=>Ee(d,"possibleReplacements",R))),m=new Yr({props:{title:"2) Upload your string tables"}});let O={onFilesRead:e[5]};void 0!==e[0]&&(O.isReadingFiles=e[0]),void 0!==e[1]&&(O.numStblsToRead=e[1]),void 0!==e[3]&&(O.possibleReplacements=e[3]),b=new lu({props:O}),J.push((()=>Ee(b,"isReadingFiles",N))),J.push((()=>Ee(b,"numStblsToRead",D))),J.push((()=>Ee(b,"possibleReplacements",I)));let P=!e[0]&&null!=e[1]&&Su(e),z=e[4]&&Cu(e);return{c(){t=T(),n=C("section"),Te(r.$$.fragment),s=T(),o=C("div"),i=C("div"),a=C("div"),l=C("div"),Te(c.$$.fragment),u=T(),Te(d.$$.fragment),h=T(),p=C("div"),Te(m.$$.fragment),g=T(),Te(b.$$.fragment),w=T(),P&&P.c(),k=T(),z&&z.c(),E=L(),document.title="STBL Studio | Pronouns",A(a,"class","flex flex-col gap-6"),A(i,"class","w-full xl:max-w-screen-xl py-8 px-4"),A(o,"class","w-full flex justify-center"),A(n,"class","w-full flex flex-col justify-center")},m(e,f){_(e,t,f),_(e,n,f),Le(r,n,null),x(n,s),x(n,o),x(o,i),x(i,a),x(a,l),Le(c,l,null),x(l,u),Le(d,l,null),x(a,h),x(a,p),Le(m,p,null),x(p,g),Le(b,p,null),x(a,w),P&&P.m(a,null),_(e,k,f),z&&z.m(e,f),_(e,E,f),j=!0},p(e,[t]){const n={};!f&&8&t&&(f=!0,n.possibleReplacements=e[3],se((()=>f=!1))),d.$set(n);const r={};!y&&1&t&&(y=!0,r.isReadingFiles=e[0],se((()=>y=!1))),!v&&2&t&&(v=!0,r.numStblsToRead=e[1],se((()=>v=!1))),!$&&8&t&&($=!0,r.possibleReplacements=e[3],se((()=>$=!1))),b.$set(r),e[0]||null==e[1]?P&&(pe(),be(P,1,1,(()=>{P=null})),me()):P?(P.p(e,t),3&t&&ge(P,1)):(P=Su(e),P.c(),ge(P,1),P.m(a,null)),e[4]?z?(z.p(e,t),16&t&&ge(z,1)):(z=Cu(e),z.c(),ge(z,1),z.m(E.parentNode,E)):z&&(pe(),be(z,1,1,(()=>{z=null})),me())},i(e){j||(ge(r.$$.fragment,e),ge(c.$$.fragment,e),ge(d.$$.fragment,e),ge(m.$$.fragment,e),ge(b.$$.fragment,e),ge(P),ge(z),j=!0)},o(e){be(r.$$.fragment,e),be(c.$$.fragment,e),be(d.$$.fragment,e),be(m.$$.fragment,e),be(b.$$.fragment,e),be(P),be(z),j=!1},d(e){e&&S(t),e&&S(n),je(r),je(c),je(d),je(m),je(b),P&&P.d(),e&&S(k),z&&z.d(e),e&&S(E)}}}function Lu(e,t,n){const{Package:r}=window.S4TK.models;let s,o=!1,i=null,a=ru,l=!1;return[o,i,s,a,l,function(e){setTimeout((()=>{n(2,s=e),n(0,o=!1)}),500)},function(){const e=new r;s.forEach((({stbl:t})=>{e.add(t.key,t.value)}));const t=e.getBuffer(),n=new Blob([t]);Ks.saveAs(n,"PronounBatchFix.package")},function(e){a=e,n(3,a)},function(e){o=e,n(0,o)},function(e){i=e,n(1,i)},function(e){a=e,n(3,a)},()=>n(4,l=!0),function(e){s=e,n(2,s)},()=>n(4,l=!1)]}class ju extends Re{constructor(e){super(),Ae(this,e,Lu,Tu,a,{})}}function Au(t){let n,r,s,o,i,a,l,c,u;return n=new Br({}),o=new qe({props:{routes:t[0],restoreScrollState:!0}}),o.$on("routeLoaded",t[1]),a=new Or({}),c=new Vr({}),{c(){Te(n.$$.fragment),r=T(),s=C("main"),Te(o.$$.fragment),i=T(),Te(a.$$.fragment),l=T(),Te(c.$$.fragment),A(s,"class","min-h-screen flex flex-col")},m(e,t){Le(n,e,t),_(e,r,t),_(e,s,t),Le(o,s,null),_(e,i,t),Le(a,e,t),_(e,l,t),Le(c,e,t),u=!0},p:e,i(e){u||(ge(n.$$.fragment,e),ge(o.$$.fragment,e),ge(a.$$.fragment,e),ge(c.$$.fragment,e),u=!0)},o(e){be(n.$$.fragment,e),be(o.$$.fragment,e),be(a.$$.fragment,e),be(c.$$.fragment,e),u=!1},d(e){je(n,e),e&&S(r),e&&S(s),je(o),e&&S(i),je(a,e),e&&S(l),je(c,e)}}}function Ru(e){const t={"/batch-fix/pronouns":"/tools/pronouns"};return[{"/":la,"/project/:uuid":nu,"/tools/pronouns":ju,"*":Qr},function(e){const{location:n}=e.detail;n in t&&Ue(t[n])}]}const Bu=new class extends Re{constructor(e){super(),Ae(this,e,Ru,Au,a,{})}}({target:document.body});return window.addEventListener("load",(()=>{nt.mainframeHacked?Ve.toggleBooleanAttribute("data-hacker-theme",!0):Ve.toggleLightTheme(nt.isLightTheme,!1),Ve.toggleBooleanAttribute("data-monochrome-toolbar",nt.disableToolbarColors),Ve.toggleBooleanAttribute("data-allow-blur",!nt.disableBlur)})),Bu}();
//# sourceMappingURL=bundle.js.map
